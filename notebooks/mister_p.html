<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Multilevel Regression and Post-stratification – Bambi</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../notebooks/ordinal_regression.html" rel="next">
<link href="../notebooks/quantile_regression.html" rel="prev">
<link href="../logos/favicon.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../logos/RGB/Bambi_logo.png" alt="bambi-home" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../notebooks/getting_started.html"> 
<span class="menu-text">Getting Started</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../api/index.html"> 
<span class="menu-text">API Reference</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../notebooks/index.html" aria-current="page"> 
<span class="menu-text">Examples</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../faq.html"> 
<span class="menu-text">FAQ</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../changelog.html"> 
<span class="menu-text">Changelog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../contact.html"> 
<span class="menu-text">Contact</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/bambinos/bambi"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notebooks/logistic_regression.html">Generalized linear models</a></li><li class="breadcrumb-item"><a href="../notebooks/mister_p.html">Multilevel Regression and Post-stratification</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Examples gallery</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false">
 <span class="menu-text">Linear regression models</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/t-test.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comparison of two means (T-test)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/ESCS_multiple_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Multiple linear regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/splines_cherry_blossoms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression splines (Cherry blossom example)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/multi-level_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical Linear Regression (Pigs dataset)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/sleepstudy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical Linear Regression (Sleepstudy example)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/radon_example.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical Linear Regression (Radon Contamination dataset)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/Strack_RRR_re_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Workflow (Strack RRR Analysis Replication)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/shooter_crossed_random_ANOVA.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bayesian Workflow (Police Officer’s Dilemma)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/t_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robust Linear Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/predict_new_groups.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Predict New Groups</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/polynomial_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Polynomial Regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Generalized linear models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/logistic_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic Regression (Vote intention with ANES data)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/model_comparison.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Logistic Regression and Model Comparison with Bambi and ArviZ</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/hierarchical_binomial_bambi.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hierarchical Logistic regression with Binomial family</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/alternative_links_binary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Regression for Binary responses: Alternative link functions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/wald_gamma_glm.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wald and Gamma Regression (Australian insurance claims 2004-2005)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/negative_binomial.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Negative Binomial Regression (Students absence example)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/count_roaches.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Count Regression with Variable Exposure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/beta_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Beta Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/categorical_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Categorical Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/circular_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Circular Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/quantile_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Quantile Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/mister_p.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Multilevel Regression and Post-stratification</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/ordinal_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ordinal Regression</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/zero_inflated_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zero inflated models</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false">
 <span class="menu-text">More advanced models</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/distributional_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Distributional models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/hsgp_1d.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gaussian Processes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/hsgp_2d.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gaussian Processes in 2D</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/survival_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Survival Models</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/orthogonal_polynomial_reg.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Orthogonal Polynomial regression</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false">
 <span class="menu-text">Tools to interpret model outputs</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/plot_predictions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plot Conditional Adjusted Predictions</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/plot_comparisons.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plot Comparisons</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/plot_slopes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Plot Slopes</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/interpret_advanced_usage.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interpret Advanced Usage</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false">
 <span class="menu-text">Alternative sampling backends</span></a>
          <a class="sidebar-item-toggle text-start collapsed" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="false" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 ">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notebooks/alternative_samplers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Alternative sampling backends</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#regression-and-effect-modification" id="toc-regression-and-effect-modification" class="nav-link active" data-scroll-target="#regression-and-effect-modification">Regression and Effect Modification</a></li>
  <li><a href="#risk-stratification" id="toc-risk-stratification" class="nav-link" data-scroll-target="#risk-stratification">Risk Stratification</a></li>
  <li><a href="#regression-as-stratification" id="toc-regression-as-stratification" class="nav-link" data-scroll-target="#regression-as-stratification">Regression as Stratification</a></li>
  <li><a href="#the-need-for-post-stratification" id="toc-the-need-for-post-stratification" class="nav-link" data-scroll-target="#the-need-for-post-stratification">The Need for Post-Stratification</a>
  <ul class="collapse">
  <li><a href="#cleaning-census-data" id="toc-cleaning-census-data" class="nav-link" data-scroll-target="#cleaning-census-data">Cleaning Census Data</a></li>
  <li><a href="#biased-sample" id="toc-biased-sample" class="nav-link" data-scroll-target="#biased-sample">Biased Sample</a></li>
  <li><a href="#visualise-the-bias" id="toc-visualise-the-bias" class="nav-link" data-scroll-target="#visualise-the-bias">Visualise the Bias</a></li>
  </ul></li>
  <li><a href="#modelling-the-data" id="toc-modelling-the-data" class="nav-link" data-scroll-target="#modelling-the-data">Modelling the Data</a>
  <ul class="collapse">
  <li><a href="#fit-base-model-to-biased-sample" id="toc-fit-base-model-to-biased-sample" class="nav-link" data-scroll-target="#fit-base-model-to-biased-sample">Fit Base Model to Biased Sample</a></li>
  <li><a href="#fit-final-model-to-biased-sample" id="toc-fit-final-model-to-biased-sample" class="nav-link" data-scroll-target="#fit-final-model-to-biased-sample">Fit Final Model to Biased Sample</a></li>
  <li><a href="#apply-the-post-stratification-weighting" id="toc-apply-the-post-stratification-weighting" class="nav-link" data-scroll-target="#apply-the-post-stratification-weighting">Apply the Post-stratification Weighting</a></li>
  <li><a href="#make-adjustments-by-state" id="toc-make-adjustments-by-state" class="nav-link" data-scroll-target="#make-adjustments-by-state">Make Adjustments by State</a></li>
  <li><a href="#plot-the-effect-of-adjustment" id="toc-plot-the-effect-of-adjustment" class="nav-link" data-scroll-target="#plot-the-effect-of-adjustment">Plot the Effect of Adjustment</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../notebooks/logistic_regression.html">Generalized linear models</a></li><li class="breadcrumb-item"><a href="../notebooks/mister_p.html">Multilevel Regression and Post-stratification</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Multilevel Regression and Post-stratification</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="regression-and-effect-modification" class="level2">
<h2 class="anchored" data-anchor-id="regression-and-effect-modification">Regression and Effect Modification</h2>
<p>What are we even doing when we fit a regression model? Is a question that arises when first learning the tools of the trade and again when debugging strange results of your thousandth logistic regression model.</p>
<p>This notebook is intended to showcase how regression can be seen as a method for automating the calculation of stratum specific conditional effects. Additionally, we’ll see how we can enrich regression models by a post-stratification adjustment with knowledge of the appropriate stratum specific weights. This technique of multilevel regression and post stratification (MrP) is often used in the context of national surveys where we have knowledge of the population weights appropriate to different demographic groups. It can be used in a wide variety of areas ranging from political polling to online market research. We will demonstrate how to fit and and assess these models using Bambi.</p>
<div id="cell-2" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> arviz <span class="im">as</span> az</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> bambi <span class="im">as</span> bmb</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pymc <span class="im">as</span> pm</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pytensor</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> jax</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpyro</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> bayeux <span class="im">as</span> bx</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pm.__version__)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(pytensor.__version__)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(jax.__version__)</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(numpyro.__version__)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bmb.__version__)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(bx.__version__)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>warnings.simplefilter(action<span class="op">=</span><span class="st">"ignore"</span>, category<span class="op">=</span><span class="pp">FutureWarning</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>5.22.0
2.30.3
0.4.38
0.18.0
0.15.0
0.1.15</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/nathanielforde/mambaforge/envs/bambi-env2/lib/python3.12/site-packages/tqdm/auto.py:21: TqdmWarning: IProgress not found. Please update jupyter and ipywidgets. See https://ipywidgets.readthedocs.io/en/stable/user_install.html
  from .autonotebook import tqdm as notebook_tqdm</code></pre>
</div>
</div>
</section>
<section id="risk-stratification" class="level2">
<h2 class="anchored" data-anchor-id="risk-stratification">Risk Stratification</h2>
<p>First consider this example of heart transplant patients adapted from Hernan and Robins’ excellent book <em>Causal Inference: What if</em>. Here we have a number of patients (anonymised with names for the Greek Gods). The data records the outcomes of a heart transplant program for those who were part of the program and those who were not. We also see the different risk levels of each patient assigned the treatment.</p>
<p>What we want to show here is that a regression model fit to this data automatically accounts for the weighting appropriate to the different risk strata. The data is coded with 0-1 indicators for status. <code>Risk_Strata</code> is either 1 for higher risk or 0 for lower risk. <code>Outcome</code> is whether or not the patient died from the procedure, and <code>Treatment</code> is whether or not the patient received treatment.</p>
<div id="cell-4" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>        <span class="st">"name"</span>: [</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Rheia"</span>,</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Kronos"</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Demeter"</span>,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Hades"</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Hestia"</span>,</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Poseidon"</span>,</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Hera"</span>,</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Zeus"</span>,</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Artemis"</span>,</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Apollo"</span>,</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Leto"</span>,</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Ares"</span>,</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Athena"</span>,</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Hephaestus"</span>,</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Aphrodite"</span>,</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Cyclope"</span>,</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Persephone"</span>,</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Hermes"</span>,</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Hebe"</span>,</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            <span class="st">"Dionysus"</span>,</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>        ],</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Risk_Strata"</span>: [<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>],</span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Treatment"</span>: [<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>],</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Outcome"</span>: [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">0</span>],</span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>df[<span class="st">"Treatment_x_Risk_Strata"</span>] <span class="op">=</span> df.Treatment <span class="op">*</span> df.Risk_Strata</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">name</th>
<th data-quarto-table-cell-role="th">Risk_Strata</th>
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th">Outcome</th>
<th data-quarto-table-cell-role="th">Treatment_x_Risk_Strata</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Rheia</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Kronos</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Demeter</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Hades</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Hestia</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>Poseidon</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>Hera</td>
<td>0</td>
<td>1</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>Zeus</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">8</td>
<td>Artemis</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">9</td>
<td>Apollo</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">10</td>
<td>Leto</td>
<td>1</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">11</td>
<td>Ares</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Athena</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">13</td>
<td>Hephaestus</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">14</td>
<td>Aphrodite</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">15</td>
<td>Cyclope</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">16</td>
<td>Persephone</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">17</td>
<td>Hermes</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">18</td>
<td>Hebe</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">19</td>
<td>Dionysus</td>
<td>1</td>
<td>1</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>If the treatment assignment procedure involved complete randomisation then we might expect a reasonable balance of strata effects across the treated and non-treated. In this sample we see (perhaps counter intuitively) that the treatment seems to induce a higher rate of death than the non-treated group.</p>
<div id="cell-6" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>simple_average <span class="op">=</span> df.groupby(<span class="st">"Treatment"</span>)[[<span class="st">"Outcome"</span>]].mean().rename({<span class="st">"Outcome"</span>: <span class="st">"Share"</span>}, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>simple_average</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="3">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Share</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.428571</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.538462</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Which suggests an alarming causal effect whereby the treatment seems to increase risk of death in the population.</p>
<div id="cell-8" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>causal_risk_ratio <span class="op">=</span> simple_average.iloc[<span class="dv">1</span>][<span class="st">"Share"</span>] <span class="op">/</span> simple_average.iloc[<span class="dv">0</span>][<span class="st">"Share"</span>]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Causal Risk Ratio:"</span>, causal_risk_ratio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Causal Risk Ratio: 1.2564102564102564</code></pre>
</div>
</div>
<p>This finding we know on inspection is driven by the imbalance in the risk strata across the treatment groups.</p>
<div id="cell-10" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">"Risk_Strata"</span>)[[<span class="st">"Treatment"</span>]].count().assign(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>    proportion<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="st">"Treatment"</span>] <span class="op">/</span> <span class="bu">len</span>(df)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="5">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th">proportion</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Risk_Strata</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>8</td>
<td>0.4</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>12</td>
<td>0.6</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We can correct for this by weighting the results by the share each group represents across the <code>Risk_Strata</code>. In other words when we correct for the population size at the different levels of risk we get a better estimate of the effect. First we see what the expected outcome is for each strata.</p>
<div id="cell-12" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>outcomes_controlled <span class="op">=</span> (</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>    df.groupby([<span class="st">"Risk_Strata"</span>, <span class="st">"Treatment"</span>])[[<span class="st">"Outcome"</span>]]</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    .mean()</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    .pivot(index<span class="op">=</span><span class="st">"Treatment"</span>, columns<span class="op">=</span>[<span class="st">"Risk_Strata"</span>], values<span class="op">=</span><span class="st">"Outcome"</span>)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>outcomes_controlled</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="6">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Risk_Strata</th>
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th">1</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.25</td>
<td>0.666667</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.25</td>
<td>0.666667</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Note how the expected outcomes are equal across the stratified groups. We can now combine these estimate with the population weights (derived earlier) in each segment to get our weighted average.</p>
<div id="cell-14" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>weighted_avg <span class="op">=</span> outcomes_controlled.assign(formula<span class="op">=</span><span class="st">"0.4*0.25 + 0.6*0.66"</span>).assign(</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>    weighted_average<span class="op">=</span><span class="kw">lambda</span> x: x[<span class="dv">0</span>] <span class="op">*</span> (df[df[<span class="st">"Risk_Strata"</span>] <span class="op">==</span> <span class="dv">0</span>].shape[<span class="dv">0</span>] <span class="op">/</span> <span class="bu">len</span>(df))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> x[<span class="dv">1</span>] <span class="op">*</span> (df[df[<span class="st">"Risk_Strata"</span>] <span class="op">==</span> <span class="dv">1</span>].shape[<span class="dv">0</span>] <span class="op">/</span> <span class="bu">len</span>(df))</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>weighted_avg</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="7">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th">Risk_Strata</th>
<th data-quarto-table-cell-role="th">0</th>
<th data-quarto-table-cell-role="th">1</th>
<th data-quarto-table-cell-role="th">formula</th>
<th data-quarto-table-cell-role="th">weighted_average</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Treatment</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.25</td>
<td>0.666667</td>
<td>0.4*0.25 + 0.6*0.66</td>
<td>0.5</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.25</td>
<td>0.666667</td>
<td>0.4*0.25 + 0.6*0.66</td>
<td>0.5</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>From which we can derive a more sensible treatment effect.</p>
<div id="cell-16" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>causal_risk_ratio <span class="op">=</span> (</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>    weighted_avg.iloc[<span class="dv">1</span>][<span class="st">"weighted_average"</span>] <span class="op">/</span> weighted_avg.iloc[<span class="dv">0</span>][<span class="st">"weighted_average"</span>]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Causal Risk Ratio:"</span>, causal_risk_ratio)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Causal Risk Ratio: 1.0</code></pre>
</div>
</div>
</section>
<section id="regression-as-stratification" class="level2">
<h2 class="anchored" data-anchor-id="regression-as-stratification">Regression as Stratification</h2>
<p>So far, so good. But so what?</p>
<p>The point here is that the above series of steps can be difficult to accomplish with more complex sets of groups and risk profiles. So it’s useful to understand that regression can be used to automatically account for the variation in outcome effects across the different strata of our population. More prosaically, the example shows that it really matters what variables you put in your model.</p>
<div id="cell-19" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> bmb.Model(<span class="st">"Outcome ~ 1 + Treatment"</span>, df)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>results <span class="op">=</span> reg.fit()</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>reg_strata <span class="op">=</span> bmb.Model(<span class="st">"Outcome ~ 1 + Treatment + Risk_Strata + Treatment_x_Risk_Strata"</span>, df)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>results_strata <span class="op">=</span> reg_strata.fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Initializing NUTS using jitter+adapt_diag...
Multiprocess sampling (4 chains in 4 jobs)
NUTS: [sigma, Intercept, Treatment]</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">/Users/nathanielforde/mambaforge/envs/bambi-env2/lib/python3.12/site-packages/rich/live.py:231: UserWarning: 
install "ipywidgets" for Jupyter support
  warnings.warn('install "ipywidgets" for Jupyter support')
</pre>
</div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Sampling 4 chains for 1_000 tune and 1_000 draw iterations (4_000 + 4_000 draws total) took 0 seconds.
Initializing NUTS using jitter+adapt_diag...
Multiprocess sampling (4 chains in 4 jobs)
NUTS: [sigma, Intercept, Treatment, Risk_Strata, Treatment_x_Risk_Strata]</code></pre>
</div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace">/Users/nathanielforde/mambaforge/envs/bambi-env2/lib/python3.12/site-packages/rich/live.py:231: UserWarning: 
install "ipywidgets" for Jupyter support
  warnings.warn('install "ipywidgets" for Jupyter support')
</pre>
</div>
<div class="cell-output cell-output-display">
<pre style="white-space:pre;overflow-x:auto;line-height:normal;font-family:Menlo,'DejaVu Sans Mono',consolas,'Courier New',monospace"></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Sampling 4 chains for 1_000 tune and 1_000 draw iterations (4_000 + 4_000 draws total) took 1 seconds.</code></pre>
</div>
</div>
<p>We can now inspect the treatment effect and the implied causal risk ratio in each model. We can quickly recover that controlling for the <strong>right</strong> variables in our regression model automatically adjusts the treatment effect downwards towards 0.</p>
<div id="cell-21" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>az.summary(results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="10">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">sd</th>
<th data-quarto-table-cell-role="th">hdi_3%</th>
<th data-quarto-table-cell-role="th">hdi_97%</th>
<th data-quarto-table-cell-role="th">mcse_mean</th>
<th data-quarto-table-cell-role="th">mcse_sd</th>
<th data-quarto-table-cell-role="th">ess_bulk</th>
<th data-quarto-table-cell-role="th">ess_tail</th>
<th data-quarto-table-cell-role="th">r_hat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Intercept</td>
<td>0.435</td>
<td>0.212</td>
<td>0.043</td>
<td>0.830</td>
<td>0.003</td>
<td>0.003</td>
<td>3917.0</td>
<td>2928.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Treatment</td>
<td>0.104</td>
<td>0.261</td>
<td>-0.378</td>
<td>0.598</td>
<td>0.004</td>
<td>0.005</td>
<td>3932.0</td>
<td>2631.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">sigma</td>
<td>0.545</td>
<td>0.095</td>
<td>0.386</td>
<td>0.725</td>
<td>0.002</td>
<td>0.002</td>
<td>4173.0</td>
<td>3192.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-22" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>az.summary(results_strata)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="11">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">sd</th>
<th data-quarto-table-cell-role="th">hdi_3%</th>
<th data-quarto-table-cell-role="th">hdi_97%</th>
<th data-quarto-table-cell-role="th">mcse_mean</th>
<th data-quarto-table-cell-role="th">mcse_sd</th>
<th data-quarto-table-cell-role="th">ess_bulk</th>
<th data-quarto-table-cell-role="th">ess_tail</th>
<th data-quarto-table-cell-role="th">r_hat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Intercept</td>
<td>0.252</td>
<td>0.265</td>
<td>-0.233</td>
<td>0.762</td>
<td>0.006</td>
<td>0.004</td>
<td>2284.0</td>
<td>2545.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Risk_Strata</td>
<td>0.415</td>
<td>0.411</td>
<td>-0.310</td>
<td>1.236</td>
<td>0.010</td>
<td>0.008</td>
<td>1778.0</td>
<td>1763.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">Treatment</td>
<td>0.012</td>
<td>0.372</td>
<td>-0.710</td>
<td>0.705</td>
<td>0.008</td>
<td>0.007</td>
<td>1959.0</td>
<td>2201.0</td>
<td>1.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">Treatment_x_Risk_Strata</td>
<td>-0.011</td>
<td>0.519</td>
<td>-1.043</td>
<td>0.935</td>
<td>0.014</td>
<td>0.011</td>
<td>1491.0</td>
<td>1505.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">sigma</td>
<td>0.532</td>
<td>0.097</td>
<td>0.377</td>
<td>0.730</td>
<td>0.002</td>
<td>0.002</td>
<td>2252.0</td>
<td>1613.0</td>
<td>1.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<div id="cell-23" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> az.plot_forest(</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>    [results, results_strata],</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    model_names<span class="op">=</span>[<span class="st">"naive_model"</span>, <span class="st">"stratified_model"</span>],</span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    var_names<span class="op">=</span>[<span class="st">"Treatment"</span>],</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>    kind<span class="op">=</span><span class="st">"ridgeplot"</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    ridgeplot_alpha<span class="op">=</span><span class="fl">0.4</span>,</span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    combined<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>    figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>),</span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].axvline(<span class="dv">0</span>, color<span class="op">=</span><span class="st">"black"</span>, linestyle<span class="op">=</span><span class="st">"--"</span>)</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">"Treatment Effects under Stratification/Non-stratification"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-13-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We can even see this in the predicted outcomes for the model. This is an important step. The regression model automatically adjusts for the risk profile within the appropriate strata in the data “seen” by the model.</p>
<div id="cell-25" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>new_df <span class="op">=</span> df[[<span class="st">"Risk_Strata"</span>]].assign(Treatment<span class="op">=</span><span class="dv">1</span>).assign(Treatment_x_Risk_Strata<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>new_preds <span class="op">=</span> reg_strata.predict(results_strata, kind<span class="op">=</span><span class="st">"pps"</span>, data<span class="op">=</span>new_df, inplace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Expected Outcome in the Treated"</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>new_preds[<span class="st">"posterior_predictive"</span>][<span class="st">"Outcome"</span>].mean().item()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Expected Outcome in the Treated</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="13">
<pre><code>0.5024635600643877</code></pre>
</div>
</div>
<div id="cell-26" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>new_df <span class="op">=</span> df[[<span class="st">"Risk_Strata"</span>]].assign(Treatment<span class="op">=</span><span class="dv">0</span>).assign(Treatment_x_Risk_Strata<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>new_preds <span class="op">=</span> reg_strata.predict(results_strata, kind<span class="op">=</span><span class="st">"pps"</span>, data<span class="op">=</span>new_df, inplace<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Expected Outcome in the Untreated"</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>new_preds[<span class="st">"posterior_predictive"</span>][<span class="st">"Outcome"</span>].mean().item()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Expected Outcome in the Untreated</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="14">
<pre><code>0.501960276578347</code></pre>
</div>
</div>
<p>We can see these results more clearly using <code>bambi</code> model interpretation functions to see the predictions within a specific strata.</p>
<div id="cell-28" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">6</span>))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>axs <span class="op">=</span> axs.flatten()</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>bmb.interpret.plot_predictions(reg, results, [<span class="st">"Treatment"</span>], ax<span class="op">=</span>axs[<span class="dv">0</span>])</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>bmb.interpret.plot_predictions(reg_strata, results_strata, [<span class="st">"Treatment"</span>], ax<span class="op">=</span>axs[<span class="dv">1</span>])</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].set_title(<span class="st">"Non Stratified Regression </span><span class="ch">\n</span><span class="st"> Model Predictions"</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">1</span>].set_title(<span class="st">"Stratified Regression </span><span class="ch">\n</span><span class="st"> Model Predictions"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Default computed for conditional variable: Treatment
Default computed for conditional variable: Treatment
Default computed for unspecified variable: Risk_Strata, Treatment_x_Risk_Strata</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-16-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Hernan and Robins expand on these foundational observations and elaborate the implications for causal inference and the bias of confounding variables. We won’t go into these details, as we instead we want to draw out the connection with controlling for the risk of non-representative sampling. The usefulness of “representative-ness” as an idea is disputed in the statistical literature due to the vagueness of the term. To say a sample is representative is ussually akin to meaning that it was generated from a high-quality probability sampling design. This design is specified to avoid the creep of bias due to selection effects contaminating the results.</p>
<p>We’ve seen how regression can automate stratification across the levels of covariates in the model conditional on the sample data. But what if the prevalence of the risk-profile in your data does not reflect the prevalance of risk in the wider population? Then the regression model will automatically adjust to the prevalence in the sample, but it is not adjusting to the correct weights.</p>
</section>
<section id="the-need-for-post-stratification" class="level2">
<h2 class="anchored" data-anchor-id="the-need-for-post-stratification">The Need for Post-Stratification</h2>
<p>In the context of national survey design there is always a concern that the sample respondents may be more or less representative of the population across different key demographics e.g.&nbsp;it’s unlikely we would put much faith in the survey’s accuracy if it had 90% male respondents on a question about the lived experience of women. Given that we can know before hand that certain demographic splits are not relective of the census data, we can use this information to appropriately re-weight the regressions fit to non-representative survey data.</p>
<p>We’ll demonstrate the idea of multi-level regression and post-stratification adjustment by replicating some of the steps discussed in Martin, Philips and Gelmen’s <a href="https://bookdown.org/jl5522/MRP-case-studies/">“Multilevel Regression and Poststratification Case Studies”</a>.</p>
<p>They cite data from the Cooperative Congressional Election Study (Schaffner, Ansolabehere, and Luks (2018)), a US nationwide survey designed by a consortium of 60 research teams and administered by YouGov. The outcome of interest is a binary question: Should employers decline coverage of abortions in insurance plans?</p>
<div id="cell-31" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>cces_all_df <span class="op">=</span> pd.read_csv(<span class="st">"data/mr_p_cces18_common_vv.csv.gz"</span>, low_memory<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>cces_all_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="16">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">caseid</th>
<th data-quarto-table-cell-role="th">commonweight</th>
<th data-quarto-table-cell-role="th">commonpostweight</th>
<th data-quarto-table-cell-role="th">vvweight</th>
<th data-quarto-table-cell-role="th">vvweight_post</th>
<th data-quarto-table-cell-role="th">tookpost</th>
<th data-quarto-table-cell-role="th">CCEStake</th>
<th data-quarto-table-cell-role="th">birthyr</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">educ</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">CL_party</th>
<th data-quarto-table-cell-role="th">CL_2018gvm</th>
<th data-quarto-table-cell-role="th">CL_2018pep</th>
<th data-quarto-table-cell-role="th">CL_2018pvm</th>
<th data-quarto-table-cell-role="th">starttime</th>
<th data-quarto-table-cell-role="th">endtime</th>
<th data-quarto-table-cell-role="th">starttime_post</th>
<th data-quarto-table-cell-role="th">endtime_post</th>
<th data-quarto-table-cell-role="th">DMA</th>
<th data-quarto-table-cell-role="th">dmaname</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>123464282</td>
<td>0.940543</td>
<td>0.7936</td>
<td>0.740858</td>
<td>0.641412</td>
<td>2</td>
<td>1</td>
<td>1964</td>
<td>2</td>
<td>4</td>
<td>...</td>
<td>11.0</td>
<td>1.0</td>
<td>NaN</td>
<td>NaN</td>
<td>04oct2018 02:47:10</td>
<td>09oct2018 04:16:31</td>
<td>11nov2018 00:41:13</td>
<td>11nov2018 01:21:53</td>
<td>512.0</td>
<td>BALTIMORE</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>170169205</td>
<td>0.769724</td>
<td>0.7388</td>
<td>0.425236</td>
<td>0.415134</td>
<td>2</td>
<td>1</td>
<td>1971</td>
<td>2</td>
<td>2</td>
<td>...</td>
<td>13.0</td>
<td>NaN</td>
<td>6.0</td>
<td>2.0</td>
<td>02oct2018 06:55:22</td>
<td>02oct2018 07:32:51</td>
<td>12nov2018 00:49:50</td>
<td>12nov2018 01:08:43</td>
<td>531.0</td>
<td>"TRI-CITIES</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>175996005</td>
<td>1.491642</td>
<td>1.3105</td>
<td>1.700094</td>
<td>1.603264</td>
<td>2</td>
<td>1</td>
<td>1958</td>
<td>2</td>
<td>3</td>
<td>...</td>
<td>13.0</td>
<td>5.0</td>
<td>NaN</td>
<td>NaN</td>
<td>07oct2018 00:48:23</td>
<td>07oct2018 01:38:41</td>
<td>12nov2018 21:49:41</td>
<td>12nov2018 22:19:28</td>
<td>564.0</td>
<td>CHARLESTON-HUNTINGTON</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>176818556</td>
<td>5.104709</td>
<td>4.6304</td>
<td>5.946729</td>
<td>5.658840</td>
<td>2</td>
<td>1</td>
<td>1946</td>
<td>2</td>
<td>6</td>
<td>...</td>
<td>4.0</td>
<td>3.0</td>
<td>NaN</td>
<td>3.0</td>
<td>11oct2018 15:20:26</td>
<td>11oct2018 16:18:42</td>
<td>11nov2018 13:24:16</td>
<td>11nov2018 14:00:14</td>
<td>803.0</td>
<td>LOS ANGELES</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>202120533</td>
<td>0.466526</td>
<td>0.3745</td>
<td>0.412451</td>
<td>0.422327</td>
<td>2</td>
<td>1</td>
<td>1972</td>
<td>2</td>
<td>2</td>
<td>...</td>
<td>3.0</td>
<td>5.0</td>
<td>NaN</td>
<td>NaN</td>
<td>08oct2018 02:31:28</td>
<td>08oct2018 03:03:48</td>
<td>15nov2018 01:04:16</td>
<td>15nov2018 01:57:21</td>
<td>529.0</td>
<td>LOUISVILLE</td>
</tr>
</tbody>
</table>

<p>5 rows × 526 columns</p>
</div>
</div>
</div>
<section id="cleaning-census-data" class="level3">
<h3 class="anchored" data-anchor-id="cleaning-census-data">Cleaning Census Data</h3>
<p>To prepare the census data for modelling we need to break the demographic data into appropriate stratum. We will break out these groupings as along broad categories familiar to audiences of election coverage news. Even these steps amount to a significant choice where we use our knowledge of pertinent demographics to decide upon the key strata we wish to represent in our model, as we seek to better predict and understand the voting outcome.</p>
<div id="cell-33" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>states <span class="op">=</span> [</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AL"</span>,</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AK"</span>,</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AZ"</span>,</span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AR"</span>,</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CA"</span>,</span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CO"</span>,</span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"CT"</span>,</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"DE"</span>,</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FL"</span>,</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"GA"</span>,</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"HI"</span>,</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ID"</span>,</span>
<span id="cb29-14"><a href="#cb29-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"IL"</span>,</span>
<span id="cb29-15"><a href="#cb29-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">"IN"</span>,</span>
<span id="cb29-16"><a href="#cb29-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">"IA"</span>,</span>
<span id="cb29-17"><a href="#cb29-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">"KS"</span>,</span>
<span id="cb29-18"><a href="#cb29-18" aria-hidden="true" tabindex="-1"></a>    <span class="st">"KY"</span>,</span>
<span id="cb29-19"><a href="#cb29-19" aria-hidden="true" tabindex="-1"></a>    <span class="st">"LA"</span>,</span>
<span id="cb29-20"><a href="#cb29-20" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ME"</span>,</span>
<span id="cb29-21"><a href="#cb29-21" aria-hidden="true" tabindex="-1"></a>    <span class="st">"MD"</span>,</span>
<span id="cb29-22"><a href="#cb29-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"MA"</span>,</span>
<span id="cb29-23"><a href="#cb29-23" aria-hidden="true" tabindex="-1"></a>    <span class="st">"MI"</span>,</span>
<span id="cb29-24"><a href="#cb29-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">"MN"</span>,</span>
<span id="cb29-25"><a href="#cb29-25" aria-hidden="true" tabindex="-1"></a>    <span class="st">"MS"</span>,</span>
<span id="cb29-26"><a href="#cb29-26" aria-hidden="true" tabindex="-1"></a>    <span class="st">"MO"</span>,</span>
<span id="cb29-27"><a href="#cb29-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">"MT"</span>,</span>
<span id="cb29-28"><a href="#cb29-28" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NE"</span>,</span>
<span id="cb29-29"><a href="#cb29-29" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NV"</span>,</span>
<span id="cb29-30"><a href="#cb29-30" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NH"</span>,</span>
<span id="cb29-31"><a href="#cb29-31" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NJ"</span>,</span>
<span id="cb29-32"><a href="#cb29-32" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NM"</span>,</span>
<span id="cb29-33"><a href="#cb29-33" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NY"</span>,</span>
<span id="cb29-34"><a href="#cb29-34" aria-hidden="true" tabindex="-1"></a>    <span class="st">"NC"</span>,</span>
<span id="cb29-35"><a href="#cb29-35" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ND"</span>,</span>
<span id="cb29-36"><a href="#cb29-36" aria-hidden="true" tabindex="-1"></a>    <span class="st">"OH"</span>,</span>
<span id="cb29-37"><a href="#cb29-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">"OK"</span>,</span>
<span id="cb29-38"><a href="#cb29-38" aria-hidden="true" tabindex="-1"></a>    <span class="st">"OR"</span>,</span>
<span id="cb29-39"><a href="#cb29-39" aria-hidden="true" tabindex="-1"></a>    <span class="st">"PA"</span>,</span>
<span id="cb29-40"><a href="#cb29-40" aria-hidden="true" tabindex="-1"></a>    <span class="st">"RI"</span>,</span>
<span id="cb29-41"><a href="#cb29-41" aria-hidden="true" tabindex="-1"></a>    <span class="st">"SC"</span>,</span>
<span id="cb29-42"><a href="#cb29-42" aria-hidden="true" tabindex="-1"></a>    <span class="st">"SD"</span>,</span>
<span id="cb29-43"><a href="#cb29-43" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TN"</span>,</span>
<span id="cb29-44"><a href="#cb29-44" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TX"</span>,</span>
<span id="cb29-45"><a href="#cb29-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">"UT"</span>,</span>
<span id="cb29-46"><a href="#cb29-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">"VT"</span>,</span>
<span id="cb29-47"><a href="#cb29-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">"VA"</span>,</span>
<span id="cb29-48"><a href="#cb29-48" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WA"</span>,</span>
<span id="cb29-49"><a href="#cb29-49" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WV"</span>,</span>
<span id="cb29-50"><a href="#cb29-50" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WI"</span>,</span>
<span id="cb29-51"><a href="#cb29-51" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WY"</span>,</span>
<span id="cb29-52"><a href="#cb29-52" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb29-53"><a href="#cb29-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-54"><a href="#cb29-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-55"><a href="#cb29-55" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">56</span>, <span class="dv">1</span>))</span>
<span id="cb29-56"><a href="#cb29-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-57"><a href="#cb29-57" aria-hidden="true" tabindex="-1"></a>lkup_states <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(numbers, states))</span>
<span id="cb29-58"><a href="#cb29-58" aria-hidden="true" tabindex="-1"></a>lkup_states</span>
<span id="cb29-59"><a href="#cb29-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-60"><a href="#cb29-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-61"><a href="#cb29-61" aria-hidden="true" tabindex="-1"></a>ethnicity <span class="op">=</span> [</span>
<span id="cb29-62"><a href="#cb29-62" aria-hidden="true" tabindex="-1"></a>    <span class="st">"White"</span>,</span>
<span id="cb29-63"><a href="#cb29-63" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Black"</span>,</span>
<span id="cb29-64"><a href="#cb29-64" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hispanic"</span>,</span>
<span id="cb29-65"><a href="#cb29-65" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Asian"</span>,</span>
<span id="cb29-66"><a href="#cb29-66" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Native American"</span>,</span>
<span id="cb29-67"><a href="#cb29-67" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Mixed"</span>,</span>
<span id="cb29-68"><a href="#cb29-68" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Other"</span>,</span>
<span id="cb29-69"><a href="#cb29-69" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Middle Eastern"</span>,</span>
<span id="cb29-70"><a href="#cb29-70" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb29-71"><a href="#cb29-71" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">9</span>, <span class="dv">1</span>))</span>
<span id="cb29-72"><a href="#cb29-72" aria-hidden="true" tabindex="-1"></a>lkup_ethnicity <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(numbers, ethnicity))</span>
<span id="cb29-73"><a href="#cb29-73" aria-hidden="true" tabindex="-1"></a>lkup_ethnicity</span>
<span id="cb29-74"><a href="#cb29-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-75"><a href="#cb29-75" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-76"><a href="#cb29-76" aria-hidden="true" tabindex="-1"></a>edu <span class="op">=</span> [<span class="st">"No HS"</span>, <span class="st">"HS"</span>, <span class="st">"Some college"</span>, <span class="st">"Associates"</span>, <span class="st">"4-Year College"</span>, <span class="st">"Post-grad"</span>]</span>
<span id="cb29-77"><a href="#cb29-77" aria-hidden="true" tabindex="-1"></a>numbers <span class="op">=</span> <span class="bu">list</span>(<span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">7</span>, <span class="dv">1</span>))</span>
<span id="cb29-78"><a href="#cb29-78" aria-hidden="true" tabindex="-1"></a>lkup_edu <span class="op">=</span> <span class="bu">dict</span>(<span class="bu">zip</span>(numbers, edu))</span>
<span id="cb29-79"><a href="#cb29-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-80"><a href="#cb29-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-81"><a href="#cb29-81" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> clean_df(df):</span>
<span id="cb29-82"><a href="#cb29-82" aria-hidden="true" tabindex="-1"></a>    <span class="co">## 0 Oppose and 1 Support</span></span>
<span id="cb29-83"><a href="#cb29-83" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"abortion"</span>] <span class="op">=</span> np.<span class="bu">abs</span>(df[<span class="st">"CC18_321d"</span>] <span class="op">-</span> <span class="dv">2</span>)</span>
<span id="cb29-84"><a href="#cb29-84" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"state"</span>] <span class="op">=</span> df[<span class="st">"inputstate"</span>].<span class="bu">map</span>(lkup_states)</span>
<span id="cb29-85"><a href="#cb29-85" aria-hidden="true" tabindex="-1"></a>    <span class="co">## dichotomous (coded as -0.5 Female, +0.5 Male)</span></span>
<span id="cb29-86"><a href="#cb29-86" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"male"</span>] <span class="op">=</span> np.<span class="bu">abs</span>(df[<span class="st">"gender"</span>] <span class="op">-</span> <span class="dv">2</span>) <span class="op">-</span> <span class="fl">0.5</span></span>
<span id="cb29-87"><a href="#cb29-87" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"eth"</span>] <span class="op">=</span> df[<span class="st">"race"</span>].<span class="bu">map</span>(lkup_ethnicity)</span>
<span id="cb29-88"><a href="#cb29-88" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"eth"</span>] <span class="op">=</span> np.where(</span>
<span id="cb29-89"><a href="#cb29-89" aria-hidden="true" tabindex="-1"></a>        df[<span class="st">"eth"</span>].isin([<span class="st">"Asian"</span>, <span class="st">"Other"</span>, <span class="st">"Middle Eastern"</span>, <span class="st">"Mixed"</span>, <span class="st">"Native American"</span>]),</span>
<span id="cb29-90"><a href="#cb29-90" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Other"</span>,</span>
<span id="cb29-91"><a href="#cb29-91" aria-hidden="true" tabindex="-1"></a>        df[<span class="st">"eth"</span>],</span>
<span id="cb29-92"><a href="#cb29-92" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-93"><a href="#cb29-93" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"age"</span>] <span class="op">=</span> <span class="dv">2018</span> <span class="op">-</span> df[<span class="st">"birthyr"</span>]</span>
<span id="cb29-94"><a href="#cb29-94" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"age"</span>] <span class="op">=</span> pd.cut(</span>
<span id="cb29-95"><a href="#cb29-95" aria-hidden="true" tabindex="-1"></a>        df[<span class="st">"age"</span>].astype(<span class="bu">int</span>),</span>
<span id="cb29-96"><a href="#cb29-96" aria-hidden="true" tabindex="-1"></a>        [<span class="dv">0</span>, <span class="dv">29</span>, <span class="dv">39</span>, <span class="dv">49</span>, <span class="dv">59</span>, <span class="dv">69</span>, <span class="dv">120</span>],</span>
<span id="cb29-97"><a href="#cb29-97" aria-hidden="true" tabindex="-1"></a>        labels<span class="op">=</span>[<span class="st">"18-29"</span>, <span class="st">"30-39"</span>, <span class="st">"40-49"</span>, <span class="st">"50-59"</span>, <span class="st">"60-69"</span>, <span class="st">"70+"</span>],</span>
<span id="cb29-98"><a href="#cb29-98" aria-hidden="true" tabindex="-1"></a>        ordered<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb29-99"><a href="#cb29-99" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb29-100"><a href="#cb29-100" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"edu"</span>] <span class="op">=</span> df[<span class="st">"educ"</span>].<span class="bu">map</span>(lkup_edu)</span>
<span id="cb29-101"><a href="#cb29-101" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">"edu"</span>] <span class="op">=</span> np.where(df[<span class="st">"edu"</span>].isin([<span class="st">"Some college"</span>, <span class="st">"Associates"</span>]), <span class="st">"Some college"</span>, df[<span class="st">"edu"</span>])</span>
<span id="cb29-102"><a href="#cb29-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-103"><a href="#cb29-103" aria-hidden="true" tabindex="-1"></a>    df <span class="op">=</span> df[[<span class="st">"abortion"</span>, <span class="st">"state"</span>, <span class="st">"eth"</span>, <span class="st">"male"</span>, <span class="st">"age"</span>, <span class="st">"edu"</span>, <span class="st">"caseid"</span>]]</span>
<span id="cb29-104"><a href="#cb29-104" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> df.dropna()</span>
<span id="cb29-105"><a href="#cb29-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-106"><a href="#cb29-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-107"><a href="#cb29-107" aria-hidden="true" tabindex="-1"></a>statelevel_predictors_df <span class="op">=</span> pd.read_csv(<span class="st">"data/mr_p_statelevel_predictors.csv"</span>)</span>
<span id="cb29-108"><a href="#cb29-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-109"><a href="#cb29-109" aria-hidden="true" tabindex="-1"></a>cces_all_df <span class="op">=</span> clean_df(cces_all_df)</span>
<span id="cb29-110"><a href="#cb29-110" aria-hidden="true" tabindex="-1"></a>cces_all_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">abortion</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">eth</th>
<th data-quarto-table-cell-role="th">male</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">edu</th>
<th data-quarto-table-cell-role="th">caseid</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>1.0</td>
<td>MS</td>
<td>Other</td>
<td>-0.5</td>
<td>50-59</td>
<td>Some college</td>
<td>123464282</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>1.0</td>
<td>WA</td>
<td>White</td>
<td>-0.5</td>
<td>40-49</td>
<td>HS</td>
<td>170169205</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>1.0</td>
<td>RI</td>
<td>White</td>
<td>-0.5</td>
<td>60-69</td>
<td>Some college</td>
<td>175996005</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>0.0</td>
<td>CO</td>
<td>Other</td>
<td>-0.5</td>
<td>70+</td>
<td>Post-grad</td>
<td>176818556</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>1.0</td>
<td>MA</td>
<td>White</td>
<td>-0.5</td>
<td>40-49</td>
<td>HS</td>
<td>202120533</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>We will now show how estimates drawn from sample data (biased for whatever reasons of chance and circumstance) can be improved by using a post-stratification adjustment based on known facts about the size of the population in each strata considered in the model. This additional step is simply another modelling choice - another way to invest our model with information. In this manner the technique comes naturally in the Bayesian perspective.</p>
</section>
<section id="biased-sample" class="level3">
<h3 class="anchored" data-anchor-id="biased-sample">Biased Sample</h3>
<p>Consider a deliberately biased sample. Biased away from the census data and in this manner we show how to better recover population level estimates by incorporating details about the census population size across each of the stratum.</p>
<div id="cell-36" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>cces_df <span class="op">=</span> cces_all_df.merge(statelevel_predictors_df, left_on<span class="op">=</span><span class="st">"state"</span>, right_on<span class="op">=</span><span class="st">"state"</span>, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>cces_df[<span class="st">"weight"</span>] <span class="op">=</span> (</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="dv">5</span> <span class="op">*</span> cces_df[<span class="st">"repvote"</span>]</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"age"</span>] <span class="op">==</span> <span class="st">"18-29"</span>) <span class="op">*</span> <span class="fl">0.5</span></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"age"</span>] <span class="op">==</span> <span class="st">"30-39"</span>) <span class="op">*</span> <span class="dv">1</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"age"</span>] <span class="op">==</span> <span class="st">"40-49"</span>) <span class="op">*</span> <span class="dv">2</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"age"</span>] <span class="op">==</span> <span class="st">"50-59"</span>) <span class="op">*</span> <span class="dv">4</span></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"age"</span>] <span class="op">==</span> <span class="st">"60-69"</span>) <span class="op">*</span> <span class="dv">6</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"age"</span>] <span class="op">==</span> <span class="st">"70+"</span>) <span class="op">*</span> <span class="dv">8</span></span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"male"</span>] <span class="op">==</span> <span class="dv">1</span>) <span class="op">*</span> <span class="dv">20</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>    <span class="op">+</span> (cces_df[<span class="st">"eth"</span>] <span class="op">==</span> <span class="st">"White"</span>) <span class="op">*</span> <span class="fl">1.05</span></span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>cces_df <span class="op">=</span> cces_df.sample(<span class="dv">5000</span>, weights<span class="op">=</span><span class="st">"weight"</span>, random_state<span class="op">=</span><span class="dv">1000</span>)</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>cces_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">abortion</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">eth</th>
<th data-quarto-table-cell-role="th">male</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">edu</th>
<th data-quarto-table-cell-role="th">caseid</th>
<th data-quarto-table-cell-role="th">repvote</th>
<th data-quarto-table-cell-role="th">region</th>
<th data-quarto-table-cell-role="th">weight</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">35171</td>
<td>0.0</td>
<td>KY</td>
<td>White</td>
<td>-0.5</td>
<td>60-69</td>
<td>HS</td>
<td>415208636</td>
<td>0.656706</td>
<td>South</td>
<td>10.333531</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5167</td>
<td>0.0</td>
<td>NM</td>
<td>White</td>
<td>0.5</td>
<td>60-69</td>
<td>No HS</td>
<td>412278020</td>
<td>0.453492</td>
<td>West</td>
<td>9.317460</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">52365</td>
<td>0.0</td>
<td>OK</td>
<td>Hispanic</td>
<td>-0.5</td>
<td>30-39</td>
<td>4-Year College</td>
<td>419467449</td>
<td>0.693047</td>
<td>South</td>
<td>4.465237</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">23762</td>
<td>1.0</td>
<td>WV</td>
<td>White</td>
<td>-0.5</td>
<td>50-59</td>
<td>Post-grad</td>
<td>413757903</td>
<td>0.721611</td>
<td>South</td>
<td>8.658053</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">48197</td>
<td>0.0</td>
<td>RI</td>
<td>White</td>
<td>0.5</td>
<td>50-59</td>
<td>4-Year College</td>
<td>417619385</td>
<td>0.416893</td>
<td>Northeast</td>
<td>7.134465</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</section>
<section id="visualise-the-bias" class="level3">
<h3 class="anchored" data-anchor-id="visualise-the-bias">Visualise the Bias</h3>
<p>Now we plot the outcome of expected shares within each demographic bucket across both the biased sample and the census data.</p>
<div id="cell-38" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>mosaic <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="st">    ABCD</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="st">    EEEE</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(layout<span class="op">=</span><span class="st">"constrained"</span>, figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">10</span>))</span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>ax_dict <span class="op">=</span> fig.subplot_mosaic(mosaic)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_var(var, ax):</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> (</span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a>        cces_df.groupby(var, observed<span class="op">=</span><span class="va">False</span>)[[<span class="st">"abortion"</span>]]</span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a>        .mean()</span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a>        .rename({<span class="st">"abortion"</span>: <span class="st">"share"</span>}, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a>        .reset_index()</span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    b <span class="op">=</span> (</span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>        cces_all_df.groupby(var, observed<span class="op">=</span><span class="va">False</span>)[[<span class="st">"abortion"</span>]]</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a>        .mean()</span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>        .rename({<span class="st">"abortion"</span>: <span class="st">"share_census"</span>}, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>        .reset_index()</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb31-23"><a href="#cb31-23" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> a.merge(b).sort_values(<span class="st">"share"</span>)</span>
<span id="cb31-24"><a href="#cb31-24" aria-hidden="true" tabindex="-1"></a>    ax_dict[ax].vlines(a[var], a.share, a.share_census)</span>
<span id="cb31-25"><a href="#cb31-25" aria-hidden="true" tabindex="-1"></a>    ax_dict[ax].scatter(a[var], a.share, color<span class="op">=</span><span class="st">"blue"</span>, label<span class="op">=</span><span class="st">"Sample"</span>)</span>
<span id="cb31-26"><a href="#cb31-26" aria-hidden="true" tabindex="-1"></a>    ax_dict[ax].scatter(a[var], a.share_census, color<span class="op">=</span><span class="st">"red"</span>, label<span class="op">=</span><span class="st">"Census"</span>)</span>
<span id="cb31-27"><a href="#cb31-27" aria-hidden="true" tabindex="-1"></a>    ax_dict[ax].set_ylabel(<span class="st">"Proportion"</span>)</span>
<span id="cb31-28"><a href="#cb31-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-29"><a href="#cb31-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-30"><a href="#cb31-30" aria-hidden="true" tabindex="-1"></a>plot_var(<span class="st">"age"</span>, <span class="st">"A"</span>)</span>
<span id="cb31-31"><a href="#cb31-31" aria-hidden="true" tabindex="-1"></a>plot_var(<span class="st">"edu"</span>, <span class="st">"B"</span>)</span>
<span id="cb31-32"><a href="#cb31-32" aria-hidden="true" tabindex="-1"></a>plot_var(<span class="st">"male"</span>, <span class="st">"C"</span>)</span>
<span id="cb31-33"><a href="#cb31-33" aria-hidden="true" tabindex="-1"></a>plot_var(<span class="st">"eth"</span>, <span class="st">"D"</span>)</span>
<span id="cb31-34"><a href="#cb31-34" aria-hidden="true" tabindex="-1"></a>plot_var(<span class="st">"state"</span>, <span class="st">"E"</span>)</span>
<span id="cb31-35"><a href="#cb31-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-36"><a href="#cb31-36" aria-hidden="true" tabindex="-1"></a>ax_dict[<span class="st">"E"</span>].legend()</span>
<span id="cb31-37"><a href="#cb31-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-38"><a href="#cb31-38" aria-hidden="true" tabindex="-1"></a>ax_dict[<span class="st">"C"</span>].set_xticklabels([])</span>
<span id="cb31-39"><a href="#cb31-39" aria-hidden="true" tabindex="-1"></a>ax_dict[<span class="st">"C"</span>].set_xlabel(<span class="st">"Female / Male"</span>)</span>
<span id="cb31-40"><a href="#cb31-40" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Comparison of Proportions: Survey Sample V Census"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-20-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We can see here how the proportions differ markedly across the census report and our biased sample in how they represent the preferential votes with each strata. We now try and quantify the overall differences between the biased sample and the census report. We calculate the expected proportions in each dataset and their standard error.</p>
<div id="cell-40" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_se_bernoulli(p, n):</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.sqrt(p <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> p) <span class="op">/</span> n)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>sample_cces_estimate <span class="op">=</span> {</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"mean"</span>: np.mean(cces_df[<span class="st">"abortion"</span>].astype(<span class="bu">float</span>)),</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"se"</span>: get_se_bernoulli(np.mean(cces_df[<span class="st">"abortion"</span>].astype(<span class="bu">float</span>)), <span class="bu">len</span>(cces_df)),</span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>sample_cces_estimate</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>sample_cces_all_estimate <span class="op">=</span> {</span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"mean"</span>: np.mean(cces_all_df[<span class="st">"abortion"</span>].astype(<span class="bu">float</span>)),</span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"se"</span>: get_se_bernoulli(np.mean(cces_all_df[<span class="st">"abortion"</span>].astype(<span class="bu">float</span>)), <span class="bu">len</span>(cces_all_df)),</span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>sample_cces_all_estimate</span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>summary <span class="op">=</span> pd.DataFrame([sample_cces_all_estimate, sample_cces_estimate])</span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>summary[<span class="st">"data"</span>] <span class="op">=</span> [<span class="st">"Full Data"</span>, <span class="st">"Biased Data"</span>]</span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>summary</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="20">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">se</th>
<th data-quarto-table-cell-role="th">data</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>0.434051</td>
<td>0.002113</td>
<td>Full Data</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>0.465000</td>
<td>0.007054</td>
<td>Biased Data</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>A 3 percent difference in a national survey is a substantial error in the case where the difference is due to preventable bias.</p>
</section>
</section>
<section id="modelling-the-data" class="level2">
<h2 class="anchored" data-anchor-id="modelling-the-data">Modelling the Data</h2>
<p>To facilitate regression based stratification we first need a regression model. In our case we will ultimately fit a multi-level regression model with intercept terms for each for each of the groups in our demographic stratum. In this way we try to account for the appropriate set of variables (as in the example above) to better specify the effect modification due to membership within a particular demographic stratum.</p>
<p>We will fit the model using <code>bambi</code> using the binomial link function on the biased sample data. But first we aggregate up by demographic strata and count the occurences within each strata.</p>
<div id="cell-43" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>model_df <span class="op">=</span> (</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>    cces_df.groupby([<span class="st">"state"</span>, <span class="st">"eth"</span>, <span class="st">"male"</span>, <span class="st">"age"</span>, <span class="st">"edu"</span>], observed<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>    .agg({<span class="st">"caseid"</span>: <span class="st">"nunique"</span>, <span class="st">"abortion"</span>: <span class="st">"sum"</span>})</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"abortion"</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>    .rename({<span class="st">"caseid"</span>: <span class="st">"n"</span>}, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>    .merge(statelevel_predictors_df, left_on<span class="op">=</span><span class="st">"state"</span>, right_on<span class="op">=</span><span class="st">"state"</span>, how<span class="op">=</span><span class="st">"left"</span>)</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>model_df[<span class="st">"abortion"</span>] <span class="op">=</span> model_df[<span class="st">"abortion"</span>].astype(<span class="bu">int</span>)</span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>model_df[<span class="st">"n"</span>] <span class="op">=</span> model_df[<span class="st">"n"</span>].astype(<span class="bu">int</span>)</span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>model_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">eth</th>
<th data-quarto-table-cell-role="th">male</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">edu</th>
<th data-quarto-table-cell-role="th">n</th>
<th data-quarto-table-cell-role="th">abortion</th>
<th data-quarto-table-cell-role="th">repvote</th>
<th data-quarto-table-cell-role="th">region</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>ID</td>
<td>White</td>
<td>-0.5</td>
<td>70+</td>
<td>HS</td>
<td>32</td>
<td>18</td>
<td>0.683102</td>
<td>West</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>ID</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>4-Year College</td>
<td>20</td>
<td>16</td>
<td>0.683102</td>
<td>West</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>WV</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>Some college</td>
<td>17</td>
<td>13</td>
<td>0.721611</td>
<td>South</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>WV</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>4-Year College</td>
<td>15</td>
<td>12</td>
<td>0.721611</td>
<td>South</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>ID</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>Post-grad</td>
<td>17</td>
<td>11</td>
<td>0.683102</td>
<td>West</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>Our <code>model_df</code> now has one row per Strata across all the demographic cuts.</p>
<section id="fit-base-model-to-biased-sample" class="level3">
<h3 class="anchored" data-anchor-id="fit-base-model-to-biased-sample">Fit Base Model to Biased Sample</h3>
<p>Here we use some of bambi’s latest functionality to assess the interaction effects between the variables.</p>
<div id="cell-46" class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="22">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>formula <span class="op">=</span> <span class="st">""" p(abortion, n) ~ C(state) + C(eth) + C(edu) + male + repvote"""</span></span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>base_model <span class="op">=</span> bmb.Model(formula, model_df, family<span class="op">=</span><span class="st">"binomial"</span>)</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> base_model.fit(</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    random_seed<span class="op">=</span><span class="dv">100</span>,</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    target_accept<span class="op">=</span><span class="fl">0.95</span>,</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    inference_method<span class="op">=</span><span class="st">"nutpie"</span>,</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>    num_chains<span class="op">=</span><span class="dv">4</span>,</span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    idata_kwargs<span class="op">=</span>{<span class="st">"log_likelihood"</span>: <span class="va">True</span>},</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We plot the predicted outcomes within each group using the <code>plot_predictions</code> function.</p>
<div id="cell-48" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>mosaic <span class="op">=</span> <span class="st">"""</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="st">    AABB</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="st">    CCCC</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="st">    """</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(layout<span class="op">=</span><span class="st">"constrained"</span>, figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">7</span>))</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>axs <span class="op">=</span> fig.subplot_mosaic(mosaic)</span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a>bmb.interpret.plot_predictions(base_model, result, <span class="st">"eth"</span>, ax<span class="op">=</span>axs[<span class="st">"A"</span>])</span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>bmb.interpret.plot_predictions(base_model, result, <span class="st">"edu"</span>, ax<span class="op">=</span>axs[<span class="st">"B"</span>])</span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>bmb.interpret.plot_predictions(base_model, result, <span class="st">"state"</span>, ax<span class="op">=</span>axs[<span class="st">"C"</span>])</span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>plt.suptitle(<span class="st">"Plot Prediction per Class"</span>, fontsize<span class="op">=</span><span class="dv">20</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Default computed for conditional variable: eth
Default computed for unspecified variable: edu, male, repvote, state
Default computed for conditional variable: edu
Default computed for unspecified variable: eth, male, repvote, state
Default computed for conditional variable: state
Default computed for unspecified variable: edu, eth, male, repvote</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-24-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>More interesting we can use the comparison functionality to compare differences in <code>eth</code> conditional on <code>age</code> and <code>edu</code>. Where we can see that the differences between ethnicities are pretty stable across all age groups, slightly shifted by within the <code>Post-grad</code> level of education.</p>
<div id="cell-50" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> bmb.interpret.plot_comparisons(</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    model<span class="op">=</span>base_model,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    idata<span class="op">=</span>result,</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    contrast<span class="op">=</span>{<span class="st">"eth"</span>: [<span class="st">"Black"</span>, <span class="st">"White"</span>]},</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>    conditional<span class="op">=</span>[<span class="st">"age"</span>, <span class="st">"edu"</span>],</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>    comparison_type<span class="op">=</span><span class="st">"diff"</span>,</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>    subplot_kwargs<span class="op">=</span>{<span class="st">"main"</span>: <span class="st">"age"</span>, <span class="st">"group"</span>: <span class="st">"edu"</span>},</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>    fig_kwargs<span class="op">=</span>{<span class="st">"figsize"</span>: (<span class="dv">12</span>, <span class="dv">5</span>), <span class="st">"sharey"</span>: <span class="va">True</span>},</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>    legend<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>ax[<span class="dv">0</span>].set_title(<span class="st">"Comparison of Difference in Ethnicity </span><span class="ch">\n</span><span class="st"> within Age and Educational Strata"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Default computed for conditional variable: age, edu
Default computed for unspecified variable: male, repvote, state</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-25-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We can pull these specific estimates out into a table for closer inspection to see that the differences in response expected between the extremes of educational attainment are moderated by state iand race.</p>
<div id="cell-52" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>bmb.interpret.comparisons(</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    model<span class="op">=</span>base_model,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    idata<span class="op">=</span>result,</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    contrast<span class="op">=</span>{<span class="st">"edu"</span>: [<span class="st">"Post-grad"</span>, <span class="st">"No HS"</span>]},</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    conditional<span class="op">=</span>{<span class="st">"eth"</span>: [<span class="st">"Black"</span>, <span class="st">"White"</span>], <span class="st">"state"</span>: [<span class="st">"NY"</span>, <span class="st">"CA"</span>, <span class="st">"ID"</span>, <span class="st">"VA"</span>]},</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    comparison_type<span class="op">=</span><span class="st">"diff"</span>,</span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>Default computed for unspecified variable: male, repvote</code></pre>
</div>
<div class="cell-output cell-output-display" data-execution_count="25">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">term</th>
<th data-quarto-table-cell-role="th">estimate_type</th>
<th data-quarto-table-cell-role="th">value</th>
<th data-quarto-table-cell-role="th">eth</th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">male</th>
<th data-quarto-table-cell-role="th">repvote</th>
<th data-quarto-table-cell-role="th">estimate</th>
<th data-quarto-table-cell-role="th">lower_3.0%</th>
<th data-quarto-table-cell-role="th">upper_97.0%</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>Black</td>
<td>CA</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.140916</td>
<td>0.061406</td>
<td>0.213647</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>Black</td>
<td>ID</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.140846</td>
<td>0.066105</td>
<td>0.213532</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>Black</td>
<td>NY</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.146986</td>
<td>0.071022</td>
<td>0.222133</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>Black</td>
<td>VA</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.155752</td>
<td>0.077262</td>
<td>0.233255</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>White</td>
<td>CA</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.163718</td>
<td>0.091147</td>
<td>0.239729</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>White</td>
<td>ID</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.167293</td>
<td>0.091431</td>
<td>0.241690</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">6</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>White</td>
<td>NY</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.164431</td>
<td>0.089027</td>
<td>0.237907</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">7</td>
<td>edu</td>
<td>diff</td>
<td>(Post-grad, No HS)</td>
<td>White</td>
<td>VA</td>
<td>0.0</td>
<td>0.530191</td>
<td>0.136760</td>
<td>0.056895</td>
<td>0.219031</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>With this in mind we want to fit our final model to incorporate the variation we see here across the different levels of our stratified data.</p>
</section>
<section id="fit-final-model-to-biased-sample" class="level3">
<h3 class="anchored" data-anchor-id="fit-final-model-to-biased-sample">Fit Final Model to Biased Sample</h3>
<p>We can specify these features of our model using a hierarchical structure as follows:</p>
<p><span class="math display">\[
Pr(y_i = 1) = \text{logit}^{-1}(
\alpha_{\rm s[i]}^{\rm state}
+ \alpha_{\rm a[i]}^{\rm age}
+ \alpha_{\rm r[i]}^{\rm eth}
+ \alpha_{\rm e[i]}^{\rm edu}
+ \beta^{\rm male} \cdot {\rm Male}_{\rm i}
+ \alpha_{\rm g[i], r[i]}^{\rm male.eth}
+ \alpha_{\rm e[i], a[i]}^{\rm edu.age}
+ \alpha_{\rm e[i], r[i]}^{\rm edu.eth}
)
\]</span></p>
<p>Here we have used the fact that we can add components to the <span class="math inline">\(\alpha\)</span> intercept terms and interaction effects to express the stratum specific variation in the outcomes that we’ve seen in our exploratory work. Using the <code>bambi</code> formula syntax. We have:</p>
<div id="cell-55" class="cell" data-tags="[&quot;hide-output&quot;]" data-execution_count="26">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>formula <span class="op">=</span> <span class="st">"p(abortion, n) ~ male + repvote + (1 | state) + (1 | eth) + (1 | edu) + (1 | male:eth) + (1 | edu:age) + (1 | edu:eth)"</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>model_hierarchical <span class="op">=</span> bmb.Model(formula, model_df, family<span class="op">=</span><span class="st">"binomial"</span>)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>result <span class="op">=</span> model_hierarchical.fit(</span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    draws<span class="op">=</span><span class="dv">4000</span>,</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    random_seed<span class="op">=</span><span class="dv">110</span>,</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    target_accept<span class="op">=</span><span class="fl">0.99</span>,</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>    inference_method<span class="op">=</span><span class="st">"nutpie"</span>,</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>    idata_kwargs<span class="op">=</span>{<span class="st">"log_likelihood"</span>: <span class="va">True</span>},</span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="cell-56" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>result</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">

            <div>
              <div class="xr-header">
                <div class="xr-obj-type">arviz.InferenceData</div>
              </div>
              <ul class="xr-sections group-sections">
              
            <li class="xr-section-item">
                  <input id="idata_posterior5f71d5d4-a418-4616-b77a-f383e0154839" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_posterior5f71d5d4-a418-4616-b77a-f383e0154839" class="xr-section-summary">posterior</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 16MB
Dimensions:               (chain: 4, draw: 4000, state__factor_dim: 46,
                           eth__factor_dim: 4, edu__factor_dim: 5,
                           male:eth__factor_dim: 8, edu:age__factor_dim: 30,
                           edu:eth__factor_dim: 20)
Coordinates:
  * state__factor_dim     (state__factor_dim) &lt;U2 368B 'AK' 'AL' ... 'WV' 'WY'
  * eth__factor_dim       (eth__factor_dim) &lt;U8 128B 'Black' ... 'White'
  * edu__factor_dim       (edu__factor_dim) &lt;U14 280B '4-Year College' ... 'S...
  * male:eth__factor_dim  (male:eth__factor_dim) &lt;U13 416B '-0.5:Black' ... '...
  * draw                  (draw) int64 32kB 0 1 2 3 4 ... 3996 3997 3998 3999
  * edu:age__factor_dim   (edu:age__factor_dim) &lt;U20 2kB '4-Year College:18-2...
  * chain                 (chain) int64 32B 0 1 2 3
  * edu:eth__factor_dim   (edu:eth__factor_dim) &lt;U23 2kB '4-Year College:Blac...
Data variables: (12/15)
    1|edu:age_sigma       (chain, draw) float64 128kB 0.1344 0.1437 ... 0.156
    1|edu:eth_sigma       (chain, draw) float64 128kB 0.1177 0.1093 ... 0.2808
    1|edu_sigma           (chain, draw) float64 128kB 1.346 1.351 ... 0.04706
    1|eth_sigma           (chain, draw) float64 128kB 0.4771 0.4858 ... 0.03536
    1|male:eth_sigma      (chain, draw) float64 128kB 0.354 0.3236 ... 0.1215
    1|state_sigma         (chain, draw) float64 128kB 0.2385 0.248 ... 0.2483
    ...                    ...
    1|edu                 (chain, draw, edu__factor_dim) float64 640kB -0.236...
    1|edu:age             (chain, draw, edu:age__factor_dim) float64 4MB -0.0...
    1|edu:eth             (chain, draw, edu:eth__factor_dim) float64 3MB 0.14...
    1|eth                 (chain, draw, eth__factor_dim) float64 512kB -0.813...
    1|male:eth            (chain, draw, male:eth__factor_dim) float64 1MB 0.5...
    1|state               (chain, draw, state__factor_dim) float64 6MB -0.154...
Attributes:
    created_at:                  2025-04-12T20:47:44.644117+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-1e8be209-b2a6-4aae-af49-cd5b5f50df50" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-1e8be209-b2a6-4aae-af49-cd5b5f50df50" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 4000</li><li><span class="xr-has-index">state__factor_dim</span>: 46</li><li><span class="xr-has-index">eth__factor_dim</span>: 4</li><li><span class="xr-has-index">edu__factor_dim</span>: 5</li><li><span class="xr-has-index">male:eth__factor_dim</span>: 8</li><li><span class="xr-has-index">edu:age__factor_dim</span>: 30</li><li><span class="xr-has-index">edu:eth__factor_dim</span>: 20</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-ff2b0ff2-f53a-4dd5-8e2c-04587ffec6f3" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-ff2b0ff2-f53a-4dd5-8e2c-04587ffec6f3" class="xr-section-summary">Coordinates: <span>(8)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">state__factor_dim</span></div><div class="xr-var-dims">(state__factor_dim)</div><div class="xr-var-dtype">&lt;U2</div><div class="xr-var-preview xr-preview">'AK' 'AL' 'AR' ... 'WI' 'WV' 'WY'</div><input id="attrs-b2c40835-3b42-4234-a170-b46d63be6495" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b2c40835-3b42-4234-a170-b46d63be6495" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-510da601-b303-4134-a308-13b8ff46507d" class="xr-var-data-in" type="checkbox"><label for="data-510da601-b303-4134-a308-13b8ff46507d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['AK', 'AL', 'AR', 'CA', 'CO', 'DE', 'FL', 'GA', 'HI', 'IA', 'ID', 'IL',
       'KS', 'KY', 'LA', 'MA', 'MD', 'ME', 'MI', 'MN', 'MO', 'MS', 'MT', 'NC',
       'ND', 'NE', 'NH', 'NJ', 'NM', 'NV', 'NY', 'OH', 'OK', 'OR', 'PA', 'RI',
       'SC', 'SD', 'TN', 'UT', 'VA', 'VT', 'WA', 'WI', 'WV', 'WY'], dtype='&lt;U2')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">eth__factor_dim</span></div><div class="xr-var-dims">(eth__factor_dim)</div><div class="xr-var-dtype">&lt;U8</div><div class="xr-var-preview xr-preview">'Black' 'Hispanic' 'Other' 'White'</div><input id="attrs-22d475ed-bc4c-432d-be66-41a8abfe2b96" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-22d475ed-bc4c-432d-be66-41a8abfe2b96" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-db5ec48c-693d-4f16-b30a-958359e18d26" class="xr-var-data-in" type="checkbox"><label for="data-db5ec48c-693d-4f16-b30a-958359e18d26" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['Black', 'Hispanic', 'Other', 'White'], dtype='&lt;U8')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">edu__factor_dim</span></div><div class="xr-var-dims">(edu__factor_dim)</div><div class="xr-var-dtype">&lt;U14</div><div class="xr-var-preview xr-preview">'4-Year College' ... 'Some college'</div><input id="attrs-08c7c2d8-911c-47fd-84f6-6e5382251421" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-08c7c2d8-911c-47fd-84f6-6e5382251421" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-07550716-129b-4398-bf8b-8b0370a7d5b8" class="xr-var-data-in" type="checkbox"><label for="data-07550716-129b-4398-bf8b-8b0370a7d5b8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['4-Year College', 'HS', 'No HS', 'Post-grad', 'Some college'],
      dtype='&lt;U14')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">male:eth__factor_dim</span></div><div class="xr-var-dims">(male:eth__factor_dim)</div><div class="xr-var-dtype">&lt;U13</div><div class="xr-var-preview xr-preview">'-0.5:Black' ... '0.5:White'</div><input id="attrs-c76cdf36-4021-4a6e-8776-d581d6ab2d98" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c76cdf36-4021-4a6e-8776-d581d6ab2d98" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-65af5dd7-1b0f-48c1-b3e5-4b46ece12658" class="xr-var-data-in" type="checkbox"><label for="data-65af5dd7-1b0f-48c1-b3e5-4b46ece12658" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['-0.5:Black', '-0.5:Hispanic', '-0.5:Other', '-0.5:White', '0.5:Black',
       '0.5:Hispanic', '0.5:Other', '0.5:White'], dtype='&lt;U13')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 ... 3996 3997 3998 3999</div><input id="attrs-08f2f6bc-66e4-4228-9429-9d434093e731" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-08f2f6bc-66e4-4228-9429-9d434093e731" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-efb85556-4d67-4b68-865a-8a20fa88c463" class="xr-var-data-in" type="checkbox"><label for="data-efb85556-4d67-4b68-865a-8a20fa88c463" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([   0,    1,    2, ..., 3997, 3998, 3999], shape=(4000,))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">edu:age__factor_dim</span></div><div class="xr-var-dims">(edu:age__factor_dim)</div><div class="xr-var-dtype">&lt;U20</div><div class="xr-var-preview xr-preview">'4-Year College:18-29' ... 'Some...</div><input id="attrs-7164153f-9bd6-4ed6-803a-7e12145605b3" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7164153f-9bd6-4ed6-803a-7e12145605b3" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e68c099f-df7f-4962-9bd9-441cdafad037" class="xr-var-data-in" type="checkbox"><label for="data-e68c099f-df7f-4962-9bd9-441cdafad037" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['4-Year College:18-29', '4-Year College:30-39', '4-Year College:40-49',
       '4-Year College:50-59', '4-Year College:60-69', '4-Year College:70+',
       'HS:18-29', 'HS:30-39', 'HS:40-49', 'HS:50-59', 'HS:60-69', 'HS:70+',
       'No HS:18-29', 'No HS:30-39', 'No HS:40-49', 'No HS:50-59',
       'No HS:60-69', 'No HS:70+', 'Post-grad:18-29', 'Post-grad:30-39',
       'Post-grad:40-49', 'Post-grad:50-59', 'Post-grad:60-69',
       'Post-grad:70+', 'Some college:18-29', 'Some college:30-39',
       'Some college:40-49', 'Some college:50-59', 'Some college:60-69',
       'Some college:70+'], dtype='&lt;U20')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-413cd4eb-4068-4487-b13e-b35f95a2033d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-413cd4eb-4068-4487-b13e-b35f95a2033d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d5c76ecb-cf5b-4461-9f12-384e51d84093" class="xr-var-data-in" type="checkbox"><label for="data-d5c76ecb-cf5b-4461-9f12-384e51d84093" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">edu:eth__factor_dim</span></div><div class="xr-var-dims">(edu:eth__factor_dim)</div><div class="xr-var-dtype">&lt;U23</div><div class="xr-var-preview xr-preview">'4-Year College:Black' ... 'Some...</div><input id="attrs-0857f932-6c8e-4bee-9046-3d8b3cb30d18" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0857f932-6c8e-4bee-9046-3d8b3cb30d18" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9ca732e2-3a77-4b41-aa1f-99ce563f34a4" class="xr-var-data-in" type="checkbox"><label for="data-9ca732e2-3a77-4b41-aa1f-99ce563f34a4" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['4-Year College:Black', '4-Year College:Hispanic',
       '4-Year College:Other', '4-Year College:White', 'HS:Black',
       'HS:Hispanic', 'HS:Other', 'HS:White', 'No HS:Black', 'No HS:Hispanic',
       'No HS:Other', 'No HS:White', 'Post-grad:Black', 'Post-grad:Hispanic',
       'Post-grad:Other', 'Post-grad:White', 'Some college:Black',
       'Some college:Hispanic', 'Some college:Other', 'Some college:White'],
      dtype='&lt;U23')</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-98915871-7c9b-40f0-b67b-34ddfb00e14c" class="xr-section-summary-in" type="checkbox"><label for="section-98915871-7c9b-40f0-b67b-34ddfb00e14c" class="xr-section-summary">Data variables: <span>(15)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1344 0.1437 ... 0.1536 0.156</div><input id="attrs-65f0597a-8197-42d3-92c2-ae1245c3d550" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-65f0597a-8197-42d3-92c2-ae1245c3d550" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-90cd5488-bb46-42a3-84d3-1fdb6aa573c3" class="xr-var-data-in" type="checkbox"><label for="data-90cd5488-bb46-42a3-84d3-1fdb6aa573c3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.13441164, 0.14370398, 0.15916931, ..., 0.18880834, 0.03518931,
        0.14314809],
       [0.16019625, 0.16871859, 0.15828631, ..., 0.15253245, 0.11724478,
        0.16203634],
       [0.19024498, 0.16992334, 0.27460906, ..., 0.07731436, 0.07383145,
        0.20263921],
       [0.06723177, 0.06522316, 0.08860448, ..., 0.11617668, 0.15355656,
        0.15598383]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1177 0.1093 ... 0.2217 0.2808</div><input id="attrs-0b50c74a-8fe6-4abc-af0a-0d7d2c561287" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0b50c74a-8fe6-4abc-af0a-0d7d2c561287" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-199a85f7-ca83-48ab-b339-1a3a7aa44473" class="xr-var-data-in" type="checkbox"><label for="data-199a85f7-ca83-48ab-b339-1a3a7aa44473" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.11771773, 0.10931956, 0.09975393, ..., 0.11124875, 0.12363697,
        0.09228348],
       [0.13976966, 0.1288965 , 0.14463339, ..., 0.23322617, 0.23736116,
        0.19920126],
       [0.36019768, 0.41347014, 0.40604164, ..., 0.15508335, 0.18207936,
        0.13132313],
       [0.28470192, 0.25976583, 0.2111311 , ..., 0.3431292 , 0.22170838,
        0.28077583]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.346 1.351 ... 0.1539 0.04706</div><input id="attrs-0b75853d-0c3c-405b-ba69-7f3f8440d310" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0b75853d-0c3c-405b-ba69-7f3f8440d310" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-fa1ceff5-c8c4-414b-b623-b091b10d82e6" class="xr-var-data-in" type="checkbox"><label for="data-fa1ceff5-c8c4-414b-b623-b091b10d82e6" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.34609022, 1.35111116, 0.2212135 , ..., 0.51850869, 0.23301459,
        0.51940129],
       [0.20084021, 0.17433647, 0.18136098, ..., 0.08054317, 0.10585751,
        0.2394544 ],
       [0.00820515, 0.00878228, 0.01468995, ..., 0.25704124, 0.19729321,
        0.20225655],
       [0.03352157, 0.02812175, 0.03744695, ..., 0.34170865, 0.1538545 ,
        0.04706238]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.4771 0.4858 ... 0.2314 0.03536</div><input id="attrs-875d55b4-fcb2-40e3-adae-067bb22c1312" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-875d55b4-fcb2-40e3-adae-067bb22c1312" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ddd84b59-9bb2-44a7-ae84-b220e7a5d972" class="xr-var-data-in" type="checkbox"><label for="data-ddd84b59-9bb2-44a7-ae84-b220e7a5d972" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.4770694 , 0.48582884, 0.75481753, ..., 0.60639702, 0.45636024,
        0.53714328],
       [0.47658548, 0.41481086, 0.48152598, ..., 0.33476645, 0.78326188,
        0.88538029],
       [1.46112274, 1.43538558, 1.47628137, ..., 0.9759116 , 0.84937992,
        1.00957962],
       [0.19702956, 0.21981617, 0.16767914, ..., 0.17715399, 0.23135967,
        0.03535978]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.354 0.3236 ... 0.2696 0.1215</div><input id="attrs-257f9e48-4838-4b11-86a8-9420773ca32a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-257f9e48-4838-4b11-86a8-9420773ca32a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-2dd9eb8d-2d13-493d-9eee-b47e5b384c92" class="xr-var-data-in" type="checkbox"><label for="data-2dd9eb8d-2d13-493d-9eee-b47e5b384c92" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.35397165, 0.32364947, 0.02384236, ..., 0.03622344, 0.14971025,
        0.18014677],
       [0.387906  , 0.41517064, 0.35954647, ..., 0.18629486, 0.17286002,
        0.01491758],
       [0.12495751, 0.2235392 , 0.1203779 , ..., 0.18473111, 0.10086279,
        0.08655779],
       [0.7184852 , 0.66431673, 0.52878106, ..., 0.29469976, 0.2695665 ,
        0.12150705]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.2385 0.248 ... 0.2569 0.2483</div><input id="attrs-f75ceb78-0de6-424c-94be-d61d3ba1eab3" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f75ceb78-0de6-424c-94be-d61d3ba1eab3" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a459634a-9c07-4ddc-b39f-8ee11f5ef80b" class="xr-var-data-in" type="checkbox"><label for="data-a459634a-9c07-4ddc-b39f-8ee11f5ef80b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.23853477, 0.24803782, 0.25990388, ..., 0.26522649, 0.26257531,
        0.27854286],
       [0.2949392 , 0.2928506 , 0.29134995, ..., 0.34535457, 0.29752227,
        0.27131224],
       [0.36691287, 0.36180375, 0.28429242, ..., 0.26233375, 0.2947532 ,
        0.2601899 ],
       [0.21685807, 0.21907411, 0.2135662 , ..., 0.35388117, 0.25694889,
        0.24834829]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Intercept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.0003219 -0.07621 ... 0.3622</div><input id="attrs-69eddd6a-9f8f-4530-b57c-2f77566a3f46" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-69eddd6a-9f8f-4530-b57c-2f77566a3f46" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-df700eac-c404-4032-b997-00b24e11a977" class="xr-var-data-in" type="checkbox"><label for="data-df700eac-c404-4032-b997-00b24e11a977" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-3.21858306e-04, -7.62069524e-02, -1.85344231e-01, ...,
         3.72455227e-01, -1.28357710e-01, -1.75070205e-02],
       [ 6.75254365e-01,  6.86267808e-01,  6.64230580e-01, ...,
        -5.24206572e-02,  4.50979939e-01,  1.76310324e-01],
       [ 5.63949358e-01,  4.04841939e-01,  4.75318513e-01, ...,
        -4.73871675e-01, -1.43988959e-01, -6.65968891e-01],
       [ 3.95783430e-01,  4.30751300e-01,  1.57790349e-01, ...,
         5.72417898e-01,  5.99219020e-01,  3.62194073e-01]],
      shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>male</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1861 0.1973 ... 0.2833 0.15</div><input id="attrs-99007596-3a93-463a-8ba9-864d09ef904d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-99007596-3a93-463a-8ba9-864d09ef904d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-81ffbd18-e70d-4dae-9d25-ef853bd7dea6" class="xr-var-data-in" type="checkbox"><label for="data-81ffbd18-e70d-4dae-9d25-ef853bd7dea6" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.18614108, 0.1972769 , 0.24609322, ..., 0.28845895, 0.14738262,
        0.38867358],
       [0.24864871, 0.26618414, 0.30451655, ..., 0.290124  , 0.40927837,
        0.26403336],
       [0.01147796, 0.00675254, 0.00233586, ..., 0.22756571, 0.20263934,
        0.24459288],
       [0.36824705, 0.37411922, 0.38068321, ..., 0.62651956, 0.28326965,
        0.14996354]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>repvote</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.3935 -0.3044 ... -1.388 -1.119</div><input id="attrs-b834a60b-322a-43dc-acac-97408e8efcc9" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b834a60b-322a-43dc-acac-97408e8efcc9" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3972316f-9b8e-4463-a0ea-1ae9cd149d62" class="xr-var-data-in" type="checkbox"><label for="data-3972316f-9b8e-4463-a0ea-1ae9cd149d62" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-0.3934767 , -0.3044197 , -0.18716323, ..., -1.47690415,
        -1.01878333, -0.61104586],
       [-1.116523  , -1.10614173, -1.14699793, ..., -0.67779123,
        -1.43154409, -0.67383683],
       [-1.78520666, -1.58065665, -1.49763204, ..., -0.32421597,
        -0.96578146, -0.20842237],
       [-0.94040154, -1.02003633, -0.76954264, ..., -1.1079926 ,
        -1.38755167, -1.11909619]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu</span></div><div class="xr-var-dims">(chain, draw, edu__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.2361 0.03952 ... -0.08723</div><input id="attrs-5f96c518-1ef6-4cb9-9e9e-b5326140aab0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5f96c518-1ef6-4cb9-9e9e-b5326140aab0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-509cfb9a-800b-4f65-bcbc-f0afefd89132" class="xr-var-data-in" type="checkbox"><label for="data-509cfb9a-800b-4f65-bcbc-f0afefd89132" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-0.23606639,  0.03952195,  0.19390099, -0.58725864,
         -0.10353753],
        [-0.04072258, -0.05117268,  0.0944052 , -0.56205338,
          0.03253908],
        [-0.06853926, -0.00565181,  0.12518418, -0.44266426,
          0.05553575],
        ...,
        [-0.14576388,  0.14932598,  0.28614487, -0.35608171,
          0.02875589],
        [ 0.12322133,  0.16399086,  0.29470316, -0.10561501,
          0.1359425 ],
        [-0.06701444, -0.04051351,  0.21726117, -0.36566861,
         -0.13364958]],

       [[-0.0576874 , -0.12125953,  0.09555403, -0.19359222,
          0.16842842],
        [-0.0584045 , -0.09947117,  0.09720323, -0.18202035,
          0.14304346],
        [-0.06979621, -0.10658497,  0.12894312, -0.14951308,
          0.16244339],
...
        [ 0.16398121,  0.02355287,  0.05073705, -0.34309796,
         -0.04993389],
        [-0.01554162, -0.06221654,  0.02175718, -0.29554477,
         -0.22269852],
        [ 0.05869026, -0.22167485,  0.00438661, -0.36304784,
         -0.12497928]],

       [[ 0.01106397,  0.00913131,  0.01688615, -0.01077497,
         -0.02580242],
        [ 0.0048783 , -0.00149741, -0.00177262,  0.00663449,
         -0.01237859],
        [ 0.01842357, -0.01586298,  0.01010242,  0.01033829,
         -0.00466377],
        ...,
        [-0.1117301 ,  0.19562763,  0.00675094, -0.76317213,
         -0.02942159],
        [-0.17036106,  0.02770568,  0.26875207,  0.01220776,
          0.00094009],
        [-0.00703157,  0.0854295 , -0.00123738, -0.02605878,
         -0.08722852]]], shape=(4, 4000, 5))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age</span></div><div class="xr-var-dims">(chain, draw, edu:age__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.0658 -0.09502 ... 0.12 -0.0549</div><input id="attrs-c66c2e6f-3a50-4ce4-9f16-fa151fbd9041" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c66c2e6f-3a50-4ce4-9f16-fa151fbd9041" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-95baf706-a41f-4511-82bd-e1674dafdc36" class="xr-var-data-in" type="checkbox"><label for="data-95baf706-a41f-4511-82bd-e1674dafdc36" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-0.06580405, -0.09501558,  0.1117735 , ..., -0.161431  ,
          0.06880415,  0.09496863],
        [-0.06568834, -0.07150977,  0.11391269, ..., -0.17510751,
          0.0642265 ,  0.11404995],
        [ 0.06671058, -0.06212731, -0.15775793, ..., -0.00986691,
          0.10263592,  0.13340623],
        ...,
        [ 0.24962068,  0.22585613, -0.11065996, ...,  0.00842856,
          0.19569075,  0.25245259],
        [-0.04149419,  0.00966698, -0.02895544, ...,  0.00099467,
         -0.02481149, -0.02970359],
        [ 0.03411322, -0.19025902, -0.04022661, ...,  0.00494236,
          0.0963688 ,  0.29311101]],

       [[ 0.07784129, -0.04760669,  0.00683357, ..., -0.15049798,
          0.01717726,  0.11121074],
        [ 0.06663115, -0.04488087, -0.00399348, ..., -0.1646276 ,
          0.0031251 ,  0.11959057],
        [ 0.10554835, -0.04361274, -0.00759353, ..., -0.13586593,
         -0.03044159,  0.17281195],
...
        [-0.00373851,  0.03225081, -0.1176617 , ...,  0.08989114,
          0.11482376,  0.03773806],
        [ 0.01626914, -0.0147687 , -0.10202513, ...,  0.0326447 ,
          0.07211576,  0.01780689],
        [-0.45474507, -0.16836101, -0.28859303, ..., -0.0252933 ,
         -0.05470419,  0.29621247]],

       [[-0.00282311, -0.08021558,  0.02250639, ...,  0.01537817,
          0.09167904,  0.06972863],
        [ 0.05604518, -0.03303047,  0.02468017, ...,  0.00189076,
          0.09297964,  0.12434294],
        [ 0.05579271, -0.04335375, -0.00739794, ...,  0.00754659,
          0.08632638,  0.13417489],
        ...,
        [-0.06643662, -0.07156536, -0.08991674, ..., -0.07743765,
          0.13517072, -0.024519  ],
        [ 0.03862708,  0.14417763, -0.07728414, ...,  0.14113535,
          0.08486243,  0.3274914 ],
        [-0.04941882,  0.00230183, -0.01546024, ..., -0.11303916,
          0.11997926, -0.05490342]]], shape=(4, 4000, 30))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth</span></div><div class="xr-var-dims">(chain, draw, edu:eth__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1416 -0.02554 ... -0.1221 0.6262</div><input id="attrs-8d4ee5c3-d8da-4114-87d8-514b90834b90" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8d4ee5c3-d8da-4114-87d8-514b90834b90" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8a8fb302-b177-4cba-8e9f-0599339f3d6b" class="xr-var-data-in" type="checkbox"><label for="data-8a8fb302-b177-4cba-8e9f-0599339f3d6b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 1.41552800e-01, -2.55372634e-02, -4.13537297e-02, ...,
          8.06654268e-02,  1.12093738e-01,  1.74819555e-01],
        [ 1.48043337e-01, -3.88778108e-02, -1.19108127e-02, ...,
          6.80000359e-02,  1.19721248e-01,  1.73944853e-01],
        [-1.08284988e-01, -2.39574397e-02,  1.38273186e-01, ...,
         -6.49435053e-02, -1.46928886e-01,  3.81065660e-02],
        ...,
        [ 2.54121469e-02,  9.92249123e-02,  4.41362660e-02, ...,
          5.81225282e-02, -5.98904317e-02,  2.55109883e-01],
        [-1.05956417e-01, -3.53505242e-01, -3.30730244e-02, ...,
          1.93970671e-01, -9.94523759e-02,  1.02401566e-01],
        [ 1.16564656e-01,  1.58589118e-01,  4.54278311e-02, ...,
         -1.90160234e-01,  4.23185965e-02,  2.85031059e-01]],

       [[-2.77373049e-02, -3.00759886e-01, -2.16976647e-02, ...,
         -3.33475054e-01, -1.32921253e-02,  9.10967145e-02],
        [-2.86452627e-02, -3.03551376e-01, -2.95181391e-02, ...,
         -3.38176810e-01,  2.74523792e-03,  9.55083085e-02],
        [ 3.23616518e-02, -3.47651801e-01, -6.06412486e-02, ...,
         -2.95783064e-01,  2.29155216e-02,  1.44689727e-01],
...
          1.29182899e-01,  2.09732131e-01,  2.31666873e-01],
        [-5.27013102e-02, -2.36951601e-01,  1.72038476e-01, ...,
          2.29523419e-01,  3.30497675e-01,  2.80871478e-01],
        [ 4.04275531e-02, -1.73196897e-01,  1.62445186e-01, ...,
         -9.66062913e-02,  6.33620840e-02,  1.46286311e-01]],

       [[ 3.80728677e-01, -1.27113675e-01,  4.17930524e-02, ...,
          2.07388380e-02,  8.04929936e-02,  4.76554332e-02],
        [ 2.73369833e-01,  3.80901603e-03, -3.57404701e-01, ...,
         -8.80357513e-02,  1.51508895e-01,  7.72201950e-02],
        [ 2.72481084e-01, -8.73063441e-03, -2.39814236e-01, ...,
         -2.65066393e-02,  9.80264076e-02,  5.17560252e-02],
        ...,
        [ 2.30311217e-01, -3.34987473e-01, -2.57489529e-01, ...,
         -2.48816444e-01, -2.15065852e-01,  3.46272219e-01],
        [ 9.42023631e-02,  1.19818352e-04,  3.86048731e-01, ...,
         -6.06371493e-02,  2.10485093e-01,  2.95462063e-01],
        [-1.66574647e-01,  3.46865305e-02,  1.98867547e-01, ...,
          1.85916285e-01, -1.22075234e-01,  6.26150382e-01]]],
      shape=(4, 4000, 20))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth</span></div><div class="xr-var-dims">(chain, draw, eth__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.813 0.376 ... 0.01006 -0.01473</div><input id="attrs-7b07ce93-ad6d-4de5-9ba6-fde7541ab791" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7b07ce93-ad6d-4de5-9ba6-fde7541ab791" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-85455627-e89f-446a-b741-411be8dcc05e" class="xr-var-data-in" type="checkbox"><label for="data-85455627-e89f-446a-b741-411be8dcc05e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-0.81300941,  0.37598337,  0.33992714,  0.40225461],
        [-0.73591208,  0.44240008,  0.32706899,  0.41423505],
        [-0.64901435,  0.20310546,  0.15831128,  0.27652794],
        ...,
        [-0.29069406,  0.15600426,  0.1414519 ,  0.31656927],
        [-0.35531592,  0.44696303,  0.41187067,  0.6334792 ],
        [-0.10005083,  0.04771385,  0.47991707,  0.30580031]],

       [[-0.7382472 , -0.11106205, -0.07110273, -0.53509545],
        [-0.61320653, -0.131576  , -0.0859798 , -0.4748674 ],
        [-0.74770391, -0.15147255, -0.14979473, -0.49323646],
        ...,
        [-0.04051779, -0.07522958,  0.42199783,  0.13724378],
        [-0.13098407,  0.1611958 ,  0.40540588,  0.08518507],
        [-0.23532152,  0.24372888,  0.16984744,  0.42337685]],

       [[-0.22091011,  0.26695156,  0.21715657,  0.46316998],
        [-0.16781611,  0.01703062,  0.36230376,  0.68904393],
        [-0.50723314,  0.11310465,  0.16856559,  0.41465675],
        ...,
        [-0.07859355,  0.46873659,  0.21127119,  0.66537277],
        [ 0.25550376,  0.45557766,  0.37056397,  0.76009951],
        [ 0.26670344,  0.84316704,  0.66777948,  0.90391942]],

       [[-0.15810267, -0.02843205, -0.1752418 , -0.15141295],
        [-0.24641641,  0.06571814, -0.13337538, -0.15771727],
        [-0.18192129,  0.12485717, -0.10055871, -0.14864204],
        ...,
        [-0.26494812,  0.32982861, -0.0424683 , -0.22476109],
        [-0.01008326,  0.17393471,  0.02683767, -0.19003531],
        [ 0.00685285,  0.00541247,  0.01005723, -0.01473437]]],
      shape=(4, 4000, 4))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth</span></div><div class="xr-var-dims">(chain, draw, male:eth__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.5367 -0.1466 ... 0.04687 0.1735</div><input id="attrs-da47fec7-d82c-48b1-9d09-a66e93b5f4aa" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-da47fec7-d82c-48b1-9d09-a66e93b5f4aa" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c4821bf1-59ba-4cd9-8af9-2a17910990ea" class="xr-var-data-in" type="checkbox"><label for="data-c4821bf1-59ba-4cd9-8af9-2a17910990ea" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 0.53666726, -0.14659088, -0.01051454, ..., -0.07886515,
         -0.26242731, -0.06394192],
        [ 0.49983783, -0.03773404, -0.08990654, ..., -0.10159896,
         -0.2396677 , -0.02977189],
        [-0.02027423, -0.01914877,  0.02354076, ...,  0.01255169,
          0.02164773,  0.00742125],
        ...,
        [-0.03312325,  0.03090077, -0.0067438 , ...,  0.00447494,
          0.01608005, -0.03327538],
        [ 0.12421165, -0.07967298,  0.0739437 , ..., -0.09117925,
         -0.06883314, -0.06168866],
        [-0.19453771,  0.09743795, -0.05669856, ...,  0.1765203 ,
         -0.21333708,  0.03118991]],

       [[-0.30101035, -0.13763932, -0.24753248, ...,  0.26099436,
         -0.17428794,  0.48749867],
        [-0.18781258, -0.1782078 , -0.20678099, ...,  0.24099459,
         -0.13348059,  0.53420899],
        [-0.1584891 , -0.05736607, -0.28940156, ...,  0.1618874 ,
         -0.33393529,  0.4555195 ],
...
        [ 0.09868322, -0.36299329,  0.06631239, ...,  0.02873544,
         -0.09298074, -0.05020437],
        [-0.05537263, -0.01639645,  0.10740681, ...,  0.1675895 ,
         -0.09719602, -0.07247783],
        [-0.09817336, -0.12545263, -0.07364686, ..., -0.00308771,
         -0.04985223, -0.0823832 ]],

       [[-0.67515165, -0.33331529,  0.06219964, ...,  0.10726802,
          0.04554298,  0.21340511],
        [-0.43433301, -0.18892972,  0.21716303, ..., -0.26259872,
         -0.04755359,  0.19030465],
        [-0.49615194, -0.22545399,  0.23793127, ..., -0.01304088,
         -0.01962695,  0.34990258],
        ...,
        [-0.23933899,  0.13106667,  0.2208941 , ..., -0.08476503,
          0.18526623,  0.07594984],
        [-0.39046374, -0.11455443, -0.28321851, ..., -0.09104462,
         -0.0646196 ,  0.10316641],
        [-0.07583492, -0.06073763,  0.18137331, ...,  0.21309601,
          0.04687095,  0.17349325]]], shape=(4, 4000, 8))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state</span></div><div class="xr-var-dims">(chain, draw, state__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.1547 -0.04735 ... 0.3345 -0.1952</div><input id="attrs-6db85044-00b3-4bb1-af10-989bc8ea83f5" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-6db85044-00b3-4bb1-af10-989bc8ea83f5" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-bade0bdf-f431-4e11-86de-a9dfd3ea7c07" class="xr-var-data-in" type="checkbox"><label for="data-bade0bdf-f431-4e11-86de-a9dfd3ea7c07" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-1.54713295e-01, -4.73476880e-02,  8.20595488e-02, ...,
         -1.58003948e-01,  7.27553354e-02,  3.62057400e-01],
        [-2.04601681e-01, -3.23745203e-02,  7.36662212e-02, ...,
         -1.68892587e-01,  7.30813214e-02,  3.67768155e-01],
        [ 4.35385009e-01,  4.01403727e-01, -1.66041061e-01, ...,
          4.08629417e-01,  4.61206759e-01, -2.94980043e-01],
        ...,
        [ 2.04333612e-01,  1.36918396e-01,  1.90852903e-01, ...,
          4.16465975e-02,  4.17282109e-01,  7.26306856e-02],
        [ 2.94135990e-01,  3.91411284e-01, -3.90516760e-02, ...,
         -1.38545935e-01,  4.71502407e-01, -5.58963464e-02],
        [-2.72980644e-02,  1.63809778e-01,  1.28677607e-01, ...,
          9.64369358e-02,  3.80814045e-01,  4.84268827e-02]],

       [[ 1.93710139e-01,  1.46261526e-01,  6.47443284e-02, ...,
         -9.63762571e-02,  5.63566303e-01, -3.22097128e-01],
        [ 3.10778844e-02,  1.78542916e-01,  6.94696415e-02, ...,
         -1.61681231e-01,  5.73968344e-01, -3.83559859e-01],
        [ 9.02372178e-02,  1.93320685e-01, -5.99915354e-02, ...,
         -1.20579835e-01,  5.36800809e-01, -3.62891352e-01],
...
          8.94609641e-02,  4.70647435e-01,  1.88396082e-01],
        [ 3.82913651e-01,  3.40828846e-01,  7.79209736e-02, ...,
          2.28512066e-01,  4.97625240e-01, -3.69064217e-01],
        [ 1.94561414e-01,  1.16993643e-01,  2.59973717e-01, ...,
          1.26311901e-01,  3.75683765e-01,  8.09470861e-02]],

       [[-1.72469487e-01,  2.83054539e-01,  2.76103336e-02, ...,
          2.70089069e-01,  5.10136092e-01,  7.62677209e-02],
        [ 3.15014363e-02,  2.86295249e-01,  4.19188246e-02, ...,
          2.92696575e-01,  4.94168187e-01,  1.03153740e-01],
        [-5.19507574e-03,  3.73057517e-01,  7.80096128e-02, ...,
          9.06004034e-02,  4.76666500e-01,  1.71554718e-01],
        ...,
        [-6.28950018e-02,  3.39280628e-01,  4.92034480e-02, ...,
         -3.51470501e-01,  4.48495073e-01, -2.63362750e-01],
        [ 5.08924441e-01,  2.11967257e-01,  1.51174541e-02, ...,
          3.94309100e-01,  3.57383418e-01,  1.15675811e-01],
        [-1.33127632e-01,  2.80507213e-01,  4.09042457e-02, ...,
         -3.95254617e-01,  3.34464820e-01, -1.95206105e-01]]],
      shape=(4, 4000, 46))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-0cd092a6-96b4-4c83-9aae-d134c4d95146" class="xr-section-summary-in" type="checkbox"><label for="section-0cd092a6-96b4-4c83-9aae-d134c4d95146" class="xr-section-summary">Indexes: <span>(8)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>state__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-a1cf54e1-e242-4b36-9902-30ed629739cd" class="xr-index-data-in" type="checkbox"><label for="index-a1cf54e1-e242-4b36-9902-30ed629739cd" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['AK', 'AL', 'AR', 'CA', 'CO', 'DE', 'FL', 'GA', 'HI', 'IA', 'ID', 'IL',
       'KS', 'KY', 'LA', 'MA', 'MD', 'ME', 'MI', 'MN', 'MO', 'MS', 'MT', 'NC',
       'ND', 'NE', 'NH', 'NJ', 'NM', 'NV', 'NY', 'OH', 'OK', 'OR', 'PA', 'RI',
       'SC', 'SD', 'TN', 'UT', 'VA', 'VT', 'WA', 'WI', 'WV', 'WY'],
      dtype='object', name='state__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>eth__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-9de409b7-4a4e-48e3-aff4-bc6545add472" class="xr-index-data-in" type="checkbox"><label for="index-9de409b7-4a4e-48e3-aff4-bc6545add472" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['Black', 'Hispanic', 'Other', 'White'], dtype='object', name='eth__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>edu__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-e3f87e2a-4c5f-4448-a242-385ca77b2a00" class="xr-index-data-in" type="checkbox"><label for="index-e3f87e2a-4c5f-4448-a242-385ca77b2a00" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['4-Year College', 'HS', 'No HS', 'Post-grad', 'Some college'], dtype='object', name='edu__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>male:eth__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-21a0d8d6-073a-4657-b52a-528a7f17b1d5" class="xr-index-data-in" type="checkbox"><label for="index-21a0d8d6-073a-4657-b52a-528a7f17b1d5" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['-0.5:Black', '-0.5:Hispanic', '-0.5:Other', '-0.5:White', '0.5:Black',
       '0.5:Hispanic', '0.5:Other', '0.5:White'],
      dtype='object', name='male:eth__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-d725262d-bd3a-4e3a-bdfb-18409a30bf05" class="xr-index-data-in" type="checkbox"><label for="index-d725262d-bd3a-4e3a-bdfb-18409a30bf05" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([   0,    1,    2,    3,    4,    5,    6,    7,    8,    9,
       ...
       3990, 3991, 3992, 3993, 3994, 3995, 3996, 3997, 3998, 3999],
      dtype='int64', name='draw', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>edu:age__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-ee537c02-f6cb-4d4c-b271-7c3c519b0733" class="xr-index-data-in" type="checkbox"><label for="index-ee537c02-f6cb-4d4c-b271-7c3c519b0733" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['4-Year College:18-29', '4-Year College:30-39', '4-Year College:40-49',
       '4-Year College:50-59', '4-Year College:60-69', '4-Year College:70+',
       'HS:18-29', 'HS:30-39', 'HS:40-49', 'HS:50-59', 'HS:60-69', 'HS:70+',
       'No HS:18-29', 'No HS:30-39', 'No HS:40-49', 'No HS:50-59',
       'No HS:60-69', 'No HS:70+', 'Post-grad:18-29', 'Post-grad:30-39',
       'Post-grad:40-49', 'Post-grad:50-59', 'Post-grad:60-69',
       'Post-grad:70+', 'Some college:18-29', 'Some college:30-39',
       'Some college:40-49', 'Some college:50-59', 'Some college:60-69',
       'Some college:70+'],
      dtype='object', name='edu:age__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-2961ccd0-adac-43b5-9a93-253e3080618a" class="xr-index-data-in" type="checkbox"><label for="index-2961ccd0-adac-43b5-9a93-253e3080618a" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>edu:eth__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-1c83a820-d77a-41ab-af89-a5c81fbaa4b3" class="xr-index-data-in" type="checkbox"><label for="index-1c83a820-d77a-41ab-af89-a5c81fbaa4b3" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['4-Year College:Black', '4-Year College:Hispanic',
       '4-Year College:Other', '4-Year College:White', 'HS:Black',
       'HS:Hispanic', 'HS:Other', 'HS:White', 'No HS:Black', 'No HS:Hispanic',
       'No HS:Other', 'No HS:White', 'Post-grad:Black', 'Post-grad:Hispanic',
       'Post-grad:Other', 'Post-grad:White', 'Some college:Black',
       'Some college:Hispanic', 'Some college:Other', 'Some college:White'],
      dtype='object', name='edu:eth__factor_dim'))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-e81957c5-18e4-41bb-a5c4-b46792f8d713" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-e81957c5-18e4-41bb-a5c4-b46792f8d713" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.644117+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_sample_statsa063f918-0099-4bee-81af-9ad062e74d1e" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_sample_statsa063f918-0099-4bee-81af-9ad062e74d1e" class="xr-section-summary">sample_stats</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 1MB
Dimensions:               (chain: 4, draw: 4000)
Coordinates:
  * chain                 (chain) int64 32B 0 1 2 3
  * draw                  (draw) int64 32kB 0 1 2 3 4 ... 3996 3997 3998 3999
Data variables:
    depth                 (chain, draw) uint64 128kB 5 5 5 5 4 5 ... 5 6 5 5 5 5
    diverging             (chain, draw) bool 16kB False False ... False False
    energy                (chain, draw) float64 128kB 2.255e+03 ... 2.265e+03
    energy_error          (chain, draw) float64 128kB 0.0 0.8447 ... 0.3695
    index_in_trajectory   (chain, draw) int64 128kB 0 -1 20 10 ... -4 11 21 21
    logp                  (chain, draw) float64 128kB -2.195e+03 ... -2.192e+03
    maxdepth_reached      (chain, draw) bool 16kB False False ... False False
    mean_tree_accept      (chain, draw) float64 128kB 0.003212 ... 0.5059
    mean_tree_accept_sym  (chain, draw) float64 128kB 0.006398 ... 0.6373
    n_steps               (chain, draw) uint64 128kB 31 31 31 31 ... 31 31 31 31
    step_size             (chain, draw) float64 128kB 0.1945 0.1945 ... 0.1749
    step_size_bar         (chain, draw) float64 128kB 0.1945 0.1945 ... 0.1749
Attributes:
    created_at:                  2025-04-12T20:47:44.479410+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-1745de26-fe5a-4768-b8eb-260bd0b115d5" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-1745de26-fe5a-4768-b8eb-260bd0b115d5" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 4000</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-20e3adb9-6398-4d15-af52-d323990c475d" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-20e3adb9-6398-4d15-af52-d323990c475d" class="xr-section-summary">Coordinates: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-8ff71db9-e2a1-476f-922c-04a9d6d855cb" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8ff71db9-e2a1-476f-922c-04a9d6d855cb" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-250da3b7-19c3-43dc-a2a1-a01df6664bd2" class="xr-var-data-in" type="checkbox"><label for="data-250da3b7-19c3-43dc-a2a1-a01df6664bd2" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 ... 3996 3997 3998 3999</div><input id="attrs-23d71131-8e22-4da0-b2aa-a9f674cd930c" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-23d71131-8e22-4da0-b2aa-a9f674cd930c" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7874d056-1717-49f5-a5ad-46c3fcb65090" class="xr-var-data-in" type="checkbox"><label for="data-7874d056-1717-49f5-a5ad-46c3fcb65090" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([   0,    1,    2, ..., 3997, 3998, 3999], shape=(4000,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-d7bb57de-0cdd-4b48-b43d-2e305726b1ba" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-d7bb57de-0cdd-4b48-b43d-2e305726b1ba" class="xr-section-summary">Data variables: <span>(12)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>depth</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">5 5 5 5 4 5 5 5 ... 5 5 5 6 5 5 5 5</div><input id="attrs-26415c4b-7410-452b-9785-097414bfc956" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-26415c4b-7410-452b-9785-097414bfc956" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d5534ec0-079a-40a7-9dd2-93c4e4de4e57" class="xr-var-data-in" type="checkbox"><label for="data-d5534ec0-079a-40a7-9dd2-93c4e4de4e57" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[5, 5, 5, ..., 5, 5, 5],
       [5, 5, 6, ..., 5, 5, 5],
       [5, 5, 5, ..., 5, 5, 5],
       [5, 5, 5, ..., 5, 5, 5]], shape=(4, 4000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>diverging</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False False False ... False False</div><input id="attrs-ca20d1fb-ae38-4213-821c-051169573565" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ca20d1fb-ae38-4213-821c-051169573565" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9825a4a9-b7a1-4029-b202-b57fae83ed0e" class="xr-var-data-in" type="checkbox"><label for="data-9825a4a9-b7a1-4029-b202-b57fae83ed0e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.255e+03 2.265e+03 ... 2.265e+03</div><input id="attrs-3d44e3c0-4462-428b-88bd-84da5e42cc7b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-3d44e3c0-4462-428b-88bd-84da5e42cc7b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-309b19fd-c27f-43df-96f3-0435a23d6955" class="xr-var-data-in" type="checkbox"><label for="data-309b19fd-c27f-43df-96f3-0435a23d6955" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[2255.117334  , 2264.51911296, 2271.28129   , ..., 2251.66136029,
        2269.75710454, 2265.80349644],
       [2237.80104932, 2243.93710343, 2230.0145833 , ..., 2257.31341858,
        2272.02897877, 2246.81377807],
       [2252.14394962, 2246.62068636, 2236.1609259 , ..., 2251.75162628,
        2238.84657812, 2241.87218089],
       [2264.40923367, 2260.40331607, 2250.3805075 , ..., 2240.2513712 ,
        2249.09295148, 2264.5290031 ]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy_error</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.0 0.8447 ... 0.01143 0.3695</div><input id="attrs-34ba8bc3-a1ac-4cda-8e51-be0b94312f5f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-34ba8bc3-a1ac-4cda-8e51-be0b94312f5f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b4d59cc1-a308-4ba2-86c6-49a8dcf56270" class="xr-var-data-in" type="checkbox"><label for="data-b4d59cc1-a308-4ba2-86c6-49a8dcf56270" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 0.        ,  0.84470961, -1.4539347 , ..., -0.31018692,
         0.25727831, -0.62968532],
       [-0.51218275,  3.05568577, -2.8394705 , ...,  0.02725061,
        -0.20539784, -0.11696598],
       [-1.20939903,  0.7575223 , -0.3399562 , ...,  0.11625358,
         0.0552306 , -0.29775544],
       [ 0.11760641,  0.01299384,  0.39737546, ...,  1.77924518,
         0.01143386,  0.36951499]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>index_in_trajectory</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 -1 20 10 11 23 ... 20 -4 11 21 21</div><input id="attrs-13829177-eef4-4057-aebb-fbb544e3a284" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-13829177-eef4-4057-aebb-fbb544e3a284" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f0cb2b75-f073-47a2-bf00-6f1750945e6a" class="xr-var-data-in" type="checkbox"><label for="data-f0cb2b75-f073-47a2-bf00-6f1750945e6a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[  0,  -1,  20, ..., -26, -24, -17],
       [ -8,   1,  -2, ..., -17, -14, -19],
       [ -7,   3,   8, ..., -10,   8,  -9],
       [ 17,  -4,  -4, ...,  11,  21,  21]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>logp</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-2.195e+03 -2.2e+03 ... -2.192e+03</div><input id="attrs-25b76f3e-873a-4d3b-b1dd-a4cbe8ddde41" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-25b76f3e-873a-4d3b-b1dd-a4cbe8ddde41" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-057a88fe-cfb6-4184-a337-4c6bab59e53e" class="xr-var-data-in" type="checkbox"><label for="data-057a88fe-cfb6-4184-a337-4c6bab59e53e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-2195.28683531, -2199.69964304, -2192.48052209, ...,
        -2190.6539001 , -2204.62821134, -2196.67659335],
       [-2178.45558846, -2181.68135477, -2174.42955449, ...,
        -2202.52662822, -2191.97227334, -2190.34640282],
       [-2174.0529038 , -2177.6868388 , -2176.95514328, ...,
        -2189.79435862, -2176.25676299, -2192.38894971],
       [-2200.77698495, -2195.69861311, -2190.99082132, ...,
        -2179.17716831, -2186.05129393, -2191.79406429]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>maxdepth_reached</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False False False ... False False</div><input id="attrs-e37d436a-5104-4a96-afeb-51a9a7501b5b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e37d436a-5104-4a96-afeb-51a9a7501b5b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c04184e0-5b86-4fd0-9954-b7e96def8ddd" class="xr-var-data-in" type="checkbox"><label for="data-c04184e0-5b86-4fd0-9954-b7e96def8ddd" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.003212 0.01469 ... 0.9123 0.5059</div><input id="attrs-b3d9049e-45bf-4df1-9fc9-dcbf374af2cd" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b3d9049e-45bf-4df1-9fc9-dcbf374af2cd" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-25338be8-74b6-4b5c-b458-40c66da7820c" class="xr-var-data-in" type="checkbox"><label for="data-25338be8-74b6-4b5c-b458-40c66da7820c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.0032122 , 0.01468574, 0.7121965 , ..., 0.99523485, 0.93958582,
        0.76843208],
       [0.4646414 , 0.02347937, 0.35517416, ..., 0.99451639, 0.90787172,
        0.82817024],
       [0.97277143, 0.19049798, 0.21162333, ..., 0.91410456, 0.43072501,
        0.49844013],
       [0.48641789, 0.93830285, 0.52977933, ..., 0.23108827, 0.91234701,
        0.50593332]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept_sym</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.006398 0.02101 ... 0.8852 0.6373</div><input id="attrs-f1c971ad-bb37-4e8c-963b-e48343f437ec" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f1c971ad-bb37-4e8c-963b-e48343f437ec" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-aa67a877-5034-42c2-b968-d46b8a8f1238" class="xr-var-data-in" type="checkbox"><label for="data-aa67a877-5034-42c2-b968-d46b8a8f1238" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.00639806, 0.02100856, 0.26571785, ..., 0.91373449, 0.93793325,
        0.7677669 ],
       [0.48529583, 0.03865938, 0.31063868, ..., 0.94220104, 0.92448941,
        0.8299252 ],
       [0.87320319, 0.21384995, 0.19321452, ..., 0.94347875, 0.56745197,
        0.57673148],
       [0.61583831, 0.95821908, 0.58996206, ..., 0.34443986, 0.88518716,
        0.63731185]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>n_steps</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">31 31 31 31 15 ... 63 31 31 31 31</div><input id="attrs-3589d280-18bd-4455-a279-ad79afefc8fa" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-3589d280-18bd-4455-a279-ad79afefc8fa" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3534e885-bd3e-4e41-8c08-52cebdd8588d" class="xr-var-data-in" type="checkbox"><label for="data-3534e885-bd3e-4e41-8c08-52cebdd8588d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 31,  31,  31, ...,  31,  31,  31],
       [ 31,  31, 127, ...,  31,  31,  31],
       [ 31,  31,  63, ...,  31,  31,  31],
       [ 31,  31,  31, ...,  31,  31,  31]], shape=(4, 4000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1945 0.1945 ... 0.1749 0.1749</div><input id="attrs-2ee127c5-4cac-4000-815f-efc6872257eb" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-2ee127c5-4cac-4000-815f-efc6872257eb" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-6b301f37-8b05-4fe3-937a-9368407768d0" class="xr-var-data-in" type="checkbox"><label for="data-6b301f37-8b05-4fe3-937a-9368407768d0" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.19447538, 0.19447538, 0.19447538, ..., 0.19447538, 0.19447538,
        0.19447538],
       [0.17929565, 0.17929565, 0.17929565, ..., 0.17929565, 0.17929565,
        0.17929565],
       [0.17100847, 0.17100847, 0.17100847, ..., 0.17100847, 0.17100847,
        0.17100847],
       [0.17490276, 0.17490276, 0.17490276, ..., 0.17490276, 0.17490276,
        0.17490276]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size_bar</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1945 0.1945 ... 0.1749 0.1749</div><input id="attrs-1cf54c31-ba1f-431b-8846-cd9bc28b1dcb" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-1cf54c31-ba1f-431b-8846-cd9bc28b1dcb" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-da1fddf9-9d5e-42f2-b43c-b099c9a73ec2" class="xr-var-data-in" type="checkbox"><label for="data-da1fddf9-9d5e-42f2-b43c-b099c9a73ec2" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.19447538, 0.19447538, 0.19447538, ..., 0.19447538, 0.19447538,
        0.19447538],
       [0.17929565, 0.17929565, 0.17929565, ..., 0.17929565, 0.17929565,
        0.17929565],
       [0.17100847, 0.17100847, 0.17100847, ..., 0.17100847, 0.17100847,
        0.17100847],
       [0.17490276, 0.17490276, 0.17490276, ..., 0.17490276, 0.17490276,
        0.17490276]], shape=(4, 4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-7ce48da2-117a-4e9a-8cb4-db1a0b55222a" class="xr-section-summary-in" type="checkbox"><label for="section-7ce48da2-117a-4e9a-8cb4-db1a0b55222a" class="xr-section-summary">Indexes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-9308145a-9a14-4704-9e87-ea25f5a8ddae" class="xr-index-data-in" type="checkbox"><label for="index-9308145a-9a14-4704-9e87-ea25f5a8ddae" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-8fd2ce47-256c-4812-bab9-9da3fdf3b73a" class="xr-index-data-in" type="checkbox"><label for="index-8fd2ce47-256c-4812-bab9-9da3fdf3b73a" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([   0,    1,    2,    3,    4,    5,    6,    7,    8,    9,
       ...
       3990, 3991, 3992, 3993, 3994, 3995, 3996, 3997, 3998, 3999],
      dtype='int64', name='draw', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-cbc50fe5-60de-424d-a44a-d54b8d7a4e00" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-cbc50fe5-60de-424d-a44a-d54b8d7a4e00" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.479410+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_observed_data08586989-7cbe-49fd-a847-2fa595f9522c" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_observed_data08586989-7cbe-49fd-a847-2fa595f9522c" class="xr-section-summary">observed_data</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 177kB
Dimensions:         (__obs__: 11040)
Coordinates:
  * __obs__         (__obs__) int64 88kB 0 1 2 3 4 ... 11036 11037 11038 11039
Data variables:
    p(abortion, n)  (__obs__) int64 88kB 18 16 13 12 11 11 11 ... 0 0 0 0 0 0 0
Attributes:
    created_at:                  2025-04-12T20:47:44.644117+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-32cf74cd-8f15-49e1-9604-38e94bde1cd3" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-32cf74cd-8f15-49e1-9604-38e94bde1cd3" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">__obs__</span>: 11040</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-304abf2b-8bd8-4aae-abc6-2efbb8a0d4a2" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-304abf2b-8bd8-4aae-abc6-2efbb8a0d4a2" class="xr-section-summary">Coordinates: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">__obs__</span></div><div class="xr-var-dims">(__obs__)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 ... 11036 11037 11038 11039</div><input id="attrs-a5e586b6-7a87-4daa-927a-630e833d5298" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-a5e586b6-7a87-4daa-927a-630e833d5298" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b936eb5c-1f4c-4256-a7a6-7552e55cb86b" class="xr-var-data-in" type="checkbox"><label for="data-b936eb5c-1f4c-4256-a7a6-7552e55cb86b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([    0,     1,     2, ..., 11037, 11038, 11039], shape=(11040,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-58b3a5e9-3c6d-44f5-a870-79b672e9a372" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-58b3a5e9-3c6d-44f5-a870-79b672e9a372" class="xr-section-summary">Data variables: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>p(abortion, n)</span></div><div class="xr-var-dims">(__obs__)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">18 16 13 12 11 11 ... 0 0 0 0 0 0</div><input id="attrs-8e1fdbd0-22cb-4652-b634-e1a87480aefd" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8e1fdbd0-22cb-4652-b634-e1a87480aefd" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5ae80315-ac36-4b1c-99ad-40162ba241e5" class="xr-var-data-in" type="checkbox"><label for="data-5ae80315-ac36-4b1c-99ad-40162ba241e5" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([18, 16, 13, ...,  0,  0,  0], shape=(11040,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-8b71788d-ccf0-46fe-b5de-b1d7e7286435" class="xr-section-summary-in" type="checkbox"><label for="section-8b71788d-ccf0-46fe-b5de-b1d7e7286435" class="xr-section-summary">Indexes: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>__obs__</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-7a7e73a6-3c32-4ba2-ba71-b3ed88d9edf1" class="xr-index-data-in" type="checkbox"><label for="index-7a7e73a6-3c32-4ba2-ba71-b3ed88d9edf1" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([    0,     1,     2,     3,     4,     5,     6,     7,     8,     9,
       ...
       11030, 11031, 11032, 11033, 11034, 11035, 11036, 11037, 11038, 11039],
      dtype='int64', name='__obs__', length=11040))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-3b0d653d-8235-458b-aca8-6e027117b747" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-3b0d653d-8235-458b-aca8-6e027117b747" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.644117+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_warmup_posterior1253a3a7-686a-4a39-8492-79426df0c590" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_warmup_posterior1253a3a7-686a-4a39-8492-79426df0c590" class="xr-section-summary">warmup_posterior</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 4MB
Dimensions:                  (chain: 4, draw: 1000, 1|edu:age_offset_dim_0: 30,
                              1|edu:eth_offset_dim_0: 20,
                              1|edu_offset_dim_0: 5, 1|eth_offset_dim_0: 4,
                              1|male:eth_offset_dim_0: 8,
                              1|state_offset_dim_0: 46)
Coordinates:
  * chain                    (chain) int64 32B 0 1 2 3
  * draw                     (draw) int64 8kB 0 1 2 3 4 ... 995 996 997 998 999
  * 1|edu:age_offset_dim_0   (1|edu:age_offset_dim_0) int64 240B 0 1 2 ... 28 29
  * 1|edu:eth_offset_dim_0   (1|edu:eth_offset_dim_0) int64 160B 0 1 2 ... 18 19
  * 1|edu_offset_dim_0       (1|edu_offset_dim_0) int64 40B 0 1 2 3 4
  * 1|eth_offset_dim_0       (1|eth_offset_dim_0) int64 32B 0 1 2 3
  * 1|male:eth_offset_dim_0  (1|male:eth_offset_dim_0) int64 64B 0 1 2 3 4 5 6 7
  * 1|state_offset_dim_0     (1|state_offset_dim_0) int64 368B 0 1 2 ... 44 45
Data variables: (12/15)
    1|edu:age_offset         (chain, draw, 1|edu:age_offset_dim_0) float64 960kB ...
    1|edu:age_sigma          (chain, draw) float64 32kB 2.207 2.207 ... 0.2669
    1|edu:eth_offset         (chain, draw, 1|edu:eth_offset_dim_0) float64 640kB ...
    1|edu:eth_sigma          (chain, draw) float64 32kB 3.4 3.4 ... 0.2148
    1|edu_offset             (chain, draw, 1|edu_offset_dim_0) float64 160kB ...
    1|edu_sigma              (chain, draw) float64 32kB 1.923 1.923 ... 0.04515
    ...                       ...
    1|male:eth_sigma         (chain, draw) float64 32kB 0.5565 0.5565 ... 0.4587
    1|state_offset           (chain, draw, 1|state_offset_dim_0) float64 1MB ...
    1|state_sigma            (chain, draw) float64 32kB 0.6829 0.6829 ... 0.2371
    Intercept                (chain, draw) float64 32kB 1.71 1.71 ... 0.1291
    male                     (chain, draw) float64 32kB 1.447 1.447 ... 0.4612
    repvote                  (chain, draw) float64 32kB -0.9648 ... -1.736
Attributes:
    created_at:                  2025-04-12T20:47:44.648045+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-c03960da-e0f6-45a5-875d-3483c3411e87" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-c03960da-e0f6-45a5-875d-3483c3411e87" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 1000</li><li><span class="xr-has-index">1|edu:age_offset_dim_0</span>: 30</li><li><span class="xr-has-index">1|edu:eth_offset_dim_0</span>: 20</li><li><span class="xr-has-index">1|edu_offset_dim_0</span>: 5</li><li><span class="xr-has-index">1|eth_offset_dim_0</span>: 4</li><li><span class="xr-has-index">1|male:eth_offset_dim_0</span>: 8</li><li><span class="xr-has-index">1|state_offset_dim_0</span>: 46</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-62a38bff-4fbb-443f-8060-ec42b934d572" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-62a38bff-4fbb-443f-8060-ec42b934d572" class="xr-section-summary">Coordinates: <span>(8)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-eb467d65-f69d-490e-adbc-427db1f1e395" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-eb467d65-f69d-490e-adbc-427db1f1e395" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a33222ce-ea6a-4a52-bfff-9163ef9e3717" class="xr-var-data-in" type="checkbox"><label for="data-a33222ce-ea6a-4a52-bfff-9163ef9e3717" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 ... 995 996 997 998 999</div><input id="attrs-09aba44c-2398-4880-a5f8-b2054c683631" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-09aba44c-2398-4880-a5f8-b2054c683631" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a27eb60c-cf24-4ba0-98d7-076e3effea8a" class="xr-var-data-in" type="checkbox"><label for="data-a27eb60c-cf24-4ba0-98d7-076e3effea8a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([  0,   1,   2, ..., 997, 998, 999], shape=(1000,))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|edu:age_offset_dim_0</span></div><div class="xr-var-dims">(1|edu:age_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 ... 24 25 26 27 28 29</div><input id="attrs-d40b0959-900b-47f1-a1a3-753030fca042" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d40b0959-900b-47f1-a1a3-753030fca042" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f5c0332d-763e-4f7d-8fda-5f87cfad82eb" class="xr-var-data-in" type="checkbox"><label for="data-f5c0332d-763e-4f7d-8fda-5f87cfad82eb" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|edu:eth_offset_dim_0</span></div><div class="xr-var-dims">(1|edu:eth_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 ... 14 15 16 17 18 19</div><input id="attrs-4f3e946c-adf6-4cca-ad78-f68f2d04fd48" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4f3e946c-adf6-4cca-ad78-f68f2d04fd48" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-064db66c-fe2f-44b9-a15a-edb540be8882" class="xr-var-data-in" type="checkbox"><label for="data-064db66c-fe2f-44b9-a15a-edb540be8882" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|edu_offset_dim_0</span></div><div class="xr-var-dims">(1|edu_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4</div><input id="attrs-5c082919-f312-45dd-a757-361988f88983" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5c082919-f312-45dd-a757-361988f88983" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-034fd68c-3b77-4a06-bd40-389b6dc3eaa8" class="xr-var-data-in" type="checkbox"><label for="data-034fd68c-3b77-4a06-bd40-389b6dc3eaa8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3, 4])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|eth_offset_dim_0</span></div><div class="xr-var-dims">(1|eth_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-e2b1fb18-b1b4-434d-863d-8dcd87e9dbcd" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e2b1fb18-b1b4-434d-863d-8dcd87e9dbcd" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-fe33e289-2da4-4b1a-9a55-7008f1999148" class="xr-var-data-in" type="checkbox"><label for="data-fe33e289-2da4-4b1a-9a55-7008f1999148" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|male:eth_offset_dim_0</span></div><div class="xr-var-dims">(1|male:eth_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 7</div><input id="attrs-0c2e7ed9-cb59-4303-9780-b8bde42dc9f0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0c2e7ed9-cb59-4303-9780-b8bde42dc9f0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-28e8e97e-b823-4f52-921a-82dcc03fa614" class="xr-var-data-in" type="checkbox"><label for="data-28e8e97e-b823-4f52-921a-82dcc03fa614" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3, 4, 5, 6, 7])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|state_offset_dim_0</span></div><div class="xr-var-dims">(1|state_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 ... 40 41 42 43 44 45</div><input id="attrs-8aaf2ab6-0b93-4fed-a4e0-c4f3bcf59605" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8aaf2ab6-0b93-4fed-a4e0-c4f3bcf59605" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-fbdd5a14-2771-4587-8d3d-1f7c472dcd0d" class="xr-var-data-in" type="checkbox"><label for="data-fbdd5a14-2771-4587-8d3d-1f7c472dcd0d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
       36, 37, 38, 39, 40, 41, 42, 43, 44, 45])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-ffa863de-bb79-41be-b476-bc6966fc95d3" class="xr-section-summary-in" type="checkbox"><label for="section-ffa863de-bb79-41be-b476-bc6966fc95d3" class="xr-section-summary">Data variables: <span>(15)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age_offset</span></div><div class="xr-var-dims">(chain, draw, 1|edu:age_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.7128 -0.5591 ... 0.005938 0.3943</div><input id="attrs-95e34ecc-2640-4d8f-8208-31b37f72f327" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-95e34ecc-2640-4d8f-8208-31b37f72f327" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-cb3d0400-1f30-438e-a55e-f5b8eb04baed" class="xr-var-data-in" type="checkbox"><label for="data-cb3d0400-1f30-438e-a55e-f5b8eb04baed" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 0.71284134, -0.559058  ,  0.37604117, ...,  0.74880404,
          0.39094029, -1.70421955],
        [ 0.71284134, -0.559058  ,  0.37604117, ...,  0.74880404,
          0.39094029, -1.70421955],
        [ 0.4123814 , -0.93819344, -0.02554036, ...,  0.32689999,
          0.13899644, -1.19476971],
        ...,
        [ 0.2688731 ,  0.85206963, -0.65962647, ..., -0.70168721,
          1.43265963,  1.4161706 ],
        [ 0.80456226, -0.28526599,  0.43157533, ...,  0.06894895,
          0.9645582 ,  0.22450678],
        [-0.48957108, -0.70689993,  0.83157602, ..., -1.20101943,
          0.51189126,  0.70655059]],

       [[-1.21768468,  1.46814066,  0.02411921, ...,  1.82335468,
         -0.42807295, -1.75143342],
        [-1.21768468,  1.46814066,  0.02411921, ...,  1.82335468,
         -0.42807295, -1.75143342],
        [-1.31805243,  1.32350838, -0.06725975, ...,  1.62623674,
         -0.61223836, -1.9421984 ],
...
        [-0.74162495, -0.8804506 , -1.12681241, ..., -0.9669782 ,
          0.53939908,  1.27312825],
        [ 0.0894784 ,  0.17694982, -0.91446162, ...,  0.6731494 ,
          0.40317466,  0.32936144],
        [-1.14579979, -0.88363346, -0.96322569, ..., -0.54172027,
          0.84529024,  1.26946813]],

       [[ 0.29170452, -0.44934613,  0.71507369, ...,  0.61230857,
         -1.29450008,  1.53568806],
        [ 0.29170452, -0.44934613,  0.71507369, ...,  0.61230857,
         -1.29450008,  1.53568806],
        [ 0.19294842, -0.67933206,  0.5395378 , ...,  0.50094114,
         -0.65779379,  1.54083684],
        ...,
        [ 0.97462607, -0.38596485, -1.27249723, ...,  0.75782858,
          0.82203813,  1.834766  ],
        [-0.47406525,  0.02122943,  0.30284372, ..., -0.06532138,
          0.14637834,  0.67223118],
        [-0.35694681,  0.72158438, -1.37142036, ..., -0.23166229,
          0.00593751,  0.39427214]]], shape=(4, 1000, 30))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.207 2.207 1.741 ... 0.2755 0.2669</div><input id="attrs-e2ec544c-598b-446c-9c3d-c5e3da122106" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e2ec544c-598b-446c-9c3d-c5e3da122106" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-af5489c1-581a-4e10-8937-92230711b484" class="xr-var-data-in" type="checkbox"><label for="data-af5489c1-581a-4e10-8937-92230711b484" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[2.20679535, 2.20679535, 1.74138944, ..., 0.19250073, 0.19368443,
        0.13441164],
       [0.51136144, 0.51136144, 0.6314906 , ..., 0.30519338, 0.1541938 ,
        0.17071181],
       [0.72213574, 0.72213574, 0.48138778, ..., 0.14969559, 0.15653443,
        0.10686433],
       [0.68243807, 0.68243807, 0.57525882, ..., 0.20726959, 0.27550811,
        0.26694358]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth_offset</span></div><div class="xr-var-dims">(chain, draw, 1|edu:eth_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.444 1.782 ... -0.765 1.817</div><input id="attrs-24a35fa6-efdd-4b28-8d50-17717755bdc5" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-24a35fa6-efdd-4b28-8d50-17717755bdc5" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-790564a2-6c01-4f04-be11-7dfe628720e2" class="xr-var-data-in" type="checkbox"><label for="data-790564a2-6c01-4f04-be11-7dfe628720e2" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 1.44358834,  1.78188384, -0.3140895 , ..., -1.70353938,
         -1.51594326,  0.13619058],
        [ 1.44358834,  1.78188384, -0.3140895 , ..., -1.70353938,
         -1.51594326,  0.13619058],
        [ 1.17256779,  1.37940198,  0.09445394, ..., -1.27980578,
         -1.10235072, -0.12960883],
        ...,
        [ 0.22817186, -2.29355524,  1.21622413, ...,  0.21409064,
          1.40904082,  2.58940913],
        [ 1.13859571, -1.02730924, -0.09432704, ...,  0.4263745 ,
          0.83989848,  2.32297436],
        [ 1.20247648, -0.21693643, -0.35129568, ...,  0.68524451,
          0.95222478,  1.48507414]],

       [[-1.09759564,  1.34260381, -0.71388256, ..., -1.21759091,
          1.95427275,  0.1335923 ],
        [-1.09759564,  1.34260381, -0.71388256, ..., -1.21759091,
          1.95427275,  0.1335923 ],
        [-1.31947569,  1.2015818 , -0.59328092, ..., -1.28976924,
          1.76558803,  0.04491539],
...
        [-1.1444141 , -0.98827778,  0.65455218, ...,  0.37755987,
         -1.40151706,  1.87303559],
        [ 1.74927511, -0.3606366 , -0.56677345, ..., -0.11671515,
          1.10394301,  1.21906373],
        [-1.00871338, -1.28078011,  1.50015663, ...,  0.59647944,
         -0.67371608,  0.4514342 ]],

       [[-0.0687315 ,  0.24114353, -1.00602106, ...,  1.14399771,
         -0.13716406,  0.44994605],
        [-0.0687315 ,  0.24114353, -1.00602106, ...,  1.14399771,
         -0.13716406,  0.44994605],
        [-0.13716768,  0.13189594, -1.23614932, ...,  0.99470055,
          0.00838824,  0.47072865],
        ...,
        [ 0.42372791,  0.21598527,  0.17775972, ..., -0.49084891,
         -0.12306211,  0.5570425 ],
        [ 0.00693822, -2.42175288, -0.10464558, ...,  1.13306058,
          0.40161278,  2.62168841],
        [-0.80003785, -1.02202843,  0.67516659, ...,  0.37221963,
         -0.76499699,  1.81682732]]], shape=(4, 1000, 20))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">3.4 3.4 2.434 ... 0.1439 0.2148</div><input id="attrs-b0a67c7b-da79-4f1a-a90f-cc4e4f13b1fc" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b0a67c7b-da79-4f1a-a90f-cc4e4f13b1fc" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9e7c0605-c546-4766-bc0a-aef2326db8ec" class="xr-var-data-in" type="checkbox"><label for="data-9e7c0605-c546-4766-bc0a-aef2326db8ec" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[3.39982226, 3.39982226, 2.43409832, ..., 0.1327177 , 0.08950519,
        0.11771773],
       [2.94300814, 2.94300814, 3.32859576, ..., 0.17159414, 0.08078945,
        0.09115935],
       [0.3416421 , 0.3416421 , 0.42488684, ..., 0.22939412, 0.15340315,
        0.31419936],
       [0.23591808, 0.23591808, 0.2232372 , ..., 0.2514691 , 0.14392624,
        0.21483413]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu_offset</span></div><div class="xr-var-dims">(chain, draw, 1|edu_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.6799 -0.6844 ... 2.152 -1.49</div><input id="attrs-3328c60b-1679-4315-923d-19307c775eb2" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-3328c60b-1679-4315-923d-19307c775eb2" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5865e7cb-4385-48b2-949c-b27ba09476e3" class="xr-var-data-in" type="checkbox"><label for="data-5865e7cb-4385-48b2-949c-b27ba09476e3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-6.79935877e-01, -6.84408955e-01,  1.59365968e+00,
          7.92140493e-01, -6.18473772e-03],
        [-6.79935877e-01, -6.84408955e-01,  1.59365968e+00,
          7.92140493e-01, -6.18473772e-03],
        [-1.09305519e+00, -3.41392211e-01,  1.10731435e+00,
          6.43737360e-01, -1.84907701e-01],
        ...,
        [ 1.15816502e-01,  3.64117553e-01,  4.78521421e-01,
         -3.95091176e-01,  1.34470320e-01],
        [-3.31028337e-01, -5.52540954e-02,  5.24320116e-01,
         -9.60232694e-01, -1.37144148e-01],
        [-1.75371893e-01,  2.93605514e-02,  1.44047545e-01,
         -4.36269895e-01, -7.69172279e-02]],

       [[ 1.61806159e+00,  1.79286740e+00,  1.54573293e+00,
         -7.01920512e-01,  1.33111758e+00],
        [ 1.61806159e+00,  1.79286740e+00,  1.54573293e+00,
         -7.01920512e-01,  1.33111758e+00],
        [ 1.47970882e+00,  1.53454918e+00,  1.55723103e+00,
         -6.28465213e-01,  1.22880413e+00],
...
        [-5.17364216e-01,  8.76813774e-01, -1.85970157e+00,
         -7.84438830e-01,  1.24563036e+00],
        [ 1.10720607e-01,  1.00951612e+00,  2.19785908e-03,
          3.99383423e-02, -6.91177056e-02],
        [-1.18266225e+00,  7.25895500e-01, -4.89571991e-02,
         -8.87131886e-01,  2.07018417e+00]],

       [[ 1.41498026e+00,  8.57629353e-01, -9.99644481e-01,
          1.64880866e+00, -2.12788773e+00],
        [ 1.41498026e+00,  8.57629353e-01, -9.99644481e-01,
          1.64880866e+00, -2.12788773e+00],
        [ 1.39117169e+00,  7.40003640e-01, -9.02709435e-01,
          1.50073062e+00, -2.32017906e+00],
        ...,
        [ 9.48002620e-01, -5.67396497e-01,  6.39786518e-01,
         -4.12647871e-01, -2.58774270e+00],
        [-6.27536039e-01,  2.27203639e+00,  1.72646246e-01,
          3.30741996e+00, -1.60296639e+00],
        [-4.72089868e-01,  2.70965145e+00, -2.50499836e-01,
          2.15224708e+00, -1.49040802e+00]]], shape=(4, 1000, 5))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.923 1.923 ... 0.02619 0.04515</div><input id="attrs-e6eb9c2e-b832-473b-ba76-f357ac3802ab" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e6eb9c2e-b832-473b-ba76-f357ac3802ab" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-324903b7-c46c-4e60-8924-a70bbf51f253" class="xr-var-data-in" type="checkbox"><label for="data-324903b7-c46c-4e60-8924-a70bbf51f253" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.92258148, 1.92258148, 2.03860841, ..., 0.79197204, 0.61015705,
        1.34609022],
       [0.47593805, 0.47593805, 0.44675043, ..., 0.18640394, 0.22803854,
        0.30466096],
       [3.15137817, 3.15137817, 3.049039  , ..., 0.00522084, 0.01586651,
        0.00860991],
       [0.12569072, 0.12569072, 0.10984866, ..., 0.0200157 , 0.0261926 ,
        0.0451503 ]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth_offset</span></div><div class="xr-var-dims">(chain, draw, 1|eth_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-1.164 -0.7458 ... -0.1858 -1.456</div><input id="attrs-87e3263e-88b7-46b5-ab6b-dc9352126c3f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-87e3263e-88b7-46b5-ab6b-dc9352126c3f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-6a65f63e-07d0-4590-919c-8c19ede57a1a" class="xr-var-data-in" type="checkbox"><label for="data-6a65f63e-07d0-4590-919c-8c19ede57a1a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-1.16423607, -0.7458115 , -1.71091637,  0.84569769],
        [-1.16423607, -0.7458115 , -1.71091637,  0.84569769],
        [-1.6805584 , -1.39265605, -1.39822273,  0.50515946],
        ...,
        [-1.78706275, -0.36278758, -0.74613155,  0.44885528],
        [-1.11690926,  0.00452115,  0.16627439,  0.77984695],
        [-1.70417429,  0.78811042,  0.71253183,  0.84317838]],

       [[ 0.33530368,  1.23202858, -1.89355075,  0.70002915],
        [ 0.33530368,  1.23202858, -1.89355075,  0.70002915],
        [ 0.20728239,  1.13354082, -1.81398765,  0.5699263 ],
        ...,
        [-1.39126029, -1.04293742, -0.17549371, -0.72012673],
        [-1.22717927, -0.97711633,  0.06983505, -1.02376793],
        [-1.58778742, -0.43288271, -0.04551575, -1.06405512]],

       [[-0.334924  ,  0.76886558, -1.25737908, -1.34129619],
        [-0.334924  ,  0.76886558, -1.25737908, -1.34129619],
        [-0.53626431,  1.21687794,  0.27810603, -1.27912712],
        ...,
        [-0.75266115, -0.29809349,  0.41913554, -0.1667127 ],
        [-0.77472939, -0.23572446, -0.08319828,  0.19420046],
        [-0.42365684,  0.17548603, -0.05446857,  0.44084516]],

       [[ 1.56784721,  0.15929714, -0.1720116 ,  0.88865306],
        [ 1.56784721,  0.15929714, -0.1720116 ,  0.88865306],
        [ 1.35437949,  0.19857634,  0.17339459,  0.75178772],
        ...,
        [-3.25323958, -0.67517452, -0.08829342, -1.73117769],
        [-1.0131411 , -1.10757146, -0.15901279, -1.35809749],
        [-0.56733943, -0.70313804, -0.18576981, -1.45609532]]],
      shape=(4, 1000, 4))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.2866 0.2866 ... 0.3137 0.4433</div><input id="attrs-f2849235-6921-4ad8-889e-511f762a8086" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f2849235-6921-4ad8-889e-511f762a8086" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f0d8e917-7a01-4dd1-a446-1f7bc587ea5b" class="xr-var-data-in" type="checkbox"><label for="data-f0d8e917-7a01-4dd1-a446-1f7bc587ea5b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.28658842, 0.28658842, 0.2044168 , ..., 0.31388123, 0.4135409 ,
        0.4770694 ],
       [0.85290821, 0.85290821, 0.76836297, ..., 0.31341053, 0.19105631,
        0.29057462],
       [1.90209977, 1.90209977, 1.70711999, ..., 0.58543312, 0.79502785,
        1.02221963],
       [0.16795377, 0.16795377, 0.15681596, ..., 0.24204904, 0.31368987,
        0.4433213 ]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth_offset</span></div><div class="xr-var-dims">(chain, draw, 1|male:eth_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.6706 -0.3828 ... -0.7867 0.919</div><input id="attrs-39051429-dd6d-4d7e-a961-fd2e57a34ed6" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-39051429-dd6d-4d7e-a961-fd2e57a34ed6" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-1fa7447e-165e-45c1-a547-bc2c90971216" class="xr-var-data-in" type="checkbox"><label for="data-1fa7447e-165e-45c1-a547-bc2c90971216" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 0.67057163, -0.38282787, -1.92864715, ...,  0.58750663,
         -1.15339175, -1.57570338],
        [ 0.67057163, -0.38282787, -1.92864715, ...,  0.58750663,
         -1.15339175, -1.57570338],
        [ 0.3198245 , -0.57849822, -1.70308278, ...,  0.70945675,
         -0.55956457, -1.99412672],
        ...,
        [ 0.23617281, -1.12068392,  0.45955454, ...,  0.79103077,
         -0.9808991 , -0.4587655 ],
        [ 0.60897805, -0.45938247,  0.18883163, ...,  1.19447145,
         -0.12878561, -0.68026181],
        [ 1.51613063, -0.41413169, -0.02970446, ..., -0.22280074,
         -0.74137946, -0.18064136]],

       [[ 1.08247912,  0.85950671, -0.92743118, ..., -1.53946097,
         -1.32494537, -0.5559548 ],
        [ 1.08247912,  0.85950671, -0.92743118, ..., -1.53946097,
         -1.32494537, -0.5559548 ],
        [ 0.9987628 ,  0.70358365, -0.77533989, ..., -1.43862678,
         -1.20037422, -0.44734798],
...
        [-0.31883389,  0.23839145, -0.44028795, ...,  1.73303938,
         -1.45333747, -0.28443378],
        [ 0.30045055, -0.02002226,  1.69398056, ..., -1.17483091,
          0.34217228, -0.48570567],
        [ 0.37034702, -0.34928659, -0.70996217, ...,  1.22835604,
         -0.79119053, -1.46678738]],

       [[ 0.68243096,  1.35181653,  0.44409381, ...,  0.36092888,
          0.85691157, -0.69123998],
        [ 0.68243096,  1.35181653,  0.44409381, ...,  0.36092888,
          0.85691157, -0.69123998],
        [ 0.70719832,  1.23008949,  0.23278259, ...,  0.26154587,
          0.72962884, -0.74513839],
        ...,
        [-0.49218514, -1.49285637,  0.01997551, ..., -0.14111163,
         -0.53292376,  1.32663378],
        [ 0.23977966,  1.26458124,  0.54516764, ...,  0.74745682,
          0.24040893,  0.78454126],
        [-0.33138344,  0.52250237,  0.10679882, ...,  0.76968037,
         -0.78674429,  0.91898486]]], shape=(4, 1000, 8))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.5565 0.5565 ... 0.3144 0.4587</div><input id="attrs-36d72915-fa0f-4b92-aabf-7f4a1d59f3dd" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-36d72915-fa0f-4b92-aabf-7f4a1d59f3dd" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3cc5e602-b440-4695-b1cf-5d17b76e81a1" class="xr-var-data-in" type="checkbox"><label for="data-3cc5e602-b440-4695-b1cf-5d17b76e81a1" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.55654638, 0.55654638, 0.47173424, ..., 0.14502639, 0.11510072,
        0.35397165],
       [5.92096708, 5.92096708, 5.30469133, ..., 0.28376172, 0.44457125,
        0.25405373],
       [2.84398156, 2.84398156, 2.69861033, ..., 0.24587144, 0.11621561,
        0.11500084],
       [0.49223971, 0.49223971, 0.44182216, ..., 0.28661462, 0.31435972,
        0.45866093]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state_offset</span></div><div class="xr-var-dims">(chain, draw, 1|state_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.328 1.512 ... 0.7377 -0.1718</div><input id="attrs-bf2b6696-bd9c-4fd1-a2ac-4eee1ab14f6a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-bf2b6696-bd9c-4fd1-a2ac-4eee1ab14f6a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f4bfd0e7-f312-4711-a521-f6edebc85354" class="xr-var-data-in" type="checkbox"><label for="data-f4bfd0e7-f312-4711-a521-f6edebc85354" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 1.32764977e+00,  1.51240388e+00,  7.38744287e-01, ...,
          1.51712510e+00, -9.55234167e-01, -1.32477381e+00],
        [ 1.32764977e+00,  1.51240388e+00,  7.38744287e-01, ...,
          1.51712510e+00, -9.55234167e-01, -1.32477381e+00],
        [ 1.19815751e+00,  1.07778935e+00,  1.73197696e-01, ...,
          1.12046093e+00, -4.47833064e-01, -1.01715084e+00],
        ...,
        [ 1.52811810e+00,  3.85987874e-01,  6.09365671e-01, ...,
         -8.03484486e-01,  1.06356820e+00,  1.10305668e+00],
        [-2.87006599e-01,  4.37404478e-01, -1.97034173e-01, ...,
         -6.18244363e-01,  1.32706091e+00,  1.28199453e+00],
        [-6.48598495e-01, -1.98493860e-01,  3.44015036e-01, ...,
         -6.62393772e-01,  3.05009346e-01,  1.51783908e+00]],

       [[ 3.99929191e-02,  1.14009809e-01, -2.26559882e-03, ...,
         -1.47190428e+00, -1.85196771e+00,  1.69641207e+00],
        [ 3.99929191e-02,  1.14009809e-01, -2.26559882e-03, ...,
         -1.47190428e+00, -1.85196771e+00,  1.69641207e+00],
        [ 8.51255720e-02, -2.00036421e-02, -2.57014718e-02, ...,
         -1.37853408e+00, -1.91445673e+00,  1.92665108e+00],
...
          5.12683584e-02,  6.59013542e-01,  3.66731795e-01],
        [-7.50212401e-01,  1.50119085e+00,  5.87311601e-01, ...,
         -1.31594922e-01,  2.81097129e+00, -5.01790444e-01],
        [ 1.54852717e+00,  5.60001907e-01,  4.11253345e-01, ...,
         -3.17406129e-02,  1.38807976e+00,  8.10677570e-01]],

       [[ 5.37297425e-01, -2.48550831e-01,  2.70162548e-01, ...,
          8.13976596e-01,  1.13454382e+00,  1.39958396e+00],
        [ 5.37297425e-01, -2.48550831e-01,  2.70162548e-01, ...,
          8.13976596e-01,  1.13454382e+00,  1.39958396e+00],
        [ 4.82238542e-01, -8.35327561e-02,  8.23319485e-01, ...,
          7.18426076e-01,  1.05092443e+00,  1.33024596e+00],
        ...,
        [-2.08706331e-01,  5.05488764e-01, -1.25808331e-01, ...,
          1.45668663e+00,  1.03769998e+00,  5.85423010e-01],
        [ 2.14996048e+00,  1.90346523e+00, -4.68219970e-01, ...,
         -2.26125772e+00,  1.62691117e+00, -1.89182626e-01],
        [ 1.74338111e+00,  1.46272570e+00,  6.77247764e-01, ...,
         -9.12021602e-01,  7.37728283e-01, -1.71831129e-01]]],
      shape=(4, 1000, 46))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.6829 0.6829 ... 0.2709 0.2371</div><input id="attrs-3add132c-9581-4d5e-bc92-18f61317af64" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-3add132c-9581-4d5e-bc92-18f61317af64" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-eb8b6561-9286-4e71-9f22-61d628172b8f" class="xr-var-data-in" type="checkbox"><label for="data-eb8b6561-9286-4e71-9f22-61d628172b8f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.68294453, 0.68294453, 0.47597338, ..., 0.3166898 , 0.26310342,
        0.23853477],
       [0.48732248, 0.48732248, 0.56707422, ..., 0.26024814, 0.32277951,
        0.32279895],
       [2.05568578, 2.05568578, 1.65932599, ..., 0.30970357, 0.21027966,
        0.31050671],
       [2.38824981, 2.38824981, 2.11596641, ..., 0.34811532, 0.27093666,
        0.23708151]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Intercept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.71 1.71 1.28 ... -0.01795 0.1291</div><input id="attrs-b0e3ca66-b499-4062-ac1d-d8b9efb06f84" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b0e3ca66-b499-4062-ac1d-d8b9efb06f84" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d90de9dd-4695-41ac-a478-42454e4c6f8c" class="xr-var-data-in" type="checkbox"><label for="data-d90de9dd-4695-41ac-a478-42454e4c6f8c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 1.71028959,  1.71028959,  1.28005466, ..., -0.29997418,
        -0.12755291, -0.20893971],
       [ 1.74645266,  1.74645266,  1.60297339, ...,  0.11459596,
         0.07938967,  0.08932437],
       [ 0.08662674,  0.08662674,  0.13167436, ..., -0.00511883,
        -0.10603177, -0.28388583],
       [-1.64414654, -1.64414654, -1.78845943, ..., -0.02493661,
        -0.01795309,  0.12905368]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>male</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.447 1.447 1.303 ... 0.419 0.4612</div><input id="attrs-89f68075-dc9d-4f82-9c6e-032e9cfb5941" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-89f68075-dc9d-4f82-9c6e-032e9cfb5941" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ca365625-82d2-4066-875c-8ddc5c9761bb" class="xr-var-data-in" type="checkbox"><label for="data-ca365625-82d2-4066-875c-8ddc5c9761bb" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 1.44738757,  1.44738757,  1.3033607 , ...,  0.22013317,
         0.19386891,  0.18614108],
       [ 0.24508297,  0.24508297,  0.34051537, ...,  0.35577553,
         0.55212564,  0.28104772],
       [-0.7803069 , -0.7803069 , -0.44296594, ...,  0.06652206,
         0.37866062,  0.26965973],
       [ 0.25440362,  0.25440362,  0.45240137, ...,  0.22115184,
         0.41900722,  0.46124262]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>repvote</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.9648 -0.9648 ... -1.35 -1.736</div><input id="attrs-29dea5b0-0832-445b-8a38-164beceb6023" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-29dea5b0-0832-445b-8a38-164beceb6023" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-60263ee2-bbac-4660-86f0-de24566cd12b" class="xr-var-data-in" type="checkbox"><label for="data-60263ee2-bbac-4660-86f0-de24566cd12b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-0.96478962, -0.96478962, -1.5002596 , ..., -1.00577532,
        -0.82047131, -0.3934767 ],
       [-1.88419423, -1.88419423, -2.05791893, ..., -1.0962935 ,
        -0.88288692, -1.34401508],
       [-0.12793358, -0.12793358,  0.54299439, ..., -0.68627744,
        -1.8192177 , -1.72799597],
       [ 0.11495385,  0.11495385, -0.06781174, ..., -0.3260194 ,
        -1.35030456, -1.73640289]], shape=(4, 1000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-ea010378-b64a-4b5d-82ba-b5ebf1f5af88" class="xr-section-summary-in" type="checkbox"><label for="section-ea010378-b64a-4b5d-82ba-b5ebf1f5af88" class="xr-section-summary">Indexes: <span>(8)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-8f922819-1ab1-4c55-bc65-74f2e32717ca" class="xr-index-data-in" type="checkbox"><label for="index-8f922819-1ab1-4c55-bc65-74f2e32717ca" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-a5fd9bde-9aac-4b00-975f-3a4d360e0d65" class="xr-index-data-in" type="checkbox"><label for="index-a5fd9bde-9aac-4b00-975f-3a4d360e0d65" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,
       ...
       990, 991, 992, 993, 994, 995, 996, 997, 998, 999],
      dtype='int64', name='draw', length=1000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|edu:age_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-c9801a88-07b9-4f1b-99df-ecf92db56a52" class="xr-index-data-in" type="checkbox"><label for="index-c9801a88-07b9-4f1b-99df-ecf92db56a52" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29],
      dtype='int64', name='1|edu:age_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|edu:eth_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-d7aab734-d3f9-4a3a-a890-30f53fbf95ff" class="xr-index-data-in" type="checkbox"><label for="index-d7aab734-d3f9-4a3a-a890-30f53fbf95ff" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], dtype='int64', name='1|edu:eth_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|edu_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-846a7567-3da3-497b-bdff-fb6ecf456861" class="xr-index-data-in" type="checkbox"><label for="index-846a7567-3da3-497b-bdff-fb6ecf456861" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3, 4], dtype='int64', name='1|edu_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|eth_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-8f8b4d3b-ef87-4ea9-b72f-6d4abea7f3de" class="xr-index-data-in" type="checkbox"><label for="index-8f8b4d3b-ef87-4ea9-b72f-6d4abea7f3de" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='1|eth_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|male:eth_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-637787cd-531a-4ca8-8e64-7e2556d7646c" class="xr-index-data-in" type="checkbox"><label for="index-637787cd-531a-4ca8-8e64-7e2556d7646c" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3, 4, 5, 6, 7], dtype='int64', name='1|male:eth_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|state_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-e422726c-5b28-41d1-8b61-98f3dc063a6d" class="xr-index-data-in" type="checkbox"><label for="index-e422726c-5b28-41d1-8b61-98f3dc063a6d" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
       36, 37, 38, 39, 40, 41, 42, 43, 44, 45],
      dtype='int64', name='1|state_offset_dim_0'))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-76784ce8-6102-42cf-ba18-e2e208980a34" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-76784ce8-6102-42cf-ba18-e2e208980a34" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.648045+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_warmup_sample_stats6e938774-cd7f-4882-b1d8-b379ae89b05a" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_warmup_sample_stats6e938774-cd7f-4882-b1d8-b379ae89b05a" class="xr-section-summary">warmup_sample_stats</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 336kB
Dimensions:               (chain: 4, draw: 1000)
Coordinates:
  * chain                 (chain) int64 32B 0 1 2 3
  * draw                  (draw) int64 8kB 0 1 2 3 4 5 ... 995 996 997 998 999
Data variables:
    depth                 (chain, draw) uint64 32kB 3 0 3 4 3 6 ... 5 5 4 4 5 5
    diverging             (chain, draw) bool 4kB False True ... False False
    energy                (chain, draw) float64 32kB 1.163e+04 ... 2.258e+03
    energy_error          (chain, draw) float64 32kB -12.69 0.0 ... -0.1273
    index_in_trajectory   (chain, draw) int64 32kB -5 0 4 -10 3 ... -14 0 25 -8
    logp                  (chain, draw) float64 32kB -8.802e+03 ... -2.197e+03
    maxdepth_reached      (chain, draw) bool 4kB False False ... False False
    mean_tree_accept      (chain, draw) float64 32kB 1.0 0.0 ... 0.9372 0.837
    mean_tree_accept_sym  (chain, draw) float64 32kB 0.2232 0.0 ... 0.8704
    n_steps               (chain, draw) uint64 32kB 7 1 7 15 7 ... 15 15 31 31
    step_size             (chain, draw) float64 32kB 1.439 0.2431 ... 0.1749
    step_size_bar         (chain, draw) float64 32kB 1.439 0.4998 ... 0.1749
Attributes:
    created_at:                  2025-04-12T20:47:44.482123+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-9b280aa1-4ec0-4962-bccb-9705e726d9e4" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-9b280aa1-4ec0-4962-bccb-9705e726d9e4" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 1000</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-388e2c65-fa70-4e9f-b114-56632b3107a9" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-388e2c65-fa70-4e9f-b114-56632b3107a9" class="xr-section-summary">Coordinates: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-4bef785c-5476-4aaa-88bd-de5ee49c16ae" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4bef785c-5476-4aaa-88bd-de5ee49c16ae" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e329ea10-8768-4c20-897f-aed4d3e71810" class="xr-var-data-in" type="checkbox"><label for="data-e329ea10-8768-4c20-897f-aed4d3e71810" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 ... 995 996 997 998 999</div><input id="attrs-109a3ae5-aeab-4cd8-baed-7e6167f791f4" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-109a3ae5-aeab-4cd8-baed-7e6167f791f4" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ed5666e3-72ce-4023-80c5-a1289a059a6d" class="xr-var-data-in" type="checkbox"><label for="data-ed5666e3-72ce-4023-80c5-a1289a059a6d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([  0,   1,   2, ..., 997, 998, 999], shape=(1000,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-26dfea7f-4bc6-4332-be7f-817182b30596" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-26dfea7f-4bc6-4332-be7f-817182b30596" class="xr-section-summary">Data variables: <span>(12)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>depth</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">3 0 3 4 3 6 6 9 ... 6 5 5 5 4 4 5 5</div><input id="attrs-14a31299-b3ae-4ee1-8400-0011326fb68f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-14a31299-b3ae-4ee1-8400-0011326fb68f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e2817aae-c476-4cdd-bc29-b14f8758a08b" class="xr-var-data-in" type="checkbox"><label for="data-e2817aae-c476-4cdd-bc29-b14f8758a08b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[3, 0, 3, ..., 5, 5, 5],
       [2, 0, 2, ..., 5, 5, 5],
       [4, 0, 3, ..., 5, 5, 5],
       [3, 0, 3, ..., 4, 5, 5]], shape=(4, 1000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>diverging</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False True False ... False False</div><input id="attrs-287ba3c6-f48e-4273-ab3b-6c535f407e9c" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-287ba3c6-f48e-4273-ab3b-6c535f407e9c" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3f416070-2b2e-4c30-82a7-918c8b43a4f0" class="xr-var-data-in" type="checkbox"><label for="data-3f416070-2b2e-4c30-82a7-918c8b43a4f0" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False,  True, False, ..., False, False, False],
       [False,  True, False, ..., False, False, False],
       [False,  True, False, ..., False, False, False],
       [False,  True, False, ..., False, False, False]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.163e+04 8.876e+03 ... 2.258e+03</div><input id="attrs-c34dbe0a-31f0-4688-9b7c-77cc8bc6092f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-c34dbe0a-31f0-4688-9b7c-77cc8bc6092f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-543ed5fe-c483-474c-a239-e7e23be322cc" class="xr-var-data-in" type="checkbox"><label for="data-543ed5fe-c483-474c-a239-e7e23be322cc" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[11630.39659342,  8875.95400608,  8731.7105997 , ...,
         2250.83930412,  2243.96656194,  2243.24562894],
       [15508.82555299, 14799.0247763 , 14647.12376649, ...,
         2241.45380703,  2266.52538866,  2248.32629247],
       [19634.60905307,  6136.76898751,  6069.04618878, ...,
         2254.15195234,  2262.64088572,  2259.71541804],
       [ 8455.51551647,  5778.68271162,  5770.14323876, ...,
         2251.5893131 ,  2257.50973536,  2257.71825493]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy_error</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-12.69 0.0 ... 0.0964 -0.1273</div><input id="attrs-04b5ffba-f71c-425e-9a61-e8817c09e3b5" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-04b5ffba-f71c-425e-9a61-e8817c09e3b5" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-62aee26f-01eb-421d-9b7e-89db1f23e5ef" class="xr-var-data-in" type="checkbox"><label for="data-62aee26f-01eb-421d-9b7e-89db1f23e5ef" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-1.26874175e+01,  0.00000000e+00, -1.18235842e+02, ...,
        -1.87099748e-01, -4.61500536e-01,  6.16699716e-01],
       [-2.19738055e+00,  0.00000000e+00, -1.54099219e+02, ...,
         2.09381959e-02,  5.69970491e-02, -2.19654431e-01],
       [-6.50602947e+01,  0.00000000e+00, -5.99272334e+01, ...,
         1.43495268e-01,  3.57982356e-01, -5.12772453e-03],
       [-1.16804471e+01,  0.00000000e+00, -9.65278264e+00, ...,
         0.00000000e+00,  9.64028068e-02, -1.27309524e-01]],
      shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>index_in_trajectory</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">-5 0 4 -10 3 -1 ... 10 -14 0 25 -8</div><input id="attrs-078ae4b1-728d-4710-9090-11e9818ce5a0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-078ae4b1-728d-4710-9090-11e9818ce5a0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-4b56979a-09ec-4bdb-83d4-024b11b4e0dd" class="xr-var-data-in" type="checkbox"><label for="data-4b56979a-09ec-4bdb-83d4-024b11b4e0dd" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ -5,   0,   4, ...,  23,  -6,  -9],
       [ -2,   0,   2, ...,  11,  14,  13],
       [-11,   0,  -3, ...,  22, -19, -18],
       [  6,   0,   5, ...,   0,  25,  -8]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>logp</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-8.802e+03 ... -2.197e+03</div><input id="attrs-86e325e3-597a-481c-b7f5-c6ce3b1f01f0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-86e325e3-597a-481c-b7f5-c6ce3b1f01f0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-185982d9-7edc-470c-b381-fca560e5080a" class="xr-var-data-in" type="checkbox"><label for="data-185982d9-7edc-470c-b381-fca560e5080a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ -8801.99773353,  -8801.99773353,  -3857.74954779, ...,
         -2191.20283656,  -2169.4019842 ,  -2195.28683531],
       [-14742.65778228, -14742.65778228, -11337.47783939, ...,
         -2187.16423116,  -2198.51860258,  -2183.51992171],
       [ -6073.03632037,  -6073.03632037,  -4087.85589492, ...,
         -2195.32950386,  -2199.74915674,  -2196.88935438],
       [ -5719.7057596 ,  -5719.7057596 ,  -4365.99102415, ...,
         -2181.86080397,  -2196.81183832,  -2197.07896621]],
      shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>maxdepth_reached</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False False False ... False False</div><input id="attrs-3c8bdb91-1c8a-452f-9465-6ef8841f00d8" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-3c8bdb91-1c8a-452f-9465-6ef8841f00d8" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9b44f157-8ea4-4057-a3f2-317219153853" class="xr-var-data-in" type="checkbox"><label for="data-9b44f157-8ea4-4057-a3f2-317219153853" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.0 0.0 1.0 ... 0.9372 0.837</div><input id="attrs-7bde8838-8d71-42af-9625-1c91ee1e1ba1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7bde8838-8d71-42af-9625-1c91ee1e1ba1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-056e9660-bd9c-4570-82f4-80d6de7dc0ee" class="xr-var-data-in" type="checkbox"><label for="data-056e9660-bd9c-4570-82f4-80d6de7dc0ee" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.        , 0.        , 1.        , ..., 0.94820469, 0.6575515 ,
        0.38282188],
       [1.        , 0.        , 1.        , ..., 0.96535511, 0.86948813,
        0.99835153],
       [1.        , 0.        , 1.        , ..., 0.54108044, 0.75834751,
        0.97295798],
       [0.71632126, 0.        , 1.        , ..., 0.06437551, 0.93719768,
        0.83699878]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept_sym</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.2232 0.0 ... 0.9671 0.8704</div><input id="attrs-ffbf16db-5d4c-4c81-8748-e511cabaf504" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ffbf16db-5d4c-4c81-8748-e511cabaf504" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-2e6d9721-1e19-4454-9590-17057a0be2e5" class="xr-var-data-in" type="checkbox"><label for="data-2e6d9721-1e19-4454-9590-17057a0be2e5" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[2.23182798e-01, 0.00000000e+00, 5.70036852e-05, ...,
        9.19227881e-01, 6.01457694e-01, 3.93897177e-01],
       [5.44861695e-01, 0.00000000e+00, 7.41236751e-08, ...,
        9.78589224e-01, 9.27714113e-01, 9.04122588e-01],
       [3.76669847e-02, 0.00000000e+00, 6.70633098e-12, ...,
        5.70272349e-01, 8.56619604e-01, 9.20436092e-01],
       [1.84135629e-01, 0.00000000e+00, 7.69498300e-02, ...,
        1.10110476e-01, 9.67128032e-01, 8.70411249e-01]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>n_steps</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">7 1 7 15 7 63 ... 31 42 15 15 31 31</div><input id="attrs-78cf967c-7bde-4e05-964f-cfc40bdac0de" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-78cf967c-7bde-4e05-964f-cfc40bdac0de" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8dfa9578-636e-4d18-9643-b9a2ff01c25f" class="xr-var-data-in" type="checkbox"><label for="data-8dfa9578-636e-4d18-9643-b9a2ff01c25f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 7,  1,  7, ..., 31, 31, 31],
       [ 3,  1,  3, ..., 31, 31, 31],
       [15,  1,  7, ..., 63, 31, 31],
       [ 7,  1,  7, ..., 15, 31, 31]], shape=(4, 1000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.439 0.2431 0.1 ... 0.1628 0.1749</div><input id="attrs-1a8da5bc-66de-4bd1-be50-81025b38709a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-1a8da5bc-66de-4bd1-be50-81025b38709a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f3ff68d7-1006-4eaa-a52f-49c12751e6df" class="xr-var-data-in" type="checkbox"><label for="data-f3ff68d7-1006-4eaa-a52f-49c12751e6df" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.43855101, 0.24311673, 0.1       , ..., 0.18561769, 0.164043  ,
        0.19447538],
       [1.43855101, 0.24311673, 0.1       , ..., 0.12515236, 0.13571602,
        0.17929565],
       [1.43855101, 0.24311673, 0.1       , ..., 0.16715003, 0.17333772,
        0.17100847],
       [0.85886532, 0.12457457, 0.1       , ..., 0.14649379, 0.16281773,
        0.17490276]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size_bar</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.439 0.4998 ... 0.1749 0.1749</div><input id="attrs-e4fedc95-46e2-49e0-b389-e53a6c16b8bf" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e4fedc95-46e2-49e0-b389-e53a6c16b8bf" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7fe700ea-8c21-406e-a4d6-625987099fdf" class="xr-var-data-in" type="checkbox"><label for="data-7fe700ea-8c21-406e-a4d6-625987099fdf" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.43855101, 0.49983385, 0.42449831, ..., 0.19513229, 0.1949418 ,
        0.19447538],
       [1.43855101, 0.49983385, 0.42449831, ..., 0.17979539, 0.17951104,
        0.17929565],
       [1.43855101, 0.49983385, 0.42449831, ..., 0.17090807, 0.17092164,
        0.17100847],
       [0.85886532, 0.27249125, 0.21675445, ..., 0.17500014, 0.17492909,
        0.17490276]], shape=(4, 1000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-6267403b-ef64-4a0c-adef-36201f5d9c89" class="xr-section-summary-in" type="checkbox"><label for="section-6267403b-ef64-4a0c-adef-36201f5d9c89" class="xr-section-summary">Indexes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-222deaa0-2c34-43e3-b737-1d7a11534efd" class="xr-index-data-in" type="checkbox"><label for="index-222deaa0-2c34-43e3-b737-1d7a11534efd" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-67e615bf-727c-4a52-bde6-9d09d4b609d6" class="xr-index-data-in" type="checkbox"><label for="index-67e615bf-727c-4a52-bde6-9d09d4b609d6" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,
       ...
       990, 991, 992, 993, 994, 995, 996, 997, 998, 999],
      dtype='int64', name='draw', length=1000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-7bef339f-0ed8-4bae-9699-3c0d80f522e0" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-7bef339f-0ed8-4bae-9699-3c0d80f522e0" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.482123+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
              </ul>
            </div>
            <style> /* CSS stylesheet for displaying InferenceData objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-sections.group-sections {
  grid-template-columns: auto;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
.xr-wrap{width:700px!important;} </style>
</div>
</div>
<div id="cell-57" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>az.summary(result, var_names<span class="op">=</span>[<span class="st">"Intercept"</span>, <span class="st">"male"</span>, <span class="st">"1|edu"</span>, <span class="st">"1|eth"</span>, <span class="st">"repvote"</span>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="28">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">sd</th>
<th data-quarto-table-cell-role="th">hdi_3%</th>
<th data-quarto-table-cell-role="th">hdi_97%</th>
<th data-quarto-table-cell-role="th">mcse_mean</th>
<th data-quarto-table-cell-role="th">mcse_sd</th>
<th data-quarto-table-cell-role="th">ess_bulk</th>
<th data-quarto-table-cell-role="th">ess_tail</th>
<th data-quarto-table-cell-role="th">r_hat</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">Intercept</td>
<td>0.388</td>
<td>0.414</td>
<td>-0.425</td>
<td>1.150</td>
<td>0.010</td>
<td>0.008</td>
<td>1697.0</td>
<td>2529.0</td>
<td>1.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">male</td>
<td>0.206</td>
<td>0.198</td>
<td>-0.203</td>
<td>0.531</td>
<td>0.007</td>
<td>0.014</td>
<td>1504.0</td>
<td>1082.0</td>
<td>1.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1|edu[4-Year College]</td>
<td>-0.052</td>
<td>0.176</td>
<td>-0.406</td>
<td>0.282</td>
<td>0.004</td>
<td>0.005</td>
<td>2460.0</td>
<td>2670.0</td>
<td>1.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1|edu[HS]</td>
<td>0.056</td>
<td>0.171</td>
<td>-0.271</td>
<td>0.398</td>
<td>0.004</td>
<td>0.005</td>
<td>2363.0</td>
<td>2061.0</td>
<td>1.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1|edu[No HS]</td>
<td>0.162</td>
<td>0.207</td>
<td>-0.167</td>
<td>0.599</td>
<td>0.005</td>
<td>0.005</td>
<td>2149.0</td>
<td>1783.0</td>
<td>1.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1|edu[Post-grad]</td>
<td>-0.200</td>
<td>0.212</td>
<td>-0.621</td>
<td>0.133</td>
<td>0.004</td>
<td>0.004</td>
<td>2383.0</td>
<td>3237.0</td>
<td>1.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1|edu[Some college]</td>
<td>0.026</td>
<td>0.173</td>
<td>-0.321</td>
<td>0.360</td>
<td>0.004</td>
<td>0.004</td>
<td>1893.0</td>
<td>3734.0</td>
<td>1.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1|eth[Black]</td>
<td>-0.388</td>
<td>0.323</td>
<td>-0.998</td>
<td>0.170</td>
<td>0.008</td>
<td>0.007</td>
<td>1540.0</td>
<td>2772.0</td>
<td>1.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1|eth[Hispanic]</td>
<td>0.079</td>
<td>0.285</td>
<td>-0.481</td>
<td>0.637</td>
<td>0.006</td>
<td>0.006</td>
<td>2206.0</td>
<td>2823.0</td>
<td>1.00</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1|eth[Other]</td>
<td>0.085</td>
<td>0.290</td>
<td>-0.426</td>
<td>0.740</td>
<td>0.007</td>
<td>0.007</td>
<td>2138.0</td>
<td>2360.0</td>
<td>1.00</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">1|eth[White]</td>
<td>0.180</td>
<td>0.273</td>
<td>-0.311</td>
<td>0.754</td>
<td>0.007</td>
<td>0.006</td>
<td>1639.0</td>
<td>2598.0</td>
<td>1.01</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">repvote</td>
<td>-1.181</td>
<td>0.523</td>
<td>-2.148</td>
<td>-0.173</td>
<td>0.007</td>
<td>0.006</td>
<td>5134.0</td>
<td>3597.0</td>
<td>1.00</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>The terms in the model formula allow for specific intercept terms across the demographic splits of <code>eth</code>, <code>edu</code>, and <code>state</code>. These represent stratum specific adjustments of the intercept term in the model. Similarly we invoke intercepts for the interaction terms of <code>age:edu</code>, <code>male:eth</code> and <code>edu:eth</code>. Each of these cohorts represents a share of the data in our sample.</p>
<div id="cell-59" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>model_hierarchical.graph()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="29">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-30-output-1.svg" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We then predict the outcomes implied by the biased sample. These predictions are to be adjusted by what we take to be the share of that demographic cohort in population. We can plot the posterior predictive distribution against the observed data from our biased sample to see that we have generally good fit to the distribution.</p>
<div id="cell-61" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>model_hierarchical.predict(result, kind<span class="op">=</span><span class="st">"pps"</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> az.plot_ppc(result, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">5</span>), kind<span class="op">=</span><span class="st">"cumulative"</span>, observed_rug<span class="op">=</span><span class="va">True</span>, num_pp_samples<span class="op">=</span><span class="dv">500</span>)</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Posterior Predictive Checks </span><span class="ch">\n</span><span class="st"> On Biased Sample"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>/Users/nathanielforde/mambaforge/envs/bambi-env2/lib/python3.12/site-packages/IPython/core/events.py:82: UserWarning: Creating legend with loc="best" can be slow with large amounts of data.
  func(*args, **kwargs)
/Users/nathanielforde/mambaforge/envs/bambi-env2/lib/python3.12/site-packages/IPython/core/pylabtools.py:170: UserWarning: Creating legend with loc="best" can be slow with large amounts of data.
  fig.canvas.print_figure(bytes_io, **kw)</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-31-output-2.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="apply-the-post-stratification-weighting" class="level3">
<h3 class="anchored" data-anchor-id="apply-the-post-stratification-weighting">Apply the Post-stratification Weighting</h3>
<p>We now use the fitted model to predict the voting shares on the data where we use the genuine state numbers per strata. To do so we load data from the national census and augment our data set so as to be able to apply the appropriate weights.</p>
<div id="cell-63" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>poststrat_df <span class="op">=</span> pd.read_csv(<span class="st">"data/mr_p_poststrat_df.csv"</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> poststrat_df.merge(</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>    statelevel_predictors_df, left_on<span class="op">=</span><span class="st">"state"</span>, right_on<span class="op">=</span><span class="st">"state"</span>, how<span class="op">=</span><span class="st">"left"</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>new_data.rename({<span class="st">"educ"</span>: <span class="st">"edu"</span>}, axis<span class="op">=</span><span class="dv">1</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> model_df.merge(</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    new_data,</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    how<span class="op">=</span><span class="st">"left"</span>,</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>    left_on<span class="op">=</span>[<span class="st">"state"</span>, <span class="st">"eth"</span>, <span class="st">"male"</span>, <span class="st">"age"</span>, <span class="st">"edu"</span>],</span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>    right_on<span class="op">=</span>[<span class="st">"state"</span>, <span class="st">"eth"</span>, <span class="st">"male"</span>, <span class="st">"age"</span>, <span class="st">"edu"</span>],</span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>).rename({<span class="st">"n_y"</span>: <span class="st">"n"</span>, <span class="st">"repvote_y"</span>: <span class="st">"repvote"</span>}, axis<span class="op">=</span><span class="dv">1</span>)[</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    [<span class="st">"state"</span>, <span class="st">"eth"</span>, <span class="st">"male"</span>, <span class="st">"age"</span>, <span class="st">"edu"</span>, <span class="st">"n"</span>, <span class="st">"repvote"</span>]</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>new_data <span class="op">=</span> new_data.merge(</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>    new_data.groupby(<span class="st">"state"</span>).agg({<span class="st">"n"</span>: <span class="st">"sum"</span>}).reset_index().rename({<span class="st">"n"</span>: <span class="st">"state_total"</span>}, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a>new_data[<span class="st">"state_percent"</span>] <span class="op">=</span> new_data[<span class="st">"n"</span>] <span class="op">/</span> new_data[<span class="st">"state_total"</span>]</span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>new_data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="32">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">eth</th>
<th data-quarto-table-cell-role="th">male</th>
<th data-quarto-table-cell-role="th">age</th>
<th data-quarto-table-cell-role="th">edu</th>
<th data-quarto-table-cell-role="th">n</th>
<th data-quarto-table-cell-role="th">repvote</th>
<th data-quarto-table-cell-role="th">state_total</th>
<th data-quarto-table-cell-role="th">state_percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>ID</td>
<td>White</td>
<td>-0.5</td>
<td>70+</td>
<td>HS</td>
<td>31503</td>
<td>0.683102</td>
<td>1193885</td>
<td>0.026387</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>ID</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>4-Year College</td>
<td>11809</td>
<td>0.683102</td>
<td>1193885</td>
<td>0.009891</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>WV</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>Some college</td>
<td>17089</td>
<td>0.721611</td>
<td>1441882</td>
<td>0.011852</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>WV</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>4-Year College</td>
<td>7396</td>
<td>0.721611</td>
<td>1441882</td>
<td>0.005129</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>ID</td>
<td>White</td>
<td>0.5</td>
<td>70+</td>
<td>Post-grad</td>
<td>9873</td>
<td>0.683102</td>
<td>1193885</td>
<td>0.008270</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This dataset is exactly the same structure and length as our input data to the fitted model. We have simply switched the observed counts across the demographic strata with the counts that reflect their proportion in the national survey. Additionally we have calculated the state totals and the share of each strata within the state. This will be important for later when we use this <code>state_percent</code> variable to calculate an adjusted MrP estimate of the predictions at a state level. We now use this data set with our fitted model to generate posterior predictive distribution.</p>
<div id="cell-65" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>result_adjust <span class="op">=</span> model_hierarchical.predict(result, data<span class="op">=</span>new_data, inplace<span class="op">=</span><span class="va">False</span>, kind<span class="op">=</span><span class="st">"pps"</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>result_adjust</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="33">

            <div>
              <div class="xr-header">
                <div class="xr-obj-type">arviz.InferenceData</div>
              </div>
              <ul class="xr-sections group-sections">
              
            <li class="xr-section-item">
                  <input id="idata_posteriore06c8bfc-b1a5-4fff-96d6-365472d99d3f" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_posteriore06c8bfc-b1a5-4fff-96d6-365472d99d3f" class="xr-section-summary">posterior</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 1GB
Dimensions:               (chain: 4, draw: 4000, state__factor_dim: 46,
                           eth__factor_dim: 4, edu__factor_dim: 5,
                           male:eth__factor_dim: 8, edu:age__factor_dim: 30,
                           edu:eth__factor_dim: 20, __obs__: 11040)
Coordinates:
  * state__factor_dim     (state__factor_dim) &lt;U2 368B 'AK' 'AL' ... 'WV' 'WY'
  * eth__factor_dim       (eth__factor_dim) &lt;U8 128B 'Black' ... 'White'
  * edu__factor_dim       (edu__factor_dim) &lt;U14 280B '4-Year College' ... 'S...
  * male:eth__factor_dim  (male:eth__factor_dim) &lt;U13 416B '-0.5:Black' ... '...
  * draw                  (draw) int64 32kB 0 1 2 3 4 ... 3996 3997 3998 3999
  * edu:age__factor_dim   (edu:age__factor_dim) &lt;U20 2kB '4-Year College:18-2...
  * chain                 (chain) int64 32B 0 1 2 3
  * edu:eth__factor_dim   (edu:eth__factor_dim) &lt;U23 2kB '4-Year College:Blac...
  * __obs__               (__obs__) int64 88kB 0 1 2 3 ... 11037 11038 11039
Data variables: (12/16)
    1|edu:age_sigma       (chain, draw) float64 128kB 0.1344 0.1437 ... 0.156
    1|edu:eth_sigma       (chain, draw) float64 128kB 0.1177 0.1093 ... 0.2808
    1|edu_sigma           (chain, draw) float64 128kB 1.346 1.351 ... 0.04706
    1|eth_sigma           (chain, draw) float64 128kB 0.4771 0.4858 ... 0.03536
    1|male:eth_sigma      (chain, draw) float64 128kB 0.354 0.3236 ... 0.1215
    1|state_sigma         (chain, draw) float64 128kB 0.2385 0.248 ... 0.2483
    ...                    ...
    1|edu:age             (chain, draw, edu:age__factor_dim) float64 4MB -0.0...
    1|edu:eth             (chain, draw, edu:eth__factor_dim) float64 3MB 0.14...
    1|eth                 (chain, draw, eth__factor_dim) float64 512kB -0.813...
    1|male:eth            (chain, draw, male:eth__factor_dim) float64 1MB 0.5...
    1|state               (chain, draw, state__factor_dim) float64 6MB -0.154...
    p                     (chain, draw, __obs__) float64 1GB 0.4474 ... 0.4396
Attributes:
    created_at:                  2025-04-12T20:47:44.644117+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-7d062544-4a97-4f3a-bdc4-8b241d9f9aec" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-7d062544-4a97-4f3a-bdc4-8b241d9f9aec" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 4000</li><li><span class="xr-has-index">state__factor_dim</span>: 46</li><li><span class="xr-has-index">eth__factor_dim</span>: 4</li><li><span class="xr-has-index">edu__factor_dim</span>: 5</li><li><span class="xr-has-index">male:eth__factor_dim</span>: 8</li><li><span class="xr-has-index">edu:age__factor_dim</span>: 30</li><li><span class="xr-has-index">edu:eth__factor_dim</span>: 20</li><li><span class="xr-has-index">__obs__</span>: 11040</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-eebe156a-883f-4d08-9147-fe3fc34a9f64" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-eebe156a-883f-4d08-9147-fe3fc34a9f64" class="xr-section-summary">Coordinates: <span>(9)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">state__factor_dim</span></div><div class="xr-var-dims">(state__factor_dim)</div><div class="xr-var-dtype">&lt;U2</div><div class="xr-var-preview xr-preview">'AK' 'AL' 'AR' ... 'WI' 'WV' 'WY'</div><input id="attrs-5d8b1830-5e42-44bc-8764-59b0b23b57c7" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5d8b1830-5e42-44bc-8764-59b0b23b57c7" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-47c98392-1de6-49cb-b3a1-0b19fb5e12e4" class="xr-var-data-in" type="checkbox"><label for="data-47c98392-1de6-49cb-b3a1-0b19fb5e12e4" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['AK', 'AL', 'AR', 'CA', 'CO', 'DE', 'FL', 'GA', 'HI', 'IA', 'ID', 'IL',
       'KS', 'KY', 'LA', 'MA', 'MD', 'ME', 'MI', 'MN', 'MO', 'MS', 'MT', 'NC',
       'ND', 'NE', 'NH', 'NJ', 'NM', 'NV', 'NY', 'OH', 'OK', 'OR', 'PA', 'RI',
       'SC', 'SD', 'TN', 'UT', 'VA', 'VT', 'WA', 'WI', 'WV', 'WY'], dtype='&lt;U2')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">eth__factor_dim</span></div><div class="xr-var-dims">(eth__factor_dim)</div><div class="xr-var-dtype">&lt;U8</div><div class="xr-var-preview xr-preview">'Black' 'Hispanic' 'Other' 'White'</div><input id="attrs-d4181a1c-7e20-47ec-ae85-5eb5cf098657" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d4181a1c-7e20-47ec-ae85-5eb5cf098657" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-aa07caa7-c9cf-43cc-b89e-4b198b9d4aed" class="xr-var-data-in" type="checkbox"><label for="data-aa07caa7-c9cf-43cc-b89e-4b198b9d4aed" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['Black', 'Hispanic', 'Other', 'White'], dtype='&lt;U8')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">edu__factor_dim</span></div><div class="xr-var-dims">(edu__factor_dim)</div><div class="xr-var-dtype">&lt;U14</div><div class="xr-var-preview xr-preview">'4-Year College' ... 'Some college'</div><input id="attrs-247ddc28-a884-4284-97ce-0c562fea73bc" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-247ddc28-a884-4284-97ce-0c562fea73bc" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-93080675-c23c-4886-9eda-b8ba4d657083" class="xr-var-data-in" type="checkbox"><label for="data-93080675-c23c-4886-9eda-b8ba4d657083" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['4-Year College', 'HS', 'No HS', 'Post-grad', 'Some college'],
      dtype='&lt;U14')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">male:eth__factor_dim</span></div><div class="xr-var-dims">(male:eth__factor_dim)</div><div class="xr-var-dtype">&lt;U13</div><div class="xr-var-preview xr-preview">'-0.5:Black' ... '0.5:White'</div><input id="attrs-4cf2be7d-f8b9-42f3-8222-4dd862efa72a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4cf2be7d-f8b9-42f3-8222-4dd862efa72a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3cb12802-1bdb-45ca-a8af-1bd19df027a4" class="xr-var-data-in" type="checkbox"><label for="data-3cb12802-1bdb-45ca-a8af-1bd19df027a4" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['-0.5:Black', '-0.5:Hispanic', '-0.5:Other', '-0.5:White', '0.5:Black',
       '0.5:Hispanic', '0.5:Other', '0.5:White'], dtype='&lt;U13')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 ... 3996 3997 3998 3999</div><input id="attrs-bac1be29-f96e-4365-b0dd-33900d4d667b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-bac1be29-f96e-4365-b0dd-33900d4d667b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5808c36a-a44e-4fe1-ac63-5dd52f194945" class="xr-var-data-in" type="checkbox"><label for="data-5808c36a-a44e-4fe1-ac63-5dd52f194945" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([   0,    1,    2, ..., 3997, 3998, 3999], shape=(4000,))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">edu:age__factor_dim</span></div><div class="xr-var-dims">(edu:age__factor_dim)</div><div class="xr-var-dtype">&lt;U20</div><div class="xr-var-preview xr-preview">'4-Year College:18-29' ... 'Some...</div><input id="attrs-e7b10ea1-4875-403e-b216-a20c2f55bc29" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e7b10ea1-4875-403e-b216-a20c2f55bc29" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-7dd1b14f-8ed7-4046-9ce6-0cc95082dd2f" class="xr-var-data-in" type="checkbox"><label for="data-7dd1b14f-8ed7-4046-9ce6-0cc95082dd2f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['4-Year College:18-29', '4-Year College:30-39', '4-Year College:40-49',
       '4-Year College:50-59', '4-Year College:60-69', '4-Year College:70+',
       'HS:18-29', 'HS:30-39', 'HS:40-49', 'HS:50-59', 'HS:60-69', 'HS:70+',
       'No HS:18-29', 'No HS:30-39', 'No HS:40-49', 'No HS:50-59',
       'No HS:60-69', 'No HS:70+', 'Post-grad:18-29', 'Post-grad:30-39',
       'Post-grad:40-49', 'Post-grad:50-59', 'Post-grad:60-69',
       'Post-grad:70+', 'Some college:18-29', 'Some college:30-39',
       'Some college:40-49', 'Some college:50-59', 'Some college:60-69',
       'Some college:70+'], dtype='&lt;U20')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-8f5fd257-af0f-4b4d-867d-8d30bde65eaf" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8f5fd257-af0f-4b4d-867d-8d30bde65eaf" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-856310e4-c1f6-42b9-add2-06c8ebd5c340" class="xr-var-data-in" type="checkbox"><label for="data-856310e4-c1f6-42b9-add2-06c8ebd5c340" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">edu:eth__factor_dim</span></div><div class="xr-var-dims">(edu:eth__factor_dim)</div><div class="xr-var-dtype">&lt;U23</div><div class="xr-var-preview xr-preview">'4-Year College:Black' ... 'Some...</div><input id="attrs-62f4c39d-0861-4a0f-af1c-259cb3c7bd45" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-62f4c39d-0861-4a0f-af1c-259cb3c7bd45" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-62e0f8c2-6a76-4a4b-bb43-cabeef86bac8" class="xr-var-data-in" type="checkbox"><label for="data-62e0f8c2-6a76-4a4b-bb43-cabeef86bac8" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array(['4-Year College:Black', '4-Year College:Hispanic',
       '4-Year College:Other', '4-Year College:White', 'HS:Black',
       'HS:Hispanic', 'HS:Other', 'HS:White', 'No HS:Black', 'No HS:Hispanic',
       'No HS:Other', 'No HS:White', 'Post-grad:Black', 'Post-grad:Hispanic',
       'Post-grad:Other', 'Post-grad:White', 'Some college:Black',
       'Some college:Hispanic', 'Some college:Other', 'Some college:White'],
      dtype='&lt;U23')</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">__obs__</span></div><div class="xr-var-dims">(__obs__)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 ... 11036 11037 11038 11039</div><input id="attrs-4e2d3c3b-425b-4ca0-9866-869e2bb4d925" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4e2d3c3b-425b-4ca0-9866-869e2bb4d925" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d465b9c2-b09f-48b7-a184-6cd21aff4291" class="xr-var-data-in" type="checkbox"><label for="data-d465b9c2-b09f-48b7-a184-6cd21aff4291" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([    0,     1,     2, ..., 11037, 11038, 11039], shape=(11040,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-cb37b7b3-1445-4d08-a479-e369c998d5f6" class="xr-section-summary-in" type="checkbox"><label for="section-cb37b7b3-1445-4d08-a479-e369c998d5f6" class="xr-section-summary">Data variables: <span>(16)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1344 0.1437 ... 0.1536 0.156</div><input id="attrs-4322fc7e-34bb-41a1-99ea-d9ccba33ab2a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4322fc7e-34bb-41a1-99ea-d9ccba33ab2a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-83664c78-39f0-4e05-873c-42bf19556286" class="xr-var-data-in" type="checkbox"><label for="data-83664c78-39f0-4e05-873c-42bf19556286" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.13441164, 0.14370398, 0.15916931, ..., 0.18880834, 0.03518931,
        0.14314809],
       [0.16019625, 0.16871859, 0.15828631, ..., 0.15253245, 0.11724478,
        0.16203634],
       [0.19024498, 0.16992334, 0.27460906, ..., 0.07731436, 0.07383145,
        0.20263921],
       [0.06723177, 0.06522316, 0.08860448, ..., 0.11617668, 0.15355656,
        0.15598383]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1177 0.1093 ... 0.2217 0.2808</div><input id="attrs-d3e42262-c9ff-4f98-966b-ae98e3b24dc0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d3e42262-c9ff-4f98-966b-ae98e3b24dc0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b78d36a3-cf14-4047-80ee-891a66f8b2d3" class="xr-var-data-in" type="checkbox"><label for="data-b78d36a3-cf14-4047-80ee-891a66f8b2d3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.11771773, 0.10931956, 0.09975393, ..., 0.11124875, 0.12363697,
        0.09228348],
       [0.13976966, 0.1288965 , 0.14463339, ..., 0.23322617, 0.23736116,
        0.19920126],
       [0.36019768, 0.41347014, 0.40604164, ..., 0.15508335, 0.18207936,
        0.13132313],
       [0.28470192, 0.25976583, 0.2111311 , ..., 0.3431292 , 0.22170838,
        0.28077583]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.346 1.351 ... 0.1539 0.04706</div><input id="attrs-b632629e-f5ac-4136-87f0-d6b8672bea4d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b632629e-f5ac-4136-87f0-d6b8672bea4d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b34f571a-3d0d-46a7-9ac1-7a73b2104a07" class="xr-var-data-in" type="checkbox"><label for="data-b34f571a-3d0d-46a7-9ac1-7a73b2104a07" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.34609022, 1.35111116, 0.2212135 , ..., 0.51850869, 0.23301459,
        0.51940129],
       [0.20084021, 0.17433647, 0.18136098, ..., 0.08054317, 0.10585751,
        0.2394544 ],
       [0.00820515, 0.00878228, 0.01468995, ..., 0.25704124, 0.19729321,
        0.20225655],
       [0.03352157, 0.02812175, 0.03744695, ..., 0.34170865, 0.1538545 ,
        0.04706238]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.4771 0.4858 ... 0.2314 0.03536</div><input id="attrs-5e193bd6-61e4-45a5-b373-ff627ab0ea84" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-5e193bd6-61e4-45a5-b373-ff627ab0ea84" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8002d438-9f80-45b1-8a2c-542bf37d7734" class="xr-var-data-in" type="checkbox"><label for="data-8002d438-9f80-45b1-8a2c-542bf37d7734" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.4770694 , 0.48582884, 0.75481753, ..., 0.60639702, 0.45636024,
        0.53714328],
       [0.47658548, 0.41481086, 0.48152598, ..., 0.33476645, 0.78326188,
        0.88538029],
       [1.46112274, 1.43538558, 1.47628137, ..., 0.9759116 , 0.84937992,
        1.00957962],
       [0.19702956, 0.21981617, 0.16767914, ..., 0.17715399, 0.23135967,
        0.03535978]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.354 0.3236 ... 0.2696 0.1215</div><input id="attrs-d4edc2fa-c7bf-468a-82bb-2cc3df48e06e" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d4edc2fa-c7bf-468a-82bb-2cc3df48e06e" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-60c4d161-9bda-4e98-b0ad-281c1a0ee90d" class="xr-var-data-in" type="checkbox"><label for="data-60c4d161-9bda-4e98-b0ad-281c1a0ee90d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.35397165, 0.32364947, 0.02384236, ..., 0.03622344, 0.14971025,
        0.18014677],
       [0.387906  , 0.41517064, 0.35954647, ..., 0.18629486, 0.17286002,
        0.01491758],
       [0.12495751, 0.2235392 , 0.1203779 , ..., 0.18473111, 0.10086279,
        0.08655779],
       [0.7184852 , 0.66431673, 0.52878106, ..., 0.29469976, 0.2695665 ,
        0.12150705]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.2385 0.248 ... 0.2569 0.2483</div><input id="attrs-b14c4458-2782-4f69-8b15-5ce034960f7a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b14c4458-2782-4f69-8b15-5ce034960f7a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a508f080-3581-4205-8100-6cc82893cb37" class="xr-var-data-in" type="checkbox"><label for="data-a508f080-3581-4205-8100-6cc82893cb37" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.23853477, 0.24803782, 0.25990388, ..., 0.26522649, 0.26257531,
        0.27854286],
       [0.2949392 , 0.2928506 , 0.29134995, ..., 0.34535457, 0.29752227,
        0.27131224],
       [0.36691287, 0.36180375, 0.28429242, ..., 0.26233375, 0.2947532 ,
        0.2601899 ],
       [0.21685807, 0.21907411, 0.2135662 , ..., 0.35388117, 0.25694889,
        0.24834829]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Intercept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.0003219 -0.07621 ... 0.3622</div><input id="attrs-e92c477a-4c5f-4ad6-bef2-c368e95c2901" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e92c477a-4c5f-4ad6-bef2-c368e95c2901" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-77c6dfed-de6e-4cd1-b008-c1466a63f27c" class="xr-var-data-in" type="checkbox"><label for="data-77c6dfed-de6e-4cd1-b008-c1466a63f27c" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-3.21858306e-04, -7.62069524e-02, -1.85344231e-01, ...,
         3.72455227e-01, -1.28357710e-01, -1.75070205e-02],
       [ 6.75254365e-01,  6.86267808e-01,  6.64230580e-01, ...,
        -5.24206572e-02,  4.50979939e-01,  1.76310324e-01],
       [ 5.63949358e-01,  4.04841939e-01,  4.75318513e-01, ...,
        -4.73871675e-01, -1.43988959e-01, -6.65968891e-01],
       [ 3.95783430e-01,  4.30751300e-01,  1.57790349e-01, ...,
         5.72417898e-01,  5.99219020e-01,  3.62194073e-01]],
      shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>male</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1861 0.1973 ... 0.2833 0.15</div><input id="attrs-45f0751c-50ad-4945-9303-a5922c63b142" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-45f0751c-50ad-4945-9303-a5922c63b142" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-76ea1a85-22dd-4c29-b281-128537f45f56" class="xr-var-data-in" type="checkbox"><label for="data-76ea1a85-22dd-4c29-b281-128537f45f56" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.18614108, 0.1972769 , 0.24609322, ..., 0.28845895, 0.14738262,
        0.38867358],
       [0.24864871, 0.26618414, 0.30451655, ..., 0.290124  , 0.40927837,
        0.26403336],
       [0.01147796, 0.00675254, 0.00233586, ..., 0.22756571, 0.20263934,
        0.24459288],
       [0.36824705, 0.37411922, 0.38068321, ..., 0.62651956, 0.28326965,
        0.14996354]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>repvote</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.3935 -0.3044 ... -1.388 -1.119</div><input id="attrs-85925ecb-66a3-4485-a3e3-06b405c5a1ec" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-85925ecb-66a3-4485-a3e3-06b405c5a1ec" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-bd43d289-3999-4312-9acc-eb9daa4769ad" class="xr-var-data-in" type="checkbox"><label for="data-bd43d289-3999-4312-9acc-eb9daa4769ad" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-0.3934767 , -0.3044197 , -0.18716323, ..., -1.47690415,
        -1.01878333, -0.61104586],
       [-1.116523  , -1.10614173, -1.14699793, ..., -0.67779123,
        -1.43154409, -0.67383683],
       [-1.78520666, -1.58065665, -1.49763204, ..., -0.32421597,
        -0.96578146, -0.20842237],
       [-0.94040154, -1.02003633, -0.76954264, ..., -1.1079926 ,
        -1.38755167, -1.11909619]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu</span></div><div class="xr-var-dims">(chain, draw, edu__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.2361 0.03952 ... -0.08723</div><input id="attrs-f2ddcf6f-a408-4dfe-bc36-59f4417186cc" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f2ddcf6f-a408-4dfe-bc36-59f4417186cc" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f93107a3-51d3-48e3-ac70-edfedbd68247" class="xr-var-data-in" type="checkbox"><label for="data-f93107a3-51d3-48e3-ac70-edfedbd68247" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-0.23606639,  0.03952195,  0.19390099, -0.58725864,
         -0.10353753],
        [-0.04072258, -0.05117268,  0.0944052 , -0.56205338,
          0.03253908],
        [-0.06853926, -0.00565181,  0.12518418, -0.44266426,
          0.05553575],
        ...,
        [-0.14576388,  0.14932598,  0.28614487, -0.35608171,
          0.02875589],
        [ 0.12322133,  0.16399086,  0.29470316, -0.10561501,
          0.1359425 ],
        [-0.06701444, -0.04051351,  0.21726117, -0.36566861,
         -0.13364958]],

       [[-0.0576874 , -0.12125953,  0.09555403, -0.19359222,
          0.16842842],
        [-0.0584045 , -0.09947117,  0.09720323, -0.18202035,
          0.14304346],
        [-0.06979621, -0.10658497,  0.12894312, -0.14951308,
          0.16244339],
...
        [ 0.16398121,  0.02355287,  0.05073705, -0.34309796,
         -0.04993389],
        [-0.01554162, -0.06221654,  0.02175718, -0.29554477,
         -0.22269852],
        [ 0.05869026, -0.22167485,  0.00438661, -0.36304784,
         -0.12497928]],

       [[ 0.01106397,  0.00913131,  0.01688615, -0.01077497,
         -0.02580242],
        [ 0.0048783 , -0.00149741, -0.00177262,  0.00663449,
         -0.01237859],
        [ 0.01842357, -0.01586298,  0.01010242,  0.01033829,
         -0.00466377],
        ...,
        [-0.1117301 ,  0.19562763,  0.00675094, -0.76317213,
         -0.02942159],
        [-0.17036106,  0.02770568,  0.26875207,  0.01220776,
          0.00094009],
        [-0.00703157,  0.0854295 , -0.00123738, -0.02605878,
         -0.08722852]]], shape=(4, 4000, 5))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age</span></div><div class="xr-var-dims">(chain, draw, edu:age__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.0658 -0.09502 ... 0.12 -0.0549</div><input id="attrs-4e3eac06-c50f-4166-8fa8-cf5c918d273d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4e3eac06-c50f-4166-8fa8-cf5c918d273d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-77c109ad-b914-4d07-89d4-61fc608f021d" class="xr-var-data-in" type="checkbox"><label for="data-77c109ad-b914-4d07-89d4-61fc608f021d" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-0.06580405, -0.09501558,  0.1117735 , ..., -0.161431  ,
          0.06880415,  0.09496863],
        [-0.06568834, -0.07150977,  0.11391269, ..., -0.17510751,
          0.0642265 ,  0.11404995],
        [ 0.06671058, -0.06212731, -0.15775793, ..., -0.00986691,
          0.10263592,  0.13340623],
        ...,
        [ 0.24962068,  0.22585613, -0.11065996, ...,  0.00842856,
          0.19569075,  0.25245259],
        [-0.04149419,  0.00966698, -0.02895544, ...,  0.00099467,
         -0.02481149, -0.02970359],
        [ 0.03411322, -0.19025902, -0.04022661, ...,  0.00494236,
          0.0963688 ,  0.29311101]],

       [[ 0.07784129, -0.04760669,  0.00683357, ..., -0.15049798,
          0.01717726,  0.11121074],
        [ 0.06663115, -0.04488087, -0.00399348, ..., -0.1646276 ,
          0.0031251 ,  0.11959057],
        [ 0.10554835, -0.04361274, -0.00759353, ..., -0.13586593,
         -0.03044159,  0.17281195],
...
        [-0.00373851,  0.03225081, -0.1176617 , ...,  0.08989114,
          0.11482376,  0.03773806],
        [ 0.01626914, -0.0147687 , -0.10202513, ...,  0.0326447 ,
          0.07211576,  0.01780689],
        [-0.45474507, -0.16836101, -0.28859303, ..., -0.0252933 ,
         -0.05470419,  0.29621247]],

       [[-0.00282311, -0.08021558,  0.02250639, ...,  0.01537817,
          0.09167904,  0.06972863],
        [ 0.05604518, -0.03303047,  0.02468017, ...,  0.00189076,
          0.09297964,  0.12434294],
        [ 0.05579271, -0.04335375, -0.00739794, ...,  0.00754659,
          0.08632638,  0.13417489],
        ...,
        [-0.06643662, -0.07156536, -0.08991674, ..., -0.07743765,
          0.13517072, -0.024519  ],
        [ 0.03862708,  0.14417763, -0.07728414, ...,  0.14113535,
          0.08486243,  0.3274914 ],
        [-0.04941882,  0.00230183, -0.01546024, ..., -0.11303916,
          0.11997926, -0.05490342]]], shape=(4, 4000, 30))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth</span></div><div class="xr-var-dims">(chain, draw, edu:eth__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1416 -0.02554 ... -0.1221 0.6262</div><input id="attrs-89985095-d494-4c5b-9c5d-fb119388d811" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-89985095-d494-4c5b-9c5d-fb119388d811" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c943bdc1-7df5-4241-9f7a-0b40c44fa0c1" class="xr-var-data-in" type="checkbox"><label for="data-c943bdc1-7df5-4241-9f7a-0b40c44fa0c1" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 1.41552800e-01, -2.55372634e-02, -4.13537297e-02, ...,
          8.06654268e-02,  1.12093738e-01,  1.74819555e-01],
        [ 1.48043337e-01, -3.88778108e-02, -1.19108127e-02, ...,
          6.80000359e-02,  1.19721248e-01,  1.73944853e-01],
        [-1.08284988e-01, -2.39574397e-02,  1.38273186e-01, ...,
         -6.49435053e-02, -1.46928886e-01,  3.81065660e-02],
        ...,
        [ 2.54121469e-02,  9.92249123e-02,  4.41362660e-02, ...,
          5.81225282e-02, -5.98904317e-02,  2.55109883e-01],
        [-1.05956417e-01, -3.53505242e-01, -3.30730244e-02, ...,
          1.93970671e-01, -9.94523759e-02,  1.02401566e-01],
        [ 1.16564656e-01,  1.58589118e-01,  4.54278311e-02, ...,
         -1.90160234e-01,  4.23185965e-02,  2.85031059e-01]],

       [[-2.77373049e-02, -3.00759886e-01, -2.16976647e-02, ...,
         -3.33475054e-01, -1.32921253e-02,  9.10967145e-02],
        [-2.86452627e-02, -3.03551376e-01, -2.95181391e-02, ...,
         -3.38176810e-01,  2.74523792e-03,  9.55083085e-02],
        [ 3.23616518e-02, -3.47651801e-01, -6.06412486e-02, ...,
         -2.95783064e-01,  2.29155216e-02,  1.44689727e-01],
...
          1.29182899e-01,  2.09732131e-01,  2.31666873e-01],
        [-5.27013102e-02, -2.36951601e-01,  1.72038476e-01, ...,
          2.29523419e-01,  3.30497675e-01,  2.80871478e-01],
        [ 4.04275531e-02, -1.73196897e-01,  1.62445186e-01, ...,
         -9.66062913e-02,  6.33620840e-02,  1.46286311e-01]],

       [[ 3.80728677e-01, -1.27113675e-01,  4.17930524e-02, ...,
          2.07388380e-02,  8.04929936e-02,  4.76554332e-02],
        [ 2.73369833e-01,  3.80901603e-03, -3.57404701e-01, ...,
         -8.80357513e-02,  1.51508895e-01,  7.72201950e-02],
        [ 2.72481084e-01, -8.73063441e-03, -2.39814236e-01, ...,
         -2.65066393e-02,  9.80264076e-02,  5.17560252e-02],
        ...,
        [ 2.30311217e-01, -3.34987473e-01, -2.57489529e-01, ...,
         -2.48816444e-01, -2.15065852e-01,  3.46272219e-01],
        [ 9.42023631e-02,  1.19818352e-04,  3.86048731e-01, ...,
         -6.06371493e-02,  2.10485093e-01,  2.95462063e-01],
        [-1.66574647e-01,  3.46865305e-02,  1.98867547e-01, ...,
          1.85916285e-01, -1.22075234e-01,  6.26150382e-01]]],
      shape=(4, 4000, 20))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth</span></div><div class="xr-var-dims">(chain, draw, eth__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.813 0.376 ... 0.01006 -0.01473</div><input id="attrs-9bf82efc-fe3c-4d22-9f80-a9a56d683fd8" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-9bf82efc-fe3c-4d22-9f80-a9a56d683fd8" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-adcb51a4-8a16-4be1-aefb-20ad2c7bf82b" class="xr-var-data-in" type="checkbox"><label for="data-adcb51a4-8a16-4be1-aefb-20ad2c7bf82b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-0.81300941,  0.37598337,  0.33992714,  0.40225461],
        [-0.73591208,  0.44240008,  0.32706899,  0.41423505],
        [-0.64901435,  0.20310546,  0.15831128,  0.27652794],
        ...,
        [-0.29069406,  0.15600426,  0.1414519 ,  0.31656927],
        [-0.35531592,  0.44696303,  0.41187067,  0.6334792 ],
        [-0.10005083,  0.04771385,  0.47991707,  0.30580031]],

       [[-0.7382472 , -0.11106205, -0.07110273, -0.53509545],
        [-0.61320653, -0.131576  , -0.0859798 , -0.4748674 ],
        [-0.74770391, -0.15147255, -0.14979473, -0.49323646],
        ...,
        [-0.04051779, -0.07522958,  0.42199783,  0.13724378],
        [-0.13098407,  0.1611958 ,  0.40540588,  0.08518507],
        [-0.23532152,  0.24372888,  0.16984744,  0.42337685]],

       [[-0.22091011,  0.26695156,  0.21715657,  0.46316998],
        [-0.16781611,  0.01703062,  0.36230376,  0.68904393],
        [-0.50723314,  0.11310465,  0.16856559,  0.41465675],
        ...,
        [-0.07859355,  0.46873659,  0.21127119,  0.66537277],
        [ 0.25550376,  0.45557766,  0.37056397,  0.76009951],
        [ 0.26670344,  0.84316704,  0.66777948,  0.90391942]],

       [[-0.15810267, -0.02843205, -0.1752418 , -0.15141295],
        [-0.24641641,  0.06571814, -0.13337538, -0.15771727],
        [-0.18192129,  0.12485717, -0.10055871, -0.14864204],
        ...,
        [-0.26494812,  0.32982861, -0.0424683 , -0.22476109],
        [-0.01008326,  0.17393471,  0.02683767, -0.19003531],
        [ 0.00685285,  0.00541247,  0.01005723, -0.01473437]]],
      shape=(4, 4000, 4))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth</span></div><div class="xr-var-dims">(chain, draw, male:eth__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.5367 -0.1466 ... 0.04687 0.1735</div><input id="attrs-63a98535-b552-423d-8fb8-d40bda3a95cd" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-63a98535-b552-423d-8fb8-d40bda3a95cd" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c790231b-e039-4fc6-8113-a4d2747af8a9" class="xr-var-data-in" type="checkbox"><label for="data-c790231b-e039-4fc6-8113-a4d2747af8a9" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 0.53666726, -0.14659088, -0.01051454, ..., -0.07886515,
         -0.26242731, -0.06394192],
        [ 0.49983783, -0.03773404, -0.08990654, ..., -0.10159896,
         -0.2396677 , -0.02977189],
        [-0.02027423, -0.01914877,  0.02354076, ...,  0.01255169,
          0.02164773,  0.00742125],
        ...,
        [-0.03312325,  0.03090077, -0.0067438 , ...,  0.00447494,
          0.01608005, -0.03327538],
        [ 0.12421165, -0.07967298,  0.0739437 , ..., -0.09117925,
         -0.06883314, -0.06168866],
        [-0.19453771,  0.09743795, -0.05669856, ...,  0.1765203 ,
         -0.21333708,  0.03118991]],

       [[-0.30101035, -0.13763932, -0.24753248, ...,  0.26099436,
         -0.17428794,  0.48749867],
        [-0.18781258, -0.1782078 , -0.20678099, ...,  0.24099459,
         -0.13348059,  0.53420899],
        [-0.1584891 , -0.05736607, -0.28940156, ...,  0.1618874 ,
         -0.33393529,  0.4555195 ],
...
        [ 0.09868322, -0.36299329,  0.06631239, ...,  0.02873544,
         -0.09298074, -0.05020437],
        [-0.05537263, -0.01639645,  0.10740681, ...,  0.1675895 ,
         -0.09719602, -0.07247783],
        [-0.09817336, -0.12545263, -0.07364686, ..., -0.00308771,
         -0.04985223, -0.0823832 ]],

       [[-0.67515165, -0.33331529,  0.06219964, ...,  0.10726802,
          0.04554298,  0.21340511],
        [-0.43433301, -0.18892972,  0.21716303, ..., -0.26259872,
         -0.04755359,  0.19030465],
        [-0.49615194, -0.22545399,  0.23793127, ..., -0.01304088,
         -0.01962695,  0.34990258],
        ...,
        [-0.23933899,  0.13106667,  0.2208941 , ..., -0.08476503,
          0.18526623,  0.07594984],
        [-0.39046374, -0.11455443, -0.28321851, ..., -0.09104462,
         -0.0646196 ,  0.10316641],
        [-0.07583492, -0.06073763,  0.18137331, ...,  0.21309601,
          0.04687095,  0.17349325]]], shape=(4, 4000, 8))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state</span></div><div class="xr-var-dims">(chain, draw, state__factor_dim)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.1547 -0.04735 ... 0.3345 -0.1952</div><input id="attrs-fa0bfdc2-c150-454e-8c5c-f6ed9809f739" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-fa0bfdc2-c150-454e-8c5c-f6ed9809f739" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9c0fa8af-3382-4ca8-9b98-9757ffeb5377" class="xr-var-data-in" type="checkbox"><label for="data-9c0fa8af-3382-4ca8-9b98-9757ffeb5377" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-1.54713295e-01, -4.73476880e-02,  8.20595488e-02, ...,
         -1.58003948e-01,  7.27553354e-02,  3.62057400e-01],
        [-2.04601681e-01, -3.23745203e-02,  7.36662212e-02, ...,
         -1.68892587e-01,  7.30813214e-02,  3.67768155e-01],
        [ 4.35385009e-01,  4.01403727e-01, -1.66041061e-01, ...,
          4.08629417e-01,  4.61206759e-01, -2.94980043e-01],
        ...,
        [ 2.04333612e-01,  1.36918396e-01,  1.90852903e-01, ...,
          4.16465975e-02,  4.17282109e-01,  7.26306856e-02],
        [ 2.94135990e-01,  3.91411284e-01, -3.90516760e-02, ...,
         -1.38545935e-01,  4.71502407e-01, -5.58963464e-02],
        [-2.72980644e-02,  1.63809778e-01,  1.28677607e-01, ...,
          9.64369358e-02,  3.80814045e-01,  4.84268827e-02]],

       [[ 1.93710139e-01,  1.46261526e-01,  6.47443284e-02, ...,
         -9.63762571e-02,  5.63566303e-01, -3.22097128e-01],
        [ 3.10778844e-02,  1.78542916e-01,  6.94696415e-02, ...,
         -1.61681231e-01,  5.73968344e-01, -3.83559859e-01],
        [ 9.02372178e-02,  1.93320685e-01, -5.99915354e-02, ...,
         -1.20579835e-01,  5.36800809e-01, -3.62891352e-01],
...
          8.94609641e-02,  4.70647435e-01,  1.88396082e-01],
        [ 3.82913651e-01,  3.40828846e-01,  7.79209736e-02, ...,
          2.28512066e-01,  4.97625240e-01, -3.69064217e-01],
        [ 1.94561414e-01,  1.16993643e-01,  2.59973717e-01, ...,
          1.26311901e-01,  3.75683765e-01,  8.09470861e-02]],

       [[-1.72469487e-01,  2.83054539e-01,  2.76103336e-02, ...,
          2.70089069e-01,  5.10136092e-01,  7.62677209e-02],
        [ 3.15014363e-02,  2.86295249e-01,  4.19188246e-02, ...,
          2.92696575e-01,  4.94168187e-01,  1.03153740e-01],
        [-5.19507574e-03,  3.73057517e-01,  7.80096128e-02, ...,
          9.06004034e-02,  4.76666500e-01,  1.71554718e-01],
        ...,
        [-6.28950018e-02,  3.39280628e-01,  4.92034480e-02, ...,
         -3.51470501e-01,  4.48495073e-01, -2.63362750e-01],
        [ 5.08924441e-01,  2.11967257e-01,  1.51174541e-02, ...,
          3.94309100e-01,  3.57383418e-01,  1.15675811e-01],
        [-1.33127632e-01,  2.80507213e-01,  4.09042457e-02, ...,
         -3.95254617e-01,  3.34464820e-01, -1.95206105e-01]]],
      shape=(4, 4000, 46))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>p</span></div><div class="xr-var-dims">(chain, draw, __obs__)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.4474 0.451 ... 0.4265 0.4396</div><input id="attrs-80648668-c209-4a18-be7b-0a35a6d6e44e" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-80648668-c209-4a18-be7b-0a35a6d6e44e" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-99fa78d4-a845-4427-968f-2566a22cc125" class="xr-var-data-in" type="checkbox"><label for="data-99fa78d4-a845-4427-968f-2566a22cc125" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[0.44744132, 0.45100029, 0.59535083, ..., 0.31692549,
         0.45354804, 0.36823698],
        [0.43650381, 0.50385374, 0.64126007, ..., 0.29498502,
         0.45743476, 0.4235269 ],
        [0.48006666, 0.4897864 , 0.68456866, ..., 0.34448363,
         0.50351093, 0.2726274 ],
        ...,
        [0.43293482, 0.58641111, 0.66548391, ..., 0.22718231,
         0.41448401, 0.43561749],
        [0.48724838, 0.46562346, 0.61351277, ..., 0.3223898 ,
         0.38399172, 0.34333802],
        [0.4509811 , 0.52909391, 0.71057728, ..., 0.41255468,
         0.46928817, 0.33781057]],

       [[0.458138  , 0.4682769 , 0.70694434, ..., 0.4209459 ,
         0.54727455, 0.3718362 ],
        [0.48003899, 0.49895365, 0.73353035, ..., 0.4223712 ,
         0.53750718, 0.42338092],
        [0.45591336, 0.47176164, 0.72468716, ..., 0.34433434,
         0.4745395 , 0.40187599],
...
        [0.44067846, 0.48226843, 0.67067518, ..., 0.20258534,
         0.36774633, 0.42850245],
        [0.47150454, 0.4698387 , 0.62753104, ..., 0.36685024,
         0.45490751, 0.4490857 ],
        [0.41991635, 0.52733105, 0.69437796, ..., 0.16818608,
         0.29538734, 0.29771256]],

       [[0.49578902, 0.46908655, 0.63761171, ..., 0.31618689,
         0.3682525 , 0.32890784],
        [0.4665025 , 0.49473491, 0.64512582, ..., 0.38201625,
         0.44164373, 0.31974139],
        [0.47347064, 0.50823725, 0.65746464, ..., 0.3192674 ,
         0.42266074, 0.27710497],
        ...,
        [0.4678561 , 0.51854623, 0.66332657, ..., 0.21917098,
         0.36631841, 0.42141452],
        [0.4810996 , 0.45966067, 0.65339364, ..., 0.27476291,
         0.43762709, 0.35200435],
        [0.42390189, 0.5123979 , 0.64722565, ..., 0.42396048,
         0.42651207, 0.43963847]]], shape=(4, 4000, 11040))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-00d8811b-52ae-4e6b-8faa-b1f610ce7242" class="xr-section-summary-in" type="checkbox"><label for="section-00d8811b-52ae-4e6b-8faa-b1f610ce7242" class="xr-section-summary">Indexes: <span>(9)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>state__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-ee52bdfc-59bb-4b82-a707-940912ad20af" class="xr-index-data-in" type="checkbox"><label for="index-ee52bdfc-59bb-4b82-a707-940912ad20af" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['AK', 'AL', 'AR', 'CA', 'CO', 'DE', 'FL', 'GA', 'HI', 'IA', 'ID', 'IL',
       'KS', 'KY', 'LA', 'MA', 'MD', 'ME', 'MI', 'MN', 'MO', 'MS', 'MT', 'NC',
       'ND', 'NE', 'NH', 'NJ', 'NM', 'NV', 'NY', 'OH', 'OK', 'OR', 'PA', 'RI',
       'SC', 'SD', 'TN', 'UT', 'VA', 'VT', 'WA', 'WI', 'WV', 'WY'],
      dtype='object', name='state__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>eth__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-9dde77eb-59f6-4266-8655-112befdc0b79" class="xr-index-data-in" type="checkbox"><label for="index-9dde77eb-59f6-4266-8655-112befdc0b79" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['Black', 'Hispanic', 'Other', 'White'], dtype='object', name='eth__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>edu__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-c142df17-53f5-42c3-a6dc-0137701422ac" class="xr-index-data-in" type="checkbox"><label for="index-c142df17-53f5-42c3-a6dc-0137701422ac" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['4-Year College', 'HS', 'No HS', 'Post-grad', 'Some college'], dtype='object', name='edu__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>male:eth__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-a50d0a57-7e7c-47ea-90ef-9f6f3fb41f8f" class="xr-index-data-in" type="checkbox"><label for="index-a50d0a57-7e7c-47ea-90ef-9f6f3fb41f8f" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['-0.5:Black', '-0.5:Hispanic', '-0.5:Other', '-0.5:White', '0.5:Black',
       '0.5:Hispanic', '0.5:Other', '0.5:White'],
      dtype='object', name='male:eth__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-a9d9759b-e870-44d1-ad03-977d90ec5682" class="xr-index-data-in" type="checkbox"><label for="index-a9d9759b-e870-44d1-ad03-977d90ec5682" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([   0,    1,    2,    3,    4,    5,    6,    7,    8,    9,
       ...
       3990, 3991, 3992, 3993, 3994, 3995, 3996, 3997, 3998, 3999],
      dtype='int64', name='draw', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>edu:age__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-c559efbe-2fb4-4f46-8347-6f392d068a0c" class="xr-index-data-in" type="checkbox"><label for="index-c559efbe-2fb4-4f46-8347-6f392d068a0c" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['4-Year College:18-29', '4-Year College:30-39', '4-Year College:40-49',
       '4-Year College:50-59', '4-Year College:60-69', '4-Year College:70+',
       'HS:18-29', 'HS:30-39', 'HS:40-49', 'HS:50-59', 'HS:60-69', 'HS:70+',
       'No HS:18-29', 'No HS:30-39', 'No HS:40-49', 'No HS:50-59',
       'No HS:60-69', 'No HS:70+', 'Post-grad:18-29', 'Post-grad:30-39',
       'Post-grad:40-49', 'Post-grad:50-59', 'Post-grad:60-69',
       'Post-grad:70+', 'Some college:18-29', 'Some college:30-39',
       'Some college:40-49', 'Some college:50-59', 'Some college:60-69',
       'Some college:70+'],
      dtype='object', name='edu:age__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-7cfa7fc4-1c5a-4745-8531-20f547425e21" class="xr-index-data-in" type="checkbox"><label for="index-7cfa7fc4-1c5a-4745-8531-20f547425e21" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>edu:eth__factor_dim</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-b87a708a-d536-424a-bace-09641eee02a7" class="xr-index-data-in" type="checkbox"><label for="index-b87a708a-d536-424a-bace-09641eee02a7" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index(['4-Year College:Black', '4-Year College:Hispanic',
       '4-Year College:Other', '4-Year College:White', 'HS:Black',
       'HS:Hispanic', 'HS:Other', 'HS:White', 'No HS:Black', 'No HS:Hispanic',
       'No HS:Other', 'No HS:White', 'Post-grad:Black', 'Post-grad:Hispanic',
       'Post-grad:Other', 'Post-grad:White', 'Some college:Black',
       'Some college:Hispanic', 'Some college:Other', 'Some college:White'],
      dtype='object', name='edu:eth__factor_dim'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>__obs__</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-e306e758-498e-432c-bb6c-0f52f9b27d4f" class="xr-index-data-in" type="checkbox"><label for="index-e306e758-498e-432c-bb6c-0f52f9b27d4f" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([    0,     1,     2,     3,     4,     5,     6,     7,     8,     9,
       ...
       11030, 11031, 11032, 11033, 11034, 11035, 11036, 11037, 11038, 11039],
      dtype='int64', name='__obs__', length=11040))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-7c1801eb-7955-40e6-b135-3770aa3f3b09" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-7c1801eb-7955-40e6-b135-3770aa3f3b09" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.644117+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_posterior_predictived91c67f1-f729-476f-bc90-69764855270a" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_posterior_predictived91c67f1-f729-476f-bc90-69764855270a" class="xr-section-summary">posterior_predictive</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 1GB
Dimensions:         (chain: 4, draw: 4000, __obs__: 11040)
Coordinates:
  * chain           (chain) int64 32B 0 1 2 3
  * draw            (draw) int64 32kB 0 1 2 3 4 5 ... 3995 3996 3997 3998 3999
  * __obs__         (__obs__) int64 88kB 0 1 2 3 4 ... 11036 11037 11038 11039
Data variables:
    p(abortion, n)  (chain, draw, __obs__) int64 1GB 14010 5341 ... 3965 12383
Attributes:
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-d5d3052f-e3a7-404c-86a7-fad5b251cd1d" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-d5d3052f-e3a7-404c-86a7-fad5b251cd1d" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 4000</li><li><span class="xr-has-index">__obs__</span>: 11040</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-ddfade36-53d3-4525-a1f4-1fd4da2f91bf" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-ddfade36-53d3-4525-a1f4-1fd4da2f91bf" class="xr-section-summary">Coordinates: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-f36e4607-2857-42e7-88dc-1670a95a6331" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f36e4607-2857-42e7-88dc-1670a95a6331" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-510160ed-916f-4656-8809-27231619719b" class="xr-var-data-in" type="checkbox"><label for="data-510160ed-916f-4656-8809-27231619719b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 ... 3996 3997 3998 3999</div><input id="attrs-31e7173c-db9c-4479-b745-d1b74a86c53f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-31e7173c-db9c-4479-b745-d1b74a86c53f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-4c0abcc7-256e-4a6a-b6a4-87991efe9986" class="xr-var-data-in" type="checkbox"><label for="data-4c0abcc7-256e-4a6a-b6a4-87991efe9986" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([   0,    1,    2, ..., 3997, 3998, 3999], shape=(4000,))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">__obs__</span></div><div class="xr-var-dims">(__obs__)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 ... 11036 11037 11038 11039</div><input id="attrs-1858b0e9-a826-46f1-bf88-dd91291da04b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-1858b0e9-a826-46f1-bf88-dd91291da04b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5506ffc7-8aa9-456b-8ba7-ec08a77acefb" class="xr-var-data-in" type="checkbox"><label for="data-5506ffc7-8aa9-456b-8ba7-ec08a77acefb" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([    0,     1,     2, ..., 11037, 11038, 11039], shape=(11040,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-7fc52fc5-a437-435c-9c37-8e4da1d04fa2" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-7fc52fc5-a437-435c-9c37-8e4da1d04fa2" class="xr-section-summary">Data variables: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>p(abortion, n)</span></div><div class="xr-var-dims">(chain, draw, __obs__)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">14010 5341 10206 ... 3965 12383</div><input id="attrs-ce21989c-9b19-47cb-8659-d29b34030ed6" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ce21989c-9b19-47cb-8659-d29b34030ed6" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c263f7e5-a491-400c-9143-6aec776bb940" class="xr-var-data-in" type="checkbox"><label for="data-c263f7e5-a491-400c-9143-6aec776bb940" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[14010,  5341, 10206, ...,  3190,  4185, 10212],
        [13818,  5891, 10978, ...,  2898,  4236, 11850],
        [15139,  5688, 11610, ...,  3455,  4647,  7733],
        ...,
        [13786,  6913, 11417, ...,  2245,  3821, 12253],
        [15385,  5551, 10471, ...,  3190,  3536,  9615],
        [14081,  6341, 12224, ...,  4203,  4355,  9471]],

       [[14323,  5568, 12149, ...,  4218,  5072, 10396],
        [15068,  5881, 12499, ...,  4237,  4888, 11863],
        [14444,  5547, 12410, ...,  3426,  4401, 11186],
        ...,
        [13676,  5244, 12228, ...,  2131,  3828, 14183],
        [15352,  6645, 10146, ...,  4090,  2989,  9722],
        [13889,  5098, 11388, ...,  2574,  4302, 11684]],

       [[14908,  5862, 11154, ...,  3692,  4296, 13474],
        [14313,  6298, 11726, ...,  2738,  4031, 15852],
        [14024,  6091, 11225, ...,  4302,  4561,  6608],
        ...,
        [13804,  5719, 11322, ...,  2103,  3349, 12018],
        [14899,  5564, 10774, ...,  3656,  4173, 12654],
        [13323,  6160, 11889, ...,  1633,  2721,  8324]],

       [[15644,  5447, 10770, ...,  3184,  3407,  9063],
        [14729,  5971, 11018, ...,  3884,  4072,  9071],
        [14888,  5955, 11251, ...,  3265,  3849,  7712],
        ...,
        [14675,  6143, 11369, ...,  2215,  3372, 11805],
        [15132,  5472, 11173, ...,  2853,  3942,  9997],
        [13314,  5965, 11234, ...,  4291,  3965, 12383]]],
      shape=(4, 4000, 11040))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-19e3c23d-5d83-48ca-b9c4-5cdd9036b42b" class="xr-section-summary-in" type="checkbox"><label for="section-19e3c23d-5d83-48ca-b9c4-5cdd9036b42b" class="xr-section-summary">Indexes: <span>(3)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-6999cdfa-afc8-4e66-9cc9-afb295f617ab" class="xr-index-data-in" type="checkbox"><label for="index-6999cdfa-afc8-4e66-9cc9-afb295f617ab" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-723f601f-eb52-447d-9698-466de695a3cb" class="xr-index-data-in" type="checkbox"><label for="index-723f601f-eb52-447d-9698-466de695a3cb" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([   0,    1,    2,    3,    4,    5,    6,    7,    8,    9,
       ...
       3990, 3991, 3992, 3993, 3994, 3995, 3996, 3997, 3998, 3999],
      dtype='int64', name='draw', length=4000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>__obs__</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-6103ddd5-436f-47ea-a133-172ea4b96c3c" class="xr-index-data-in" type="checkbox"><label for="index-6103ddd5-436f-47ea-a133-172ea4b96c3c" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([    0,     1,     2,     3,     4,     5,     6,     7,     8,     9,
       ...
       11030, 11031, 11032, 11033, 11034, 11035, 11036, 11037, 11038, 11039],
      dtype='int64', name='__obs__', length=11040))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-c77f4537-47f5-4f38-85ef-058c4351db24" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-c77f4537-47f5-4f38-85ef-058c4351db24" class="xr-section-summary">Attributes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_sample_statse9758468-c74b-4a99-8faf-bc51ee2fe5eb" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_sample_statse9758468-c74b-4a99-8faf-bc51ee2fe5eb" class="xr-section-summary">sample_stats</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 1MB
Dimensions:               (chain: 4, draw: 4000)
Coordinates:
  * chain                 (chain) int64 32B 0 1 2 3
  * draw                  (draw) int64 32kB 0 1 2 3 4 ... 3996 3997 3998 3999
Data variables:
    depth                 (chain, draw) uint64 128kB 5 5 5 5 4 5 ... 5 6 5 5 5 5
    diverging             (chain, draw) bool 16kB False False ... False False
    energy                (chain, draw) float64 128kB 2.255e+03 ... 2.265e+03
    energy_error          (chain, draw) float64 128kB 0.0 0.8447 ... 0.3695
    index_in_trajectory   (chain, draw) int64 128kB 0 -1 20 10 ... -4 11 21 21
    logp                  (chain, draw) float64 128kB -2.195e+03 ... -2.192e+03
    maxdepth_reached      (chain, draw) bool 16kB False False ... False False
    mean_tree_accept      (chain, draw) float64 128kB 0.003212 ... 0.5059
    mean_tree_accept_sym  (chain, draw) float64 128kB 0.006398 ... 0.6373
    n_steps               (chain, draw) uint64 128kB 31 31 31 31 ... 31 31 31 31
    step_size             (chain, draw) float64 128kB 0.1945 0.1945 ... 0.1749
    step_size_bar         (chain, draw) float64 128kB 0.1945 0.1945 ... 0.1749
Attributes:
    created_at:                  2025-04-12T20:47:44.479410+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-8d4e4fd7-b644-4c89-9ef2-0dade6755dfa" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-8d4e4fd7-b644-4c89-9ef2-0dade6755dfa" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 4000</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-ded6aa91-5e7c-4f94-9b26-588cd327fb25" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-ded6aa91-5e7c-4f94-9b26-588cd327fb25" class="xr-section-summary">Coordinates: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-ed37dac0-7ff3-49a8-a6d6-43a39146f6f4" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ed37dac0-7ff3-49a8-a6d6-43a39146f6f4" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-fe74fbcc-a9bc-4759-a526-275c36d3f4a9" class="xr-var-data-in" type="checkbox"><label for="data-fe74fbcc-a9bc-4759-a526-275c36d3f4a9" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 ... 3996 3997 3998 3999</div><input id="attrs-74af48da-f418-4da4-9482-f2735afbd140" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-74af48da-f418-4da4-9482-f2735afbd140" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-10cc5cce-e052-4642-a76c-64ed7fba4511" class="xr-var-data-in" type="checkbox"><label for="data-10cc5cce-e052-4642-a76c-64ed7fba4511" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([   0,    1,    2, ..., 3997, 3998, 3999], shape=(4000,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-42ecb0bb-b788-4070-a005-5a46bd1239cb" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-42ecb0bb-b788-4070-a005-5a46bd1239cb" class="xr-section-summary">Data variables: <span>(12)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>depth</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">5 5 5 5 4 5 5 5 ... 5 5 5 6 5 5 5 5</div><input id="attrs-b9f7866c-9da6-48e1-97a0-d4a3f449333f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b9f7866c-9da6-48e1-97a0-d4a3f449333f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-55733752-54d8-4239-9fea-412928838924" class="xr-var-data-in" type="checkbox"><label for="data-55733752-54d8-4239-9fea-412928838924" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[5, 5, 5, ..., 5, 5, 5],
       [5, 5, 6, ..., 5, 5, 5],
       [5, 5, 5, ..., 5, 5, 5],
       [5, 5, 5, ..., 5, 5, 5]], shape=(4, 4000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>diverging</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False False False ... False False</div><input id="attrs-7ccc3822-5d42-4263-a577-2698d3cb3055" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7ccc3822-5d42-4263-a577-2698d3cb3055" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3f32c84f-a604-4c99-b312-9dd4fef1b806" class="xr-var-data-in" type="checkbox"><label for="data-3f32c84f-a604-4c99-b312-9dd4fef1b806" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.255e+03 2.265e+03 ... 2.265e+03</div><input id="attrs-d3f5577f-8d8c-46ad-b262-0eb90bd150fd" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d3f5577f-8d8c-46ad-b262-0eb90bd150fd" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-2889f192-b130-4795-aed8-bb068185cafa" class="xr-var-data-in" type="checkbox"><label for="data-2889f192-b130-4795-aed8-bb068185cafa" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[2255.117334  , 2264.51911296, 2271.28129   , ..., 2251.66136029,
        2269.75710454, 2265.80349644],
       [2237.80104932, 2243.93710343, 2230.0145833 , ..., 2257.31341858,
        2272.02897877, 2246.81377807],
       [2252.14394962, 2246.62068636, 2236.1609259 , ..., 2251.75162628,
        2238.84657812, 2241.87218089],
       [2264.40923367, 2260.40331607, 2250.3805075 , ..., 2240.2513712 ,
        2249.09295148, 2264.5290031 ]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy_error</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.0 0.8447 ... 0.01143 0.3695</div><input id="attrs-92fabd38-7fa4-4f98-a202-2258b9d411e1" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-92fabd38-7fa4-4f98-a202-2258b9d411e1" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-35094d49-a2da-4778-a025-30c901a84570" class="xr-var-data-in" type="checkbox"><label for="data-35094d49-a2da-4778-a025-30c901a84570" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 0.        ,  0.84470961, -1.4539347 , ..., -0.31018692,
         0.25727831, -0.62968532],
       [-0.51218275,  3.05568577, -2.8394705 , ...,  0.02725061,
        -0.20539784, -0.11696598],
       [-1.20939903,  0.7575223 , -0.3399562 , ...,  0.11625358,
         0.0552306 , -0.29775544],
       [ 0.11760641,  0.01299384,  0.39737546, ...,  1.77924518,
         0.01143386,  0.36951499]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>index_in_trajectory</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 -1 20 10 11 23 ... 20 -4 11 21 21</div><input id="attrs-12929ed1-eabb-4248-b260-09610397067f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-12929ed1-eabb-4248-b260-09610397067f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-35eccd66-b74b-4103-8b74-dedb1fc2cd46" class="xr-var-data-in" type="checkbox"><label for="data-35eccd66-b74b-4103-8b74-dedb1fc2cd46" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[  0,  -1,  20, ..., -26, -24, -17],
       [ -8,   1,  -2, ..., -17, -14, -19],
       [ -7,   3,   8, ..., -10,   8,  -9],
       [ 17,  -4,  -4, ...,  11,  21,  21]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>logp</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-2.195e+03 -2.2e+03 ... -2.192e+03</div><input id="attrs-001d691f-b3ec-468b-9dfa-01e47deaca66" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-001d691f-b3ec-468b-9dfa-01e47deaca66" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-13518a9a-2d4c-4108-b5e5-7a590550999b" class="xr-var-data-in" type="checkbox"><label for="data-13518a9a-2d4c-4108-b5e5-7a590550999b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-2195.28683531, -2199.69964304, -2192.48052209, ...,
        -2190.6539001 , -2204.62821134, -2196.67659335],
       [-2178.45558846, -2181.68135477, -2174.42955449, ...,
        -2202.52662822, -2191.97227334, -2190.34640282],
       [-2174.0529038 , -2177.6868388 , -2176.95514328, ...,
        -2189.79435862, -2176.25676299, -2192.38894971],
       [-2200.77698495, -2195.69861311, -2190.99082132, ...,
        -2179.17716831, -2186.05129393, -2191.79406429]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>maxdepth_reached</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False False False ... False False</div><input id="attrs-12c14611-3f72-4517-a6f7-0c9969ccc4fb" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-12c14611-3f72-4517-a6f7-0c9969ccc4fb" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-28a94337-9bb6-4c0a-a7a4-25b233e45042" class="xr-var-data-in" type="checkbox"><label for="data-28a94337-9bb6-4c0a-a7a4-25b233e45042" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.003212 0.01469 ... 0.9123 0.5059</div><input id="attrs-f7f4a238-b947-40a9-b87f-4aa933d8817f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-f7f4a238-b947-40a9-b87f-4aa933d8817f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-a549eaef-5e2d-4a70-9ea3-5e712cec0b83" class="xr-var-data-in" type="checkbox"><label for="data-a549eaef-5e2d-4a70-9ea3-5e712cec0b83" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.0032122 , 0.01468574, 0.7121965 , ..., 0.99523485, 0.93958582,
        0.76843208],
       [0.4646414 , 0.02347937, 0.35517416, ..., 0.99451639, 0.90787172,
        0.82817024],
       [0.97277143, 0.19049798, 0.21162333, ..., 0.91410456, 0.43072501,
        0.49844013],
       [0.48641789, 0.93830285, 0.52977933, ..., 0.23108827, 0.91234701,
        0.50593332]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept_sym</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.006398 0.02101 ... 0.8852 0.6373</div><input id="attrs-4214c83b-181b-4b4f-bd36-94557a5ba1b0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4214c83b-181b-4b4f-bd36-94557a5ba1b0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-80b01210-619b-4b73-9356-f8e60810dfef" class="xr-var-data-in" type="checkbox"><label for="data-80b01210-619b-4b73-9356-f8e60810dfef" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.00639806, 0.02100856, 0.26571785, ..., 0.91373449, 0.93793325,
        0.7677669 ],
       [0.48529583, 0.03865938, 0.31063868, ..., 0.94220104, 0.92448941,
        0.8299252 ],
       [0.87320319, 0.21384995, 0.19321452, ..., 0.94347875, 0.56745197,
        0.57673148],
       [0.61583831, 0.95821908, 0.58996206, ..., 0.34443986, 0.88518716,
        0.63731185]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>n_steps</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">31 31 31 31 15 ... 63 31 31 31 31</div><input id="attrs-3e253c9b-b478-4928-ad11-9c349d312b26" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-3e253c9b-b478-4928-ad11-9c349d312b26" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-bf5df715-a975-42c5-8734-4a0229012293" class="xr-var-data-in" type="checkbox"><label for="data-bf5df715-a975-42c5-8734-4a0229012293" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 31,  31,  31, ...,  31,  31,  31],
       [ 31,  31, 127, ...,  31,  31,  31],
       [ 31,  31,  63, ...,  31,  31,  31],
       [ 31,  31,  31, ...,  31,  31,  31]], shape=(4, 4000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1945 0.1945 ... 0.1749 0.1749</div><input id="attrs-555a7535-45ec-4e25-8e68-c3ad246f4e7b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-555a7535-45ec-4e25-8e68-c3ad246f4e7b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-2dd4776b-6961-4675-a89c-e21f88225828" class="xr-var-data-in" type="checkbox"><label for="data-2dd4776b-6961-4675-a89c-e21f88225828" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.19447538, 0.19447538, 0.19447538, ..., 0.19447538, 0.19447538,
        0.19447538],
       [0.17929565, 0.17929565, 0.17929565, ..., 0.17929565, 0.17929565,
        0.17929565],
       [0.17100847, 0.17100847, 0.17100847, ..., 0.17100847, 0.17100847,
        0.17100847],
       [0.17490276, 0.17490276, 0.17490276, ..., 0.17490276, 0.17490276,
        0.17490276]], shape=(4, 4000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size_bar</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.1945 0.1945 ... 0.1749 0.1749</div><input id="attrs-9fddb031-a76f-4341-9916-b75b44ffa9bc" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-9fddb031-a76f-4341-9916-b75b44ffa9bc" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-721d5165-8f52-4b97-91e5-19d86a132f84" class="xr-var-data-in" type="checkbox"><label for="data-721d5165-8f52-4b97-91e5-19d86a132f84" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.19447538, 0.19447538, 0.19447538, ..., 0.19447538, 0.19447538,
        0.19447538],
       [0.17929565, 0.17929565, 0.17929565, ..., 0.17929565, 0.17929565,
        0.17929565],
       [0.17100847, 0.17100847, 0.17100847, ..., 0.17100847, 0.17100847,
        0.17100847],
       [0.17490276, 0.17490276, 0.17490276, ..., 0.17490276, 0.17490276,
        0.17490276]], shape=(4, 4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-8473867d-4710-4c1e-b295-4b06064f1e79" class="xr-section-summary-in" type="checkbox"><label for="section-8473867d-4710-4c1e-b295-4b06064f1e79" class="xr-section-summary">Indexes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-fbffa503-d7a8-4433-b894-58fe8d6a823b" class="xr-index-data-in" type="checkbox"><label for="index-fbffa503-d7a8-4433-b894-58fe8d6a823b" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-2f09b16f-aef9-481e-9308-a64aa2799da8" class="xr-index-data-in" type="checkbox"><label for="index-2f09b16f-aef9-481e-9308-a64aa2799da8" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([   0,    1,    2,    3,    4,    5,    6,    7,    8,    9,
       ...
       3990, 3991, 3992, 3993, 3994, 3995, 3996, 3997, 3998, 3999],
      dtype='int64', name='draw', length=4000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-fedeb925-2407-4ab4-9f9a-22143e0ebd0e" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-fedeb925-2407-4ab4-9f9a-22143e0ebd0e" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.479410+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_observed_data459cd297-ab3f-4a2b-9fb6-e79f21ab59db" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_observed_data459cd297-ab3f-4a2b-9fb6-e79f21ab59db" class="xr-section-summary">observed_data</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 177kB
Dimensions:         (__obs__: 11040)
Coordinates:
  * __obs__         (__obs__) int64 88kB 0 1 2 3 4 ... 11036 11037 11038 11039
Data variables:
    p(abortion, n)  (__obs__) int64 88kB 18 16 13 12 11 11 11 ... 0 0 0 0 0 0 0
Attributes:
    created_at:                  2025-04-12T20:47:44.644117+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-d66b9670-7e63-44b4-a431-65a6f34ca6f6" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-d66b9670-7e63-44b4-a431-65a6f34ca6f6" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">__obs__</span>: 11040</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-7669c92a-f086-4823-b9a2-8533b745a102" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-7669c92a-f086-4823-b9a2-8533b745a102" class="xr-section-summary">Coordinates: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">__obs__</span></div><div class="xr-var-dims">(__obs__)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 ... 11036 11037 11038 11039</div><input id="attrs-efa646d1-0a2a-45bf-a2d1-784e935f0ee7" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-efa646d1-0a2a-45bf-a2d1-784e935f0ee7" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-bd41f11f-c0de-4f6e-8de8-c413f55c9e90" class="xr-var-data-in" type="checkbox"><label for="data-bd41f11f-c0de-4f6e-8de8-c413f55c9e90" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([    0,     1,     2, ..., 11037, 11038, 11039], shape=(11040,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-96b25da5-da65-4889-b2d2-1dec49f0a7f7" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-96b25da5-da65-4889-b2d2-1dec49f0a7f7" class="xr-section-summary">Data variables: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>p(abortion, n)</span></div><div class="xr-var-dims">(__obs__)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">18 16 13 12 11 11 ... 0 0 0 0 0 0</div><input id="attrs-b260111a-6392-480d-a67c-467cc201f138" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b260111a-6392-480d-a67c-467cc201f138" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-67209caf-72b2-46bb-81cc-9e3ab19d4de6" class="xr-var-data-in" type="checkbox"><label for="data-67209caf-72b2-46bb-81cc-9e3ab19d4de6" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([18, 16, 13, ...,  0,  0,  0], shape=(11040,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-24bb1075-2da7-423d-b8f1-57979edc2220" class="xr-section-summary-in" type="checkbox"><label for="section-24bb1075-2da7-423d-b8f1-57979edc2220" class="xr-section-summary">Indexes: <span>(1)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>__obs__</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-34255e52-2e1a-4f7e-9161-2cb1dbc5d8a2" class="xr-index-data-in" type="checkbox"><label for="index-34255e52-2e1a-4f7e-9161-2cb1dbc5d8a2" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([    0,     1,     2,     3,     4,     5,     6,     7,     8,     9,
       ...
       11030, 11031, 11032, 11033, 11034, 11035, 11036, 11037, 11038, 11039],
      dtype='int64', name='__obs__', length=11040))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-2ab64ceb-0ec1-4f5f-aa5d-1ed910f82572" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-2ab64ceb-0ec1-4f5f-aa5d-1ed910f82572" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.644117+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_warmup_posterior960c3194-6c7f-4127-9395-cb668389d54b" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_warmup_posterior960c3194-6c7f-4127-9395-cb668389d54b" class="xr-section-summary">warmup_posterior</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 4MB
Dimensions:                  (chain: 4, draw: 1000, 1|edu:age_offset_dim_0: 30,
                              1|edu:eth_offset_dim_0: 20,
                              1|edu_offset_dim_0: 5, 1|eth_offset_dim_0: 4,
                              1|male:eth_offset_dim_0: 8,
                              1|state_offset_dim_0: 46)
Coordinates:
  * chain                    (chain) int64 32B 0 1 2 3
  * draw                     (draw) int64 8kB 0 1 2 3 4 ... 995 996 997 998 999
  * 1|edu:age_offset_dim_0   (1|edu:age_offset_dim_0) int64 240B 0 1 2 ... 28 29
  * 1|edu:eth_offset_dim_0   (1|edu:eth_offset_dim_0) int64 160B 0 1 2 ... 18 19
  * 1|edu_offset_dim_0       (1|edu_offset_dim_0) int64 40B 0 1 2 3 4
  * 1|eth_offset_dim_0       (1|eth_offset_dim_0) int64 32B 0 1 2 3
  * 1|male:eth_offset_dim_0  (1|male:eth_offset_dim_0) int64 64B 0 1 2 3 4 5 6 7
  * 1|state_offset_dim_0     (1|state_offset_dim_0) int64 368B 0 1 2 ... 44 45
Data variables: (12/15)
    1|edu:age_offset         (chain, draw, 1|edu:age_offset_dim_0) float64 960kB ...
    1|edu:age_sigma          (chain, draw) float64 32kB 2.207 2.207 ... 0.2669
    1|edu:eth_offset         (chain, draw, 1|edu:eth_offset_dim_0) float64 640kB ...
    1|edu:eth_sigma          (chain, draw) float64 32kB 3.4 3.4 ... 0.2148
    1|edu_offset             (chain, draw, 1|edu_offset_dim_0) float64 160kB ...
    1|edu_sigma              (chain, draw) float64 32kB 1.923 1.923 ... 0.04515
    ...                       ...
    1|male:eth_sigma         (chain, draw) float64 32kB 0.5565 0.5565 ... 0.4587
    1|state_offset           (chain, draw, 1|state_offset_dim_0) float64 1MB ...
    1|state_sigma            (chain, draw) float64 32kB 0.6829 0.6829 ... 0.2371
    Intercept                (chain, draw) float64 32kB 1.71 1.71 ... 0.1291
    male                     (chain, draw) float64 32kB 1.447 1.447 ... 0.4612
    repvote                  (chain, draw) float64 32kB -0.9648 ... -1.736
Attributes:
    created_at:                  2025-04-12T20:47:44.648045+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-47a99fec-5f1f-403f-8635-ca777535fddc" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-47a99fec-5f1f-403f-8635-ca777535fddc" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 1000</li><li><span class="xr-has-index">1|edu:age_offset_dim_0</span>: 30</li><li><span class="xr-has-index">1|edu:eth_offset_dim_0</span>: 20</li><li><span class="xr-has-index">1|edu_offset_dim_0</span>: 5</li><li><span class="xr-has-index">1|eth_offset_dim_0</span>: 4</li><li><span class="xr-has-index">1|male:eth_offset_dim_0</span>: 8</li><li><span class="xr-has-index">1|state_offset_dim_0</span>: 46</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-a72862b4-76a0-4283-bc80-4c1a7fbee213" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-a72862b4-76a0-4283-bc80-4c1a7fbee213" class="xr-section-summary">Coordinates: <span>(8)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-37a68c0d-4e75-4ccb-b7a6-cfcbd3f051eb" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-37a68c0d-4e75-4ccb-b7a6-cfcbd3f051eb" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3905ba47-0c1d-4f79-9a89-b309ea147964" class="xr-var-data-in" type="checkbox"><label for="data-3905ba47-0c1d-4f79-9a89-b309ea147964" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 ... 995 996 997 998 999</div><input id="attrs-eb20ca88-8166-4f14-9d6b-85299df54f00" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-eb20ca88-8166-4f14-9d6b-85299df54f00" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d1830128-e028-48c3-a1ed-6abac92e2598" class="xr-var-data-in" type="checkbox"><label for="data-d1830128-e028-48c3-a1ed-6abac92e2598" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([  0,   1,   2, ..., 997, 998, 999], shape=(1000,))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|edu:age_offset_dim_0</span></div><div class="xr-var-dims">(1|edu:age_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 ... 24 25 26 27 28 29</div><input id="attrs-32c99ba4-5da4-4a27-8a6a-867b33a6078f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-32c99ba4-5da4-4a27-8a6a-867b33a6078f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-ab6683d2-6a71-4ff5-890b-a20358ed2f0a" class="xr-var-data-in" type="checkbox"><label for="data-ab6683d2-6a71-4ff5-890b-a20358ed2f0a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|edu:eth_offset_dim_0</span></div><div class="xr-var-dims">(1|edu:eth_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 ... 14 15 16 17 18 19</div><input id="attrs-a470c8f5-6da7-4215-b138-db8cd5b566b7" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-a470c8f5-6da7-4215-b138-db8cd5b566b7" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b160e674-78b7-4f05-bd7c-dbc1b6da5694" class="xr-var-data-in" type="checkbox"><label for="data-b160e674-78b7-4f05-bd7c-dbc1b6da5694" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|edu_offset_dim_0</span></div><div class="xr-var-dims">(1|edu_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4</div><input id="attrs-d69b3330-75f6-4f2e-873f-cca288019de4" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d69b3330-75f6-4f2e-873f-cca288019de4" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8e510719-0bc2-4890-a5d0-87cdf4c746e9" class="xr-var-data-in" type="checkbox"><label for="data-8e510719-0bc2-4890-a5d0-87cdf4c746e9" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3, 4])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|eth_offset_dim_0</span></div><div class="xr-var-dims">(1|eth_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-d263e665-bf1b-46e1-9ade-b4f6142ef6d4" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d263e665-bf1b-46e1-9ade-b4f6142ef6d4" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-37828da6-0c26-42e1-8117-56d82c829da4" class="xr-var-data-in" type="checkbox"><label for="data-37828da6-0c26-42e1-8117-56d82c829da4" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|male:eth_offset_dim_0</span></div><div class="xr-var-dims">(1|male:eth_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 7</div><input id="attrs-856427cb-5134-4ab8-866a-638946b02e0f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-856427cb-5134-4ab8-866a-638946b02e0f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-17ac0a35-5736-43b6-be2a-2e0c4aa77ec7" class="xr-var-data-in" type="checkbox"><label for="data-17ac0a35-5736-43b6-be2a-2e0c4aa77ec7" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3, 4, 5, 6, 7])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">1|state_offset_dim_0</span></div><div class="xr-var-dims">(1|state_offset_dim_0)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 6 ... 40 41 42 43 44 45</div><input id="attrs-7ec1c1d2-63f4-4882-9498-6b841c411cc7" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-7ec1c1d2-63f4-4882-9498-6b841c411cc7" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-936e967d-7690-4b99-a6dd-ac0bbe376906" class="xr-var-data-in" type="checkbox"><label for="data-936e967d-7690-4b99-a6dd-ac0bbe376906" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
       36, 37, 38, 39, 40, 41, 42, 43, 44, 45])</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-fc7122d7-f1d1-412d-adf9-b0223ef3cce0" class="xr-section-summary-in" type="checkbox"><label for="section-fc7122d7-f1d1-412d-adf9-b0223ef3cce0" class="xr-section-summary">Data variables: <span>(15)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age_offset</span></div><div class="xr-var-dims">(chain, draw, 1|edu:age_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.7128 -0.5591 ... 0.005938 0.3943</div><input id="attrs-90b4f918-16d8-4025-bfec-420f5afb86e0" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-90b4f918-16d8-4025-bfec-420f5afb86e0" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-374db21c-57ba-40a2-b75e-3f11e0f1e622" class="xr-var-data-in" type="checkbox"><label for="data-374db21c-57ba-40a2-b75e-3f11e0f1e622" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 0.71284134, -0.559058  ,  0.37604117, ...,  0.74880404,
          0.39094029, -1.70421955],
        [ 0.71284134, -0.559058  ,  0.37604117, ...,  0.74880404,
          0.39094029, -1.70421955],
        [ 0.4123814 , -0.93819344, -0.02554036, ...,  0.32689999,
          0.13899644, -1.19476971],
        ...,
        [ 0.2688731 ,  0.85206963, -0.65962647, ..., -0.70168721,
          1.43265963,  1.4161706 ],
        [ 0.80456226, -0.28526599,  0.43157533, ...,  0.06894895,
          0.9645582 ,  0.22450678],
        [-0.48957108, -0.70689993,  0.83157602, ..., -1.20101943,
          0.51189126,  0.70655059]],

       [[-1.21768468,  1.46814066,  0.02411921, ...,  1.82335468,
         -0.42807295, -1.75143342],
        [-1.21768468,  1.46814066,  0.02411921, ...,  1.82335468,
         -0.42807295, -1.75143342],
        [-1.31805243,  1.32350838, -0.06725975, ...,  1.62623674,
         -0.61223836, -1.9421984 ],
...
        [-0.74162495, -0.8804506 , -1.12681241, ..., -0.9669782 ,
          0.53939908,  1.27312825],
        [ 0.0894784 ,  0.17694982, -0.91446162, ...,  0.6731494 ,
          0.40317466,  0.32936144],
        [-1.14579979, -0.88363346, -0.96322569, ..., -0.54172027,
          0.84529024,  1.26946813]],

       [[ 0.29170452, -0.44934613,  0.71507369, ...,  0.61230857,
         -1.29450008,  1.53568806],
        [ 0.29170452, -0.44934613,  0.71507369, ...,  0.61230857,
         -1.29450008,  1.53568806],
        [ 0.19294842, -0.67933206,  0.5395378 , ...,  0.50094114,
         -0.65779379,  1.54083684],
        ...,
        [ 0.97462607, -0.38596485, -1.27249723, ...,  0.75782858,
          0.82203813,  1.834766  ],
        [-0.47406525,  0.02122943,  0.30284372, ..., -0.06532138,
          0.14637834,  0.67223118],
        [-0.35694681,  0.72158438, -1.37142036, ..., -0.23166229,
          0.00593751,  0.39427214]]], shape=(4, 1000, 30))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:age_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">2.207 2.207 1.741 ... 0.2755 0.2669</div><input id="attrs-ce785d3e-acb8-4489-919b-7c1f208e0cf5" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ce785d3e-acb8-4489-919b-7c1f208e0cf5" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-462e1ab7-0f25-4d41-82bd-c98db04c0b8b" class="xr-var-data-in" type="checkbox"><label for="data-462e1ab7-0f25-4d41-82bd-c98db04c0b8b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[2.20679535, 2.20679535, 1.74138944, ..., 0.19250073, 0.19368443,
        0.13441164],
       [0.51136144, 0.51136144, 0.6314906 , ..., 0.30519338, 0.1541938 ,
        0.17071181],
       [0.72213574, 0.72213574, 0.48138778, ..., 0.14969559, 0.15653443,
        0.10686433],
       [0.68243807, 0.68243807, 0.57525882, ..., 0.20726959, 0.27550811,
        0.26694358]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth_offset</span></div><div class="xr-var-dims">(chain, draw, 1|edu:eth_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.444 1.782 ... -0.765 1.817</div><input id="attrs-b4996e78-86f2-4cd8-b6dd-e444b5a65eda" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b4996e78-86f2-4cd8-b6dd-e444b5a65eda" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-fc14ec76-8683-4fff-92ef-481bb3b05e11" class="xr-var-data-in" type="checkbox"><label for="data-fc14ec76-8683-4fff-92ef-481bb3b05e11" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 1.44358834,  1.78188384, -0.3140895 , ..., -1.70353938,
         -1.51594326,  0.13619058],
        [ 1.44358834,  1.78188384, -0.3140895 , ..., -1.70353938,
         -1.51594326,  0.13619058],
        [ 1.17256779,  1.37940198,  0.09445394, ..., -1.27980578,
         -1.10235072, -0.12960883],
        ...,
        [ 0.22817186, -2.29355524,  1.21622413, ...,  0.21409064,
          1.40904082,  2.58940913],
        [ 1.13859571, -1.02730924, -0.09432704, ...,  0.4263745 ,
          0.83989848,  2.32297436],
        [ 1.20247648, -0.21693643, -0.35129568, ...,  0.68524451,
          0.95222478,  1.48507414]],

       [[-1.09759564,  1.34260381, -0.71388256, ..., -1.21759091,
          1.95427275,  0.1335923 ],
        [-1.09759564,  1.34260381, -0.71388256, ..., -1.21759091,
          1.95427275,  0.1335923 ],
        [-1.31947569,  1.2015818 , -0.59328092, ..., -1.28976924,
          1.76558803,  0.04491539],
...
        [-1.1444141 , -0.98827778,  0.65455218, ...,  0.37755987,
         -1.40151706,  1.87303559],
        [ 1.74927511, -0.3606366 , -0.56677345, ..., -0.11671515,
          1.10394301,  1.21906373],
        [-1.00871338, -1.28078011,  1.50015663, ...,  0.59647944,
         -0.67371608,  0.4514342 ]],

       [[-0.0687315 ,  0.24114353, -1.00602106, ...,  1.14399771,
         -0.13716406,  0.44994605],
        [-0.0687315 ,  0.24114353, -1.00602106, ...,  1.14399771,
         -0.13716406,  0.44994605],
        [-0.13716768,  0.13189594, -1.23614932, ...,  0.99470055,
          0.00838824,  0.47072865],
        ...,
        [ 0.42372791,  0.21598527,  0.17775972, ..., -0.49084891,
         -0.12306211,  0.5570425 ],
        [ 0.00693822, -2.42175288, -0.10464558, ...,  1.13306058,
          0.40161278,  2.62168841],
        [-0.80003785, -1.02202843,  0.67516659, ...,  0.37221963,
         -0.76499699,  1.81682732]]], shape=(4, 1000, 20))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">3.4 3.4 2.434 ... 0.1439 0.2148</div><input id="attrs-818698e1-e5a9-4b54-a3a4-2e8593c04f4a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-818698e1-e5a9-4b54-a3a4-2e8593c04f4a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-2d872218-be87-4449-ad07-f673fd87f137" class="xr-var-data-in" type="checkbox"><label for="data-2d872218-be87-4449-ad07-f673fd87f137" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[3.39982226, 3.39982226, 2.43409832, ..., 0.1327177 , 0.08950519,
        0.11771773],
       [2.94300814, 2.94300814, 3.32859576, ..., 0.17159414, 0.08078945,
        0.09115935],
       [0.3416421 , 0.3416421 , 0.42488684, ..., 0.22939412, 0.15340315,
        0.31419936],
       [0.23591808, 0.23591808, 0.2232372 , ..., 0.2514691 , 0.14392624,
        0.21483413]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu_offset</span></div><div class="xr-var-dims">(chain, draw, 1|edu_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.6799 -0.6844 ... 2.152 -1.49</div><input id="attrs-1b3fcf41-227d-492c-ad5e-6723658f7b08" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-1b3fcf41-227d-492c-ad5e-6723658f7b08" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-afa12b48-3c66-4573-8df5-72b219a88331" class="xr-var-data-in" type="checkbox"><label for="data-afa12b48-3c66-4573-8df5-72b219a88331" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-6.79935877e-01, -6.84408955e-01,  1.59365968e+00,
          7.92140493e-01, -6.18473772e-03],
        [-6.79935877e-01, -6.84408955e-01,  1.59365968e+00,
          7.92140493e-01, -6.18473772e-03],
        [-1.09305519e+00, -3.41392211e-01,  1.10731435e+00,
          6.43737360e-01, -1.84907701e-01],
        ...,
        [ 1.15816502e-01,  3.64117553e-01,  4.78521421e-01,
         -3.95091176e-01,  1.34470320e-01],
        [-3.31028337e-01, -5.52540954e-02,  5.24320116e-01,
         -9.60232694e-01, -1.37144148e-01],
        [-1.75371893e-01,  2.93605514e-02,  1.44047545e-01,
         -4.36269895e-01, -7.69172279e-02]],

       [[ 1.61806159e+00,  1.79286740e+00,  1.54573293e+00,
         -7.01920512e-01,  1.33111758e+00],
        [ 1.61806159e+00,  1.79286740e+00,  1.54573293e+00,
         -7.01920512e-01,  1.33111758e+00],
        [ 1.47970882e+00,  1.53454918e+00,  1.55723103e+00,
         -6.28465213e-01,  1.22880413e+00],
...
        [-5.17364216e-01,  8.76813774e-01, -1.85970157e+00,
         -7.84438830e-01,  1.24563036e+00],
        [ 1.10720607e-01,  1.00951612e+00,  2.19785908e-03,
          3.99383423e-02, -6.91177056e-02],
        [-1.18266225e+00,  7.25895500e-01, -4.89571991e-02,
         -8.87131886e-01,  2.07018417e+00]],

       [[ 1.41498026e+00,  8.57629353e-01, -9.99644481e-01,
          1.64880866e+00, -2.12788773e+00],
        [ 1.41498026e+00,  8.57629353e-01, -9.99644481e-01,
          1.64880866e+00, -2.12788773e+00],
        [ 1.39117169e+00,  7.40003640e-01, -9.02709435e-01,
          1.50073062e+00, -2.32017906e+00],
        ...,
        [ 9.48002620e-01, -5.67396497e-01,  6.39786518e-01,
         -4.12647871e-01, -2.58774270e+00],
        [-6.27536039e-01,  2.27203639e+00,  1.72646246e-01,
          3.30741996e+00, -1.60296639e+00],
        [-4.72089868e-01,  2.70965145e+00, -2.50499836e-01,
          2.15224708e+00, -1.49040802e+00]]], shape=(4, 1000, 5))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|edu_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.923 1.923 ... 0.02619 0.04515</div><input id="attrs-e52aba87-f64d-4395-833d-3529fd5e3774" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-e52aba87-f64d-4395-833d-3529fd5e3774" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5921ca27-b716-48a6-8cf9-715966fb8a84" class="xr-var-data-in" type="checkbox"><label for="data-5921ca27-b716-48a6-8cf9-715966fb8a84" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.92258148, 1.92258148, 2.03860841, ..., 0.79197204, 0.61015705,
        1.34609022],
       [0.47593805, 0.47593805, 0.44675043, ..., 0.18640394, 0.22803854,
        0.30466096],
       [3.15137817, 3.15137817, 3.049039  , ..., 0.00522084, 0.01586651,
        0.00860991],
       [0.12569072, 0.12569072, 0.10984866, ..., 0.0200157 , 0.0261926 ,
        0.0451503 ]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth_offset</span></div><div class="xr-var-dims">(chain, draw, 1|eth_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-1.164 -0.7458 ... -0.1858 -1.456</div><input id="attrs-0e6a82b8-e957-4c98-aa42-208806229f60" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0e6a82b8-e957-4c98-aa42-208806229f60" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-70d852df-bcab-4e45-aaa9-e60cfd1b0b38" class="xr-var-data-in" type="checkbox"><label for="data-70d852df-bcab-4e45-aaa9-e60cfd1b0b38" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[-1.16423607, -0.7458115 , -1.71091637,  0.84569769],
        [-1.16423607, -0.7458115 , -1.71091637,  0.84569769],
        [-1.6805584 , -1.39265605, -1.39822273,  0.50515946],
        ...,
        [-1.78706275, -0.36278758, -0.74613155,  0.44885528],
        [-1.11690926,  0.00452115,  0.16627439,  0.77984695],
        [-1.70417429,  0.78811042,  0.71253183,  0.84317838]],

       [[ 0.33530368,  1.23202858, -1.89355075,  0.70002915],
        [ 0.33530368,  1.23202858, -1.89355075,  0.70002915],
        [ 0.20728239,  1.13354082, -1.81398765,  0.5699263 ],
        ...,
        [-1.39126029, -1.04293742, -0.17549371, -0.72012673],
        [-1.22717927, -0.97711633,  0.06983505, -1.02376793],
        [-1.58778742, -0.43288271, -0.04551575, -1.06405512]],

       [[-0.334924  ,  0.76886558, -1.25737908, -1.34129619],
        [-0.334924  ,  0.76886558, -1.25737908, -1.34129619],
        [-0.53626431,  1.21687794,  0.27810603, -1.27912712],
        ...,
        [-0.75266115, -0.29809349,  0.41913554, -0.1667127 ],
        [-0.77472939, -0.23572446, -0.08319828,  0.19420046],
        [-0.42365684,  0.17548603, -0.05446857,  0.44084516]],

       [[ 1.56784721,  0.15929714, -0.1720116 ,  0.88865306],
        [ 1.56784721,  0.15929714, -0.1720116 ,  0.88865306],
        [ 1.35437949,  0.19857634,  0.17339459,  0.75178772],
        ...,
        [-3.25323958, -0.67517452, -0.08829342, -1.73117769],
        [-1.0131411 , -1.10757146, -0.15901279, -1.35809749],
        [-0.56733943, -0.70313804, -0.18576981, -1.45609532]]],
      shape=(4, 1000, 4))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.2866 0.2866 ... 0.3137 0.4433</div><input id="attrs-55a0d276-40f0-438e-ad3e-ede81e31455d" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-55a0d276-40f0-438e-ad3e-ede81e31455d" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8cc97c0f-458e-44b3-b9b5-6594e057f1ed" class="xr-var-data-in" type="checkbox"><label for="data-8cc97c0f-458e-44b3-b9b5-6594e057f1ed" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.28658842, 0.28658842, 0.2044168 , ..., 0.31388123, 0.4135409 ,
        0.4770694 ],
       [0.85290821, 0.85290821, 0.76836297, ..., 0.31341053, 0.19105631,
        0.29057462],
       [1.90209977, 1.90209977, 1.70711999, ..., 0.58543312, 0.79502785,
        1.02221963],
       [0.16795377, 0.16795377, 0.15681596, ..., 0.24204904, 0.31368987,
        0.4433213 ]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth_offset</span></div><div class="xr-var-dims">(chain, draw, 1|male:eth_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.6706 -0.3828 ... -0.7867 0.919</div><input id="attrs-d295448b-df03-45bc-aaec-ef92900c7009" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-d295448b-df03-45bc-aaec-ef92900c7009" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-4c4974ae-afec-46d1-97cb-d1c7acf368f2" class="xr-var-data-in" type="checkbox"><label for="data-4c4974ae-afec-46d1-97cb-d1c7acf368f2" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 0.67057163, -0.38282787, -1.92864715, ...,  0.58750663,
         -1.15339175, -1.57570338],
        [ 0.67057163, -0.38282787, -1.92864715, ...,  0.58750663,
         -1.15339175, -1.57570338],
        [ 0.3198245 , -0.57849822, -1.70308278, ...,  0.70945675,
         -0.55956457, -1.99412672],
        ...,
        [ 0.23617281, -1.12068392,  0.45955454, ...,  0.79103077,
         -0.9808991 , -0.4587655 ],
        [ 0.60897805, -0.45938247,  0.18883163, ...,  1.19447145,
         -0.12878561, -0.68026181],
        [ 1.51613063, -0.41413169, -0.02970446, ..., -0.22280074,
         -0.74137946, -0.18064136]],

       [[ 1.08247912,  0.85950671, -0.92743118, ..., -1.53946097,
         -1.32494537, -0.5559548 ],
        [ 1.08247912,  0.85950671, -0.92743118, ..., -1.53946097,
         -1.32494537, -0.5559548 ],
        [ 0.9987628 ,  0.70358365, -0.77533989, ..., -1.43862678,
         -1.20037422, -0.44734798],
...
        [-0.31883389,  0.23839145, -0.44028795, ...,  1.73303938,
         -1.45333747, -0.28443378],
        [ 0.30045055, -0.02002226,  1.69398056, ..., -1.17483091,
          0.34217228, -0.48570567],
        [ 0.37034702, -0.34928659, -0.70996217, ...,  1.22835604,
         -0.79119053, -1.46678738]],

       [[ 0.68243096,  1.35181653,  0.44409381, ...,  0.36092888,
          0.85691157, -0.69123998],
        [ 0.68243096,  1.35181653,  0.44409381, ...,  0.36092888,
          0.85691157, -0.69123998],
        [ 0.70719832,  1.23008949,  0.23278259, ...,  0.26154587,
          0.72962884, -0.74513839],
        ...,
        [-0.49218514, -1.49285637,  0.01997551, ..., -0.14111163,
         -0.53292376,  1.32663378],
        [ 0.23977966,  1.26458124,  0.54516764, ...,  0.74745682,
          0.24040893,  0.78454126],
        [-0.33138344,  0.52250237,  0.10679882, ...,  0.76968037,
         -0.78674429,  0.91898486]]], shape=(4, 1000, 8))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|male:eth_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.5565 0.5565 ... 0.3144 0.4587</div><input id="attrs-610de0a7-c686-4ce2-bb0a-25ccb6fd52af" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-610de0a7-c686-4ce2-bb0a-25ccb6fd52af" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-8e38d322-efbe-47e9-a2f4-8999c6b61e8a" class="xr-var-data-in" type="checkbox"><label for="data-8e38d322-efbe-47e9-a2f4-8999c6b61e8a" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.55654638, 0.55654638, 0.47173424, ..., 0.14502639, 0.11510072,
        0.35397165],
       [5.92096708, 5.92096708, 5.30469133, ..., 0.28376172, 0.44457125,
        0.25405373],
       [2.84398156, 2.84398156, 2.69861033, ..., 0.24587144, 0.11621561,
        0.11500084],
       [0.49223971, 0.49223971, 0.44182216, ..., 0.28661462, 0.31435972,
        0.45866093]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state_offset</span></div><div class="xr-var-dims">(chain, draw, 1|state_offset_dim_0)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.328 1.512 ... 0.7377 -0.1718</div><input id="attrs-6128317c-2aff-4ba2-ab94-634a87108fb6" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-6128317c-2aff-4ba2-ab94-634a87108fb6" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-29425f5d-10b8-42bc-b0cb-5c589c5bbc82" class="xr-var-data-in" type="checkbox"><label for="data-29425f5d-10b8-42bc-b0cb-5c589c5bbc82" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[[ 1.32764977e+00,  1.51240388e+00,  7.38744287e-01, ...,
          1.51712510e+00, -9.55234167e-01, -1.32477381e+00],
        [ 1.32764977e+00,  1.51240388e+00,  7.38744287e-01, ...,
          1.51712510e+00, -9.55234167e-01, -1.32477381e+00],
        [ 1.19815751e+00,  1.07778935e+00,  1.73197696e-01, ...,
          1.12046093e+00, -4.47833064e-01, -1.01715084e+00],
        ...,
        [ 1.52811810e+00,  3.85987874e-01,  6.09365671e-01, ...,
         -8.03484486e-01,  1.06356820e+00,  1.10305668e+00],
        [-2.87006599e-01,  4.37404478e-01, -1.97034173e-01, ...,
         -6.18244363e-01,  1.32706091e+00,  1.28199453e+00],
        [-6.48598495e-01, -1.98493860e-01,  3.44015036e-01, ...,
         -6.62393772e-01,  3.05009346e-01,  1.51783908e+00]],

       [[ 3.99929191e-02,  1.14009809e-01, -2.26559882e-03, ...,
         -1.47190428e+00, -1.85196771e+00,  1.69641207e+00],
        [ 3.99929191e-02,  1.14009809e-01, -2.26559882e-03, ...,
         -1.47190428e+00, -1.85196771e+00,  1.69641207e+00],
        [ 8.51255720e-02, -2.00036421e-02, -2.57014718e-02, ...,
         -1.37853408e+00, -1.91445673e+00,  1.92665108e+00],
...
          5.12683584e-02,  6.59013542e-01,  3.66731795e-01],
        [-7.50212401e-01,  1.50119085e+00,  5.87311601e-01, ...,
         -1.31594922e-01,  2.81097129e+00, -5.01790444e-01],
        [ 1.54852717e+00,  5.60001907e-01,  4.11253345e-01, ...,
         -3.17406129e-02,  1.38807976e+00,  8.10677570e-01]],

       [[ 5.37297425e-01, -2.48550831e-01,  2.70162548e-01, ...,
          8.13976596e-01,  1.13454382e+00,  1.39958396e+00],
        [ 5.37297425e-01, -2.48550831e-01,  2.70162548e-01, ...,
          8.13976596e-01,  1.13454382e+00,  1.39958396e+00],
        [ 4.82238542e-01, -8.35327561e-02,  8.23319485e-01, ...,
          7.18426076e-01,  1.05092443e+00,  1.33024596e+00],
        ...,
        [-2.08706331e-01,  5.05488764e-01, -1.25808331e-01, ...,
          1.45668663e+00,  1.03769998e+00,  5.85423010e-01],
        [ 2.14996048e+00,  1.90346523e+00, -4.68219970e-01, ...,
         -2.26125772e+00,  1.62691117e+00, -1.89182626e-01],
        [ 1.74338111e+00,  1.46272570e+00,  6.77247764e-01, ...,
         -9.12021602e-01,  7.37728283e-01, -1.71831129e-01]]],
      shape=(4, 1000, 46))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>1|state_sigma</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.6829 0.6829 ... 0.2709 0.2371</div><input id="attrs-0f7b9319-e809-4c18-89b8-0ccbad2e827f" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-0f7b9319-e809-4c18-89b8-0ccbad2e827f" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-70a94cb4-ea45-4ba7-88c3-46228f23e65b" class="xr-var-data-in" type="checkbox"><label for="data-70a94cb4-ea45-4ba7-88c3-46228f23e65b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[0.68294453, 0.68294453, 0.47597338, ..., 0.3166898 , 0.26310342,
        0.23853477],
       [0.48732248, 0.48732248, 0.56707422, ..., 0.26024814, 0.32277951,
        0.32279895],
       [2.05568578, 2.05568578, 1.65932599, ..., 0.30970357, 0.21027966,
        0.31050671],
       [2.38824981, 2.38824981, 2.11596641, ..., 0.34811532, 0.27093666,
        0.23708151]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>Intercept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.71 1.71 1.28 ... -0.01795 0.1291</div><input id="attrs-b879adb1-ac38-4c02-937a-8d27c1407ca6" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-b879adb1-ac38-4c02-937a-8d27c1407ca6" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-10cf34a3-f555-4b2d-98ca-5835efe1956f" class="xr-var-data-in" type="checkbox"><label for="data-10cf34a3-f555-4b2d-98ca-5835efe1956f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 1.71028959,  1.71028959,  1.28005466, ..., -0.29997418,
        -0.12755291, -0.20893971],
       [ 1.74645266,  1.74645266,  1.60297339, ...,  0.11459596,
         0.07938967,  0.08932437],
       [ 0.08662674,  0.08662674,  0.13167436, ..., -0.00511883,
        -0.10603177, -0.28388583],
       [-1.64414654, -1.64414654, -1.78845943, ..., -0.02493661,
        -0.01795309,  0.12905368]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>male</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.447 1.447 1.303 ... 0.419 0.4612</div><input id="attrs-ad7400ef-21c5-4053-b03c-cc834d126cef" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ad7400ef-21c5-4053-b03c-cc834d126cef" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-b52eba34-e7ef-408d-9e8a-2e310c0ad079" class="xr-var-data-in" type="checkbox"><label for="data-b52eba34-e7ef-408d-9e8a-2e310c0ad079" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 1.44738757,  1.44738757,  1.3033607 , ...,  0.22013317,
         0.19386891,  0.18614108],
       [ 0.24508297,  0.24508297,  0.34051537, ...,  0.35577553,
         0.55212564,  0.28104772],
       [-0.7803069 , -0.7803069 , -0.44296594, ...,  0.06652206,
         0.37866062,  0.26965973],
       [ 0.25440362,  0.25440362,  0.45240137, ...,  0.22115184,
         0.41900722,  0.46124262]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>repvote</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-0.9648 -0.9648 ... -1.35 -1.736</div><input id="attrs-a637686a-118c-4645-9b5f-4e5d796571ff" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-a637686a-118c-4645-9b5f-4e5d796571ff" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3e6a1ccd-2fd2-4f7f-a9a0-8dcc310980b3" class="xr-var-data-in" type="checkbox"><label for="data-3e6a1ccd-2fd2-4f7f-a9a0-8dcc310980b3" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-0.96478962, -0.96478962, -1.5002596 , ..., -1.00577532,
        -0.82047131, -0.3934767 ],
       [-1.88419423, -1.88419423, -2.05791893, ..., -1.0962935 ,
        -0.88288692, -1.34401508],
       [-0.12793358, -0.12793358,  0.54299439, ..., -0.68627744,
        -1.8192177 , -1.72799597],
       [ 0.11495385,  0.11495385, -0.06781174, ..., -0.3260194 ,
        -1.35030456, -1.73640289]], shape=(4, 1000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-3de06be3-0de1-48d9-b51a-6cf906a0b6b0" class="xr-section-summary-in" type="checkbox"><label for="section-3de06be3-0de1-48d9-b51a-6cf906a0b6b0" class="xr-section-summary">Indexes: <span>(8)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-6ceaf7b3-b6fb-4ce6-8319-0aad7784b038" class="xr-index-data-in" type="checkbox"><label for="index-6ceaf7b3-b6fb-4ce6-8319-0aad7784b038" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-d538469f-4add-4e7f-afca-475a8789471d" class="xr-index-data-in" type="checkbox"><label for="index-d538469f-4add-4e7f-afca-475a8789471d" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,
       ...
       990, 991, 992, 993, 994, 995, 996, 997, 998, 999],
      dtype='int64', name='draw', length=1000))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|edu:age_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-8422ceac-7c54-486d-81a1-3950ffbdfc84" class="xr-index-data-in" type="checkbox"><label for="index-8422ceac-7c54-486d-81a1-3950ffbdfc84" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29],
      dtype='int64', name='1|edu:age_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|edu:eth_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-3b7d9bb2-42da-4686-8f2f-9862b2f64407" class="xr-index-data-in" type="checkbox"><label for="index-3b7d9bb2-42da-4686-8f2f-9862b2f64407" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19], dtype='int64', name='1|edu:eth_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|edu_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-518e9776-f8cc-496e-b1a4-f05bd2c8c0c4" class="xr-index-data-in" type="checkbox"><label for="index-518e9776-f8cc-496e-b1a4-f05bd2c8c0c4" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3, 4], dtype='int64', name='1|edu_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|eth_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-c6b74c53-b950-4bed-a454-92a729eed853" class="xr-index-data-in" type="checkbox"><label for="index-c6b74c53-b950-4bed-a454-92a729eed853" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='1|eth_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|male:eth_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-8396d3d6-d68a-4877-9c26-aeff91eaeed0" class="xr-index-data-in" type="checkbox"><label for="index-8396d3d6-d68a-4877-9c26-aeff91eaeed0" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3, 4, 5, 6, 7], dtype='int64', name='1|male:eth_offset_dim_0'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>1|state_offset_dim_0</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-b2d518b9-c844-4cd9-9957-3ecc67b5f3ae" class="xr-index-data-in" type="checkbox"><label for="index-b2d518b9-c844-4cd9-9957-3ecc67b5f3ae" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([ 0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, 17,
       18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,
       36, 37, 38, 39, 40, 41, 42, 43, 44, 45],
      dtype='int64', name='1|state_offset_dim_0'))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-3fb7cf71-a640-41db-95ca-a0e5be6139fa" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-3fb7cf71-a640-41db-95ca-a0e5be6139fa" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.648045+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
            <li class="xr-section-item">
                  <input id="idata_warmup_sample_stats765a7052-81a9-4d24-975c-15aad0d4e503" class="xr-section-summary-in" type="checkbox">
                  <label for="idata_warmup_sample_stats765a7052-81a9-4d24-975c-15aad0d4e503" class="xr-section-summary">warmup_sample_stats</label>
                  <div class="xr-section-inline-details"></div>
                  <div class="xr-section-details">
                      <ul id="xr-dataset-coord-list" class="xr-var-list">
                          <div style="padding-left:2rem;"><div><svg style="position: absolute; width: 0; height: 0; overflow: hidden">
<defs>
<symbol id="icon-database" viewbox="0 0 32 32">
<path d="M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z"></path>
<path d="M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
<path d="M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z"></path>
</symbol>
<symbol id="icon-file-text2" viewbox="0 0 32 32">
<path d="M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z"></path>
<path d="M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
<path d="M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z"></path>
</symbol>
</defs>
</svg>
<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme="dark"],
html[data-theme="dark"],
body[data-theme="dark"],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1f1f1f;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block !important;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: inline-block;
  opacity: 0;
  height: 0;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:focus + label {
  border: 2px solid var(--xr-font-color0);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: "►";
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: "▼";
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: "(";
}

.xr-dim-list:after {
  content: ")";
}

.xr-dim-list li:not(:last-child):after {
  content: ",";
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-index-preview {
  grid-column: 2 / 5;
  color: var(--xr-font-color2);
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data,
.xr-index-data-in:checked ~ .xr-index-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-index-name div,
.xr-index-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data,
.xr-index-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2,
.xr-no-icon {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
</style><pre class="xr-text-repr-fallback">&lt;xarray.Dataset&gt; Size: 336kB
Dimensions:               (chain: 4, draw: 1000)
Coordinates:
  * chain                 (chain) int64 32B 0 1 2 3
  * draw                  (draw) int64 8kB 0 1 2 3 4 5 ... 995 996 997 998 999
Data variables:
    depth                 (chain, draw) uint64 32kB 3 0 3 4 3 6 ... 5 5 4 4 5 5
    diverging             (chain, draw) bool 4kB False True ... False False
    energy                (chain, draw) float64 32kB 1.163e+04 ... 2.258e+03
    energy_error          (chain, draw) float64 32kB -12.69 0.0 ... -0.1273
    index_in_trajectory   (chain, draw) int64 32kB -5 0 4 -10 3 ... -14 0 25 -8
    logp                  (chain, draw) float64 32kB -8.802e+03 ... -2.197e+03
    maxdepth_reached      (chain, draw) bool 4kB False False ... False False
    mean_tree_accept      (chain, draw) float64 32kB 1.0 0.0 ... 0.9372 0.837
    mean_tree_accept_sym  (chain, draw) float64 32kB 0.2232 0.0 ... 0.8704
    n_steps               (chain, draw) uint64 32kB 7 1 7 15 7 ... 15 15 31 31
    step_size             (chain, draw) float64 32kB 1.439 0.2431 ... 0.1749
    step_size_bar         (chain, draw) float64 32kB 1.439 0.4998 ... 0.1749
Attributes:
    created_at:                  2025-04-12T20:47:44.482123+00:00
    arviz_version:               0.21.0
    modeling_interface:          bambi
    modeling_interface_version:  0.15.0</pre><div class="xr-wrap" style="display:none"><div class="xr-header"><div class="xr-obj-type">xarray.Dataset</div></div><ul class="xr-sections"><li class="xr-section-item"><input id="section-d474d5a0-8b45-421c-8344-b09774432851" class="xr-section-summary-in" type="checkbox" disabled=""><label for="section-d474d5a0-8b45-421c-8344-b09774432851" class="xr-section-summary" title="Expand/collapse section">Dimensions:</label><div class="xr-section-inline-details"><ul class="xr-dim-list"><li><span class="xr-has-index">chain</span>: 4</li><li><span class="xr-has-index">draw</span>: 1000</li></ul></div><div class="xr-section-details"></div></li><li class="xr-section-item"><input id="section-72963d61-87cb-4715-b1cd-ce16718fc1a2" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-72963d61-87cb-4715-b1cd-ce16718fc1a2" class="xr-section-summary">Coordinates: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">chain</span></div><div class="xr-var-dims">(chain)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3</div><input id="attrs-fa313a9c-a5b5-4074-99fa-4ab10a3a3866" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-fa313a9c-a5b5-4074-99fa-4ab10a3a3866" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-96df869b-5034-4e13-b93a-76b5d2b944f4" class="xr-var-data-in" type="checkbox"><label for="data-96df869b-5034-4e13-b93a-76b5d2b944f4" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([0, 1, 2, 3])</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span class="xr-has-index">draw</span></div><div class="xr-var-dims">(draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">0 1 2 3 4 5 ... 995 996 997 998 999</div><input id="attrs-889060c6-0a78-4a3e-8094-49258982ae1a" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-889060c6-0a78-4a3e-8094-49258982ae1a" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-f6f0c28e-a26a-4405-9c59-9923c06df8e7" class="xr-var-data-in" type="checkbox"><label for="data-f6f0c28e-a26a-4405-9c59-9923c06df8e7" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([  0,   1,   2, ..., 997, 998, 999], shape=(1000,))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-8d8643df-98d3-4065-aa12-bfccf00bfa46" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-8d8643df-98d3-4065-aa12-bfccf00bfa46" class="xr-section-summary">Data variables: <span>(12)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-var-name"><span>depth</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">3 0 3 4 3 6 6 9 ... 6 5 5 5 4 4 5 5</div><input id="attrs-25023ab1-4287-4eb9-b77b-3c8bf3e81105" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-25023ab1-4287-4eb9-b77b-3c8bf3e81105" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-c9dba2fb-ee71-4893-8c22-9c1fd692594f" class="xr-var-data-in" type="checkbox"><label for="data-c9dba2fb-ee71-4893-8c22-9c1fd692594f" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[3, 0, 3, ..., 5, 5, 5],
       [2, 0, 2, ..., 5, 5, 5],
       [4, 0, 3, ..., 5, 5, 5],
       [3, 0, 3, ..., 4, 5, 5]], shape=(4, 1000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>diverging</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False True False ... False False</div><input id="attrs-676ce7a0-8f8d-4ca0-adfe-f78fc5d535ce" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-676ce7a0-8f8d-4ca0-adfe-f78fc5d535ce" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-5eac879e-1b9e-4845-96b1-a3f9e63f45e5" class="xr-var-data-in" type="checkbox"><label for="data-5eac879e-1b9e-4845-96b1-a3f9e63f45e5" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False,  True, False, ..., False, False, False],
       [False,  True, False, ..., False, False, False],
       [False,  True, False, ..., False, False, False],
       [False,  True, False, ..., False, False, False]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.163e+04 8.876e+03 ... 2.258e+03</div><input id="attrs-4fb51897-cbcd-4153-874a-0e11ffaaf076" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-4fb51897-cbcd-4153-874a-0e11ffaaf076" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-e159f0a2-09a6-4412-85be-f2e828ca4943" class="xr-var-data-in" type="checkbox"><label for="data-e159f0a2-09a6-4412-85be-f2e828ca4943" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[11630.39659342,  8875.95400608,  8731.7105997 , ...,
         2250.83930412,  2243.96656194,  2243.24562894],
       [15508.82555299, 14799.0247763 , 14647.12376649, ...,
         2241.45380703,  2266.52538866,  2248.32629247],
       [19634.60905307,  6136.76898751,  6069.04618878, ...,
         2254.15195234,  2262.64088572,  2259.71541804],
       [ 8455.51551647,  5778.68271162,  5770.14323876, ...,
         2251.5893131 ,  2257.50973536,  2257.71825493]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>energy_error</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-12.69 0.0 ... 0.0964 -0.1273</div><input id="attrs-8e09f25c-0ad5-4414-9d6e-369837d962a9" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-8e09f25c-0ad5-4414-9d6e-369837d962a9" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3fae96fe-1e08-4a4c-aa3f-4876d365bd38" class="xr-var-data-in" type="checkbox"><label for="data-3fae96fe-1e08-4a4c-aa3f-4876d365bd38" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[-1.26874175e+01,  0.00000000e+00, -1.18235842e+02, ...,
        -1.87099748e-01, -4.61500536e-01,  6.16699716e-01],
       [-2.19738055e+00,  0.00000000e+00, -1.54099219e+02, ...,
         2.09381959e-02,  5.69970491e-02, -2.19654431e-01],
       [-6.50602947e+01,  0.00000000e+00, -5.99272334e+01, ...,
         1.43495268e-01,  3.57982356e-01, -5.12772453e-03],
       [-1.16804471e+01,  0.00000000e+00, -9.65278264e+00, ...,
         0.00000000e+00,  9.64028068e-02, -1.27309524e-01]],
      shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>index_in_trajectory</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">int64</div><div class="xr-var-preview xr-preview">-5 0 4 -10 3 -1 ... 10 -14 0 25 -8</div><input id="attrs-28045527-c69e-43e1-be97-d88137337370" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-28045527-c69e-43e1-be97-d88137337370" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-06bc9135-4784-481a-9db5-9fa74011920e" class="xr-var-data-in" type="checkbox"><label for="data-06bc9135-4784-481a-9db5-9fa74011920e" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ -5,   0,   4, ...,  23,  -6,  -9],
       [ -2,   0,   2, ...,  11,  14,  13],
       [-11,   0,  -3, ...,  22, -19, -18],
       [  6,   0,   5, ...,   0,  25,  -8]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>logp</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">-8.802e+03 ... -2.197e+03</div><input id="attrs-6cecc07e-971e-4c80-87cb-8d7fd98bb60b" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-6cecc07e-971e-4c80-87cb-8d7fd98bb60b" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-cbc5dfc5-3d21-41a4-9784-4073c5bde765" class="xr-var-data-in" type="checkbox"><label for="data-cbc5dfc5-3d21-41a4-9784-4073c5bde765" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ -8801.99773353,  -8801.99773353,  -3857.74954779, ...,
         -2191.20283656,  -2169.4019842 ,  -2195.28683531],
       [-14742.65778228, -14742.65778228, -11337.47783939, ...,
         -2187.16423116,  -2198.51860258,  -2183.51992171],
       [ -6073.03632037,  -6073.03632037,  -4087.85589492, ...,
         -2195.32950386,  -2199.74915674,  -2196.88935438],
       [ -5719.7057596 ,  -5719.7057596 ,  -4365.99102415, ...,
         -2181.86080397,  -2196.81183832,  -2197.07896621]],
      shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>maxdepth_reached</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">bool</div><div class="xr-var-preview xr-preview">False False False ... False False</div><input id="attrs-afdf49bb-2b99-42f3-a7c8-c191aac77135" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-afdf49bb-2b99-42f3-a7c8-c191aac77135" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-1d8da38a-9c59-4507-9032-8a90a5d219e1" class="xr-var-data-in" type="checkbox"><label for="data-1d8da38a-9c59-4507-9032-8a90a5d219e1" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False],
       [False, False, False, ..., False, False, False]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.0 0.0 1.0 ... 0.9372 0.837</div><input id="attrs-ecd3b6e3-3170-4591-998a-30c283283847" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-ecd3b6e3-3170-4591-998a-30c283283847" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-3b965c53-8539-4d5e-becc-5b6a4d8efb61" class="xr-var-data-in" type="checkbox"><label for="data-3b965c53-8539-4d5e-becc-5b6a4d8efb61" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.        , 0.        , 1.        , ..., 0.94820469, 0.6575515 ,
        0.38282188],
       [1.        , 0.        , 1.        , ..., 0.96535511, 0.86948813,
        0.99835153],
       [1.        , 0.        , 1.        , ..., 0.54108044, 0.75834751,
        0.97295798],
       [0.71632126, 0.        , 1.        , ..., 0.06437551, 0.93719768,
        0.83699878]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>mean_tree_accept_sym</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">0.2232 0.0 ... 0.9671 0.8704</div><input id="attrs-babedeb1-ada5-49d6-a2c6-0eedab08eb32" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-babedeb1-ada5-49d6-a2c6-0eedab08eb32" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-d36f0926-abc5-4dc5-9952-d7df83474e73" class="xr-var-data-in" type="checkbox"><label for="data-d36f0926-abc5-4dc5-9952-d7df83474e73" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[2.23182798e-01, 0.00000000e+00, 5.70036852e-05, ...,
        9.19227881e-01, 6.01457694e-01, 3.93897177e-01],
       [5.44861695e-01, 0.00000000e+00, 7.41236751e-08, ...,
        9.78589224e-01, 9.27714113e-01, 9.04122588e-01],
       [3.76669847e-02, 0.00000000e+00, 6.70633098e-12, ...,
        5.70272349e-01, 8.56619604e-01, 9.20436092e-01],
       [1.84135629e-01, 0.00000000e+00, 7.69498300e-02, ...,
        1.10110476e-01, 9.67128032e-01, 8.70411249e-01]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>n_steps</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">uint64</div><div class="xr-var-preview xr-preview">7 1 7 15 7 63 ... 31 42 15 15 31 31</div><input id="attrs-36c2663d-89e3-47ab-a4e1-025a70a01895" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-36c2663d-89e3-47ab-a4e1-025a70a01895" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-15306085-061c-4842-b2eb-164d0adedc1b" class="xr-var-data-in" type="checkbox"><label for="data-15306085-061c-4842-b2eb-164d0adedc1b" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[ 7,  1,  7, ..., 31, 31, 31],
       [ 3,  1,  3, ..., 31, 31, 31],
       [15,  1,  7, ..., 63, 31, 31],
       [ 7,  1,  7, ..., 15, 31, 31]], shape=(4, 1000), dtype=uint64)</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.439 0.2431 0.1 ... 0.1628 0.1749</div><input id="attrs-31ee3685-e041-4fbd-9de8-6ad70102c7dc" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-31ee3685-e041-4fbd-9de8-6ad70102c7dc" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-11222c89-04a0-449f-99db-f1595081ac65" class="xr-var-data-in" type="checkbox"><label for="data-11222c89-04a0-449f-99db-f1595081ac65" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.43855101, 0.24311673, 0.1       , ..., 0.18561769, 0.164043  ,
        0.19447538],
       [1.43855101, 0.24311673, 0.1       , ..., 0.12515236, 0.13571602,
        0.17929565],
       [1.43855101, 0.24311673, 0.1       , ..., 0.16715003, 0.17333772,
        0.17100847],
       [0.85886532, 0.12457457, 0.1       , ..., 0.14649379, 0.16281773,
        0.17490276]], shape=(4, 1000))</pre></div></li><li class="xr-var-item"><div class="xr-var-name"><span>step_size_bar</span></div><div class="xr-var-dims">(chain, draw)</div><div class="xr-var-dtype">float64</div><div class="xr-var-preview xr-preview">1.439 0.4998 ... 0.1749 0.1749</div><input id="attrs-198b7038-4192-4807-963c-23217147d359" class="xr-var-attrs-in" type="checkbox" disabled=""><label for="attrs-198b7038-4192-4807-963c-23217147d359" title="Show/Hide attributes"><svg class="icon xr-icon-file-text2"><use href="#icon-file-text2"></use></svg></label><input id="data-9cd9f68c-a641-46f9-94fe-c3c66c64caed" class="xr-var-data-in" type="checkbox"><label for="data-9cd9f68c-a641-46f9-94fe-c3c66c64caed" title="Show/Hide data repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-var-attrs"><dl class="xr-attrs"></dl></div><div class="xr-var-data"><pre>array([[1.43855101, 0.49983385, 0.42449831, ..., 0.19513229, 0.1949418 ,
        0.19447538],
       [1.43855101, 0.49983385, 0.42449831, ..., 0.17979539, 0.17951104,
        0.17929565],
       [1.43855101, 0.49983385, 0.42449831, ..., 0.17090807, 0.17092164,
        0.17100847],
       [0.85886532, 0.27249125, 0.21675445, ..., 0.17500014, 0.17492909,
        0.17490276]], shape=(4, 1000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-7afb6e2a-eb0b-4a8b-b8cc-12d1370febff" class="xr-section-summary-in" type="checkbox"><label for="section-7afb6e2a-eb0b-4a8b-b8cc-12d1370febff" class="xr-section-summary">Indexes: <span>(2)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><ul class="xr-var-list"><li class="xr-var-item"><div class="xr-index-name"><div>chain</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-8f472cc8-d793-4d85-a962-e38d52ba609c" class="xr-index-data-in" type="checkbox"><label for="index-8f472cc8-d793-4d85-a962-e38d52ba609c" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([0, 1, 2, 3], dtype='int64', name='chain'))</pre></div></li><li class="xr-var-item"><div class="xr-index-name"><div>draw</div></div><div class="xr-index-preview">PandasIndex</div><input type="checkbox" disabled=""><label></label><input id="index-eeb4b1db-cd51-458c-9bd8-0543543a37ca" class="xr-index-data-in" type="checkbox"><label for="index-eeb4b1db-cd51-458c-9bd8-0543543a37ca" title="Show/Hide index repr"><svg class="icon xr-icon-database"><use href="#icon-database"></use></svg></label><div class="xr-index-data"><pre>PandasIndex(Index([  0,   1,   2,   3,   4,   5,   6,   7,   8,   9,
       ...
       990, 991, 992, 993, 994, 995, 996, 997, 998, 999],
      dtype='int64', name='draw', length=1000))</pre></div></li></ul></div></li><li class="xr-section-item"><input id="section-04423732-cb89-4db5-bee2-084e1e663548" class="xr-section-summary-in" type="checkbox" checked=""><label for="section-04423732-cb89-4db5-bee2-084e1e663548" class="xr-section-summary">Attributes: <span>(4)</span></label><div class="xr-section-inline-details"></div><div class="xr-section-details"><dl class="xr-attrs"><dt><span>created_at :</span></dt><dd>2025-04-12T20:47:44.482123+00:00</dd><dt><span>arviz_version :</span></dt><dd>0.21.0</dd><dt><span>modeling_interface :</span></dt><dd>bambi</dd><dt><span>modeling_interface_version :</span></dt><dd>0.15.0</dd></dl></div></li></ul></div></div><br></div>
                      </ul>
                  </div>
            </li>
            
              </ul>
            </div>
            <style> /* CSS stylesheet for displaying InferenceData objects in jupyterlab.
 *
 */

:root {
  --xr-font-color0: var(--jp-content-font-color0, rgba(0, 0, 0, 1));
  --xr-font-color2: var(--jp-content-font-color2, rgba(0, 0, 0, 0.54));
  --xr-font-color3: var(--jp-content-font-color3, rgba(0, 0, 0, 0.38));
  --xr-border-color: var(--jp-border-color2, #e0e0e0);
  --xr-disabled-color: var(--jp-layout-color3, #bdbdbd);
  --xr-background-color: var(--jp-layout-color0, white);
  --xr-background-color-row-even: var(--jp-layout-color1, white);
  --xr-background-color-row-odd: var(--jp-layout-color2, #eeeeee);
}

html[theme=dark],
body.vscode-dark {
  --xr-font-color0: rgba(255, 255, 255, 1);
  --xr-font-color2: rgba(255, 255, 255, 0.54);
  --xr-font-color3: rgba(255, 255, 255, 0.38);
  --xr-border-color: #1F1F1F;
  --xr-disabled-color: #515151;
  --xr-background-color: #111111;
  --xr-background-color-row-even: #111111;
  --xr-background-color-row-odd: #313131;
}

.xr-wrap {
  display: block;
  min-width: 300px;
  max-width: 700px;
}

.xr-text-repr-fallback {
  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */
  display: none;
}

.xr-header {
  padding-top: 6px;
  padding-bottom: 6px;
  margin-bottom: 4px;
  border-bottom: solid 1px var(--xr-border-color);
}

.xr-header > div,
.xr-header > ul {
  display: inline;
  margin-top: 0;
  margin-bottom: 0;
}

.xr-obj-type,
.xr-array-name {
  margin-left: 2px;
  margin-right: 10px;
}

.xr-obj-type {
  color: var(--xr-font-color2);
}

.xr-sections {
  padding-left: 0 !important;
  display: grid;
  grid-template-columns: 150px auto auto 1fr 20px 20px;
}

.xr-sections.group-sections {
  grid-template-columns: auto;
}

.xr-section-item {
  display: contents;
}

.xr-section-item input {
  display: none;
}

.xr-section-item input + label {
  color: var(--xr-disabled-color);
}

.xr-section-item input:enabled + label {
  cursor: pointer;
  color: var(--xr-font-color2);
}

.xr-section-item input:enabled + label:hover {
  color: var(--xr-font-color0);
}

.xr-section-summary {
  grid-column: 1;
  color: var(--xr-font-color2);
  font-weight: 500;
}

.xr-section-summary > span {
  display: inline-block;
  padding-left: 0.5em;
}

.xr-section-summary-in:disabled + label {
  color: var(--xr-font-color2);
}

.xr-section-summary-in + label:before {
  display: inline-block;
  content: '►';
  font-size: 11px;
  width: 15px;
  text-align: center;
}

.xr-section-summary-in:disabled + label:before {
  color: var(--xr-disabled-color);
}

.xr-section-summary-in:checked + label:before {
  content: '▼';
}

.xr-section-summary-in:checked + label > span {
  display: none;
}

.xr-section-summary,
.xr-section-inline-details {
  padding-top: 4px;
  padding-bottom: 4px;
}

.xr-section-inline-details {
  grid-column: 2 / -1;
}

.xr-section-details {
  display: none;
  grid-column: 1 / -1;
  margin-bottom: 5px;
}

.xr-section-summary-in:checked ~ .xr-section-details {
  display: contents;
}

.xr-array-wrap {
  grid-column: 1 / -1;
  display: grid;
  grid-template-columns: 20px auto;
}

.xr-array-wrap > label {
  grid-column: 1;
  vertical-align: top;
}

.xr-preview {
  color: var(--xr-font-color3);
}

.xr-array-preview,
.xr-array-data {
  padding: 0 5px !important;
  grid-column: 2;
}

.xr-array-data,
.xr-array-in:checked ~ .xr-array-preview {
  display: none;
}

.xr-array-in:checked ~ .xr-array-data,
.xr-array-preview {
  display: inline-block;
}

.xr-dim-list {
  display: inline-block !important;
  list-style: none;
  padding: 0 !important;
  margin: 0;
}

.xr-dim-list li {
  display: inline-block;
  padding: 0;
  margin: 0;
}

.xr-dim-list:before {
  content: '(';
}

.xr-dim-list:after {
  content: ')';
}

.xr-dim-list li:not(:last-child):after {
  content: ',';
  padding-right: 5px;
}

.xr-has-index {
  font-weight: bold;
}

.xr-var-list,
.xr-var-item {
  display: contents;
}

.xr-var-item > div,
.xr-var-item label,
.xr-var-item > .xr-var-name span {
  background-color: var(--xr-background-color-row-even);
  margin-bottom: 0;
}

.xr-var-item > .xr-var-name:hover span {
  padding-right: 5px;
}

.xr-var-list > li:nth-child(odd) > div,
.xr-var-list > li:nth-child(odd) > label,
.xr-var-list > li:nth-child(odd) > .xr-var-name span {
  background-color: var(--xr-background-color-row-odd);
}

.xr-var-name {
  grid-column: 1;
}

.xr-var-dims {
  grid-column: 2;
}

.xr-var-dtype {
  grid-column: 3;
  text-align: right;
  color: var(--xr-font-color2);
}

.xr-var-preview {
  grid-column: 4;
}

.xr-var-name,
.xr-var-dims,
.xr-var-dtype,
.xr-preview,
.xr-attrs dt {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  padding-right: 10px;
}

.xr-var-name:hover,
.xr-var-dims:hover,
.xr-var-dtype:hover,
.xr-attrs dt:hover {
  overflow: visible;
  width: auto;
  z-index: 1;
}

.xr-var-attrs,
.xr-var-data {
  display: none;
  background-color: var(--xr-background-color) !important;
  padding-bottom: 5px !important;
}

.xr-var-attrs-in:checked ~ .xr-var-attrs,
.xr-var-data-in:checked ~ .xr-var-data {
  display: block;
}

.xr-var-data > table {
  float: right;
}

.xr-var-name span,
.xr-var-data,
.xr-attrs {
  padding-left: 25px !important;
}

.xr-attrs,
.xr-var-attrs,
.xr-var-data {
  grid-column: 1 / -1;
}

dl.xr-attrs {
  padding: 0;
  margin: 0;
  display: grid;
  grid-template-columns: 125px auto;
}

.xr-attrs dt,
.xr-attrs dd {
  padding: 0;
  margin: 0;
  float: left;
  padding-right: 10px;
  width: auto;
}

.xr-attrs dt {
  font-weight: normal;
  grid-column: 1;
}

.xr-attrs dt:hover span {
  display: inline-block;
  background: var(--xr-background-color);
  padding-right: 10px;
}

.xr-attrs dd {
  grid-column: 2;
  white-space: pre-wrap;
  word-break: break-all;
}

.xr-icon-database,
.xr-icon-file-text2 {
  display: inline-block;
  vertical-align: middle;
  width: 1em;
  height: 1.5em !important;
  stroke-width: 0;
  stroke: currentColor;
  fill: currentColor;
}
.xr-wrap{width:700px!important;} </style>
</div>
</div>
</section>
<section id="make-adjustments-by-state" class="level3">
<h3 class="anchored" data-anchor-id="make-adjustments-by-state">Make Adjustments by State</h3>
<p>We need to adjust each state specific strata by the weight appropriate for each state to post-stratify the estimates.To do so we extract the indices for each strata in our data on a state by state basis. Then we weight the predicted estimate by the appropriate percentage on a state basis and sum them to recover a state level estimate.</p>
<div id="cell-67" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>estimates <span class="op">=</span> []</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>abortion_posterior_base <span class="op">=</span> az.extract(result, num_samples<span class="op">=</span><span class="dv">2000</span>)[<span class="st">"p"</span>]</span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>abortion_posterior_mrp <span class="op">=</span> az.extract(result_adjust, num_samples<span class="op">=</span><span class="dv">2000</span>)[<span class="st">"p"</span>]</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> s <span class="kw">in</span> new_data[<span class="st">"state"</span>].unique():</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    idx <span class="op">=</span> new_data.index[new_data[<span class="st">"state"</span>] <span class="op">==</span> s].tolist()</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>    predicted_mrp <span class="op">=</span> (</span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>        ((abortion_posterior_mrp[idx].mean(dim<span class="op">=</span><span class="st">"sample"</span>) <span class="op">*</span> new_data.iloc[idx][<span class="st">"state_percent"</span>]))</span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        .<span class="bu">sum</span>()</span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>        .item()</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>    predicted_mrp_lb <span class="op">=</span> (</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a>        (</span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>            (</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>                abortion_posterior_mrp[idx].quantile(<span class="fl">0.025</span>, dim<span class="op">=</span><span class="st">"sample"</span>)</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>                <span class="op">*</span> new_data.iloc[idx][<span class="st">"state_percent"</span>]</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb49-19"><a href="#cb49-19" aria-hidden="true" tabindex="-1"></a>        .<span class="bu">sum</span>()</span>
<span id="cb49-20"><a href="#cb49-20" aria-hidden="true" tabindex="-1"></a>        .item()</span>
<span id="cb49-21"><a href="#cb49-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-22"><a href="#cb49-22" aria-hidden="true" tabindex="-1"></a>    predicted_mrp_ub <span class="op">=</span> (</span>
<span id="cb49-23"><a href="#cb49-23" aria-hidden="true" tabindex="-1"></a>        (</span>
<span id="cb49-24"><a href="#cb49-24" aria-hidden="true" tabindex="-1"></a>            (</span>
<span id="cb49-25"><a href="#cb49-25" aria-hidden="true" tabindex="-1"></a>                abortion_posterior_mrp[idx].quantile(<span class="fl">0.975</span>, dim<span class="op">=</span><span class="st">"sample"</span>)</span>
<span id="cb49-26"><a href="#cb49-26" aria-hidden="true" tabindex="-1"></a>                <span class="op">*</span> new_data.iloc[idx][<span class="st">"state_percent"</span>]</span>
<span id="cb49-27"><a href="#cb49-27" aria-hidden="true" tabindex="-1"></a>            )</span>
<span id="cb49-28"><a href="#cb49-28" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb49-29"><a href="#cb49-29" aria-hidden="true" tabindex="-1"></a>        .<span class="bu">sum</span>()</span>
<span id="cb49-30"><a href="#cb49-30" aria-hidden="true" tabindex="-1"></a>        .item()</span>
<span id="cb49-31"><a href="#cb49-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-32"><a href="#cb49-32" aria-hidden="true" tabindex="-1"></a>    predicted <span class="op">=</span> abortion_posterior_base[idx].mean().item()</span>
<span id="cb49-33"><a href="#cb49-33" aria-hidden="true" tabindex="-1"></a>    base_lb <span class="op">=</span> abortion_posterior_base[idx].quantile(<span class="fl">0.025</span>).item()</span>
<span id="cb49-34"><a href="#cb49-34" aria-hidden="true" tabindex="-1"></a>    base_ub <span class="op">=</span> abortion_posterior_base[idx].quantile(<span class="fl">0.975</span>).item()</span>
<span id="cb49-35"><a href="#cb49-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-36"><a href="#cb49-36" aria-hidden="true" tabindex="-1"></a>    estimates.append(</span>
<span id="cb49-37"><a href="#cb49-37" aria-hidden="true" tabindex="-1"></a>        [s, predicted, base_lb, base_ub, predicted_mrp, predicted_mrp_ub, predicted_mrp_lb]</span>
<span id="cb49-38"><a href="#cb49-38" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb49-39"><a href="#cb49-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-40"><a href="#cb49-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-41"><a href="#cb49-41" aria-hidden="true" tabindex="-1"></a>state_predicted <span class="op">=</span> pd.DataFrame(</span>
<span id="cb49-42"><a href="#cb49-42" aria-hidden="true" tabindex="-1"></a>    estimates,</span>
<span id="cb49-43"><a href="#cb49-43" aria-hidden="true" tabindex="-1"></a>    columns<span class="op">=</span>[<span class="st">"state"</span>, <span class="st">"base_expected"</span>, <span class="st">"base_lb"</span>, <span class="st">"base_ub"</span>, <span class="st">"mrp_adjusted"</span>, <span class="st">"mrp_ub"</span>, <span class="st">"mrp_lb"</span>],</span>
<span id="cb49-44"><a href="#cb49-44" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-45"><a href="#cb49-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-46"><a href="#cb49-46" aria-hidden="true" tabindex="-1"></a>state_predicted <span class="op">=</span> (</span>
<span id="cb49-47"><a href="#cb49-47" aria-hidden="true" tabindex="-1"></a>    state_predicted.merge(cces_all_df.groupby(<span class="st">"state"</span>)[[<span class="st">"abortion"</span>]].mean().reset_index())</span>
<span id="cb49-48"><a href="#cb49-48" aria-hidden="true" tabindex="-1"></a>    .sort_values(<span class="st">"mrp_adjusted"</span>)</span>
<span id="cb49-49"><a href="#cb49-49" aria-hidden="true" tabindex="-1"></a>    .rename({<span class="st">"abortion"</span>: <span class="st">"census_share"</span>}, axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb49-50"><a href="#cb49-50" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-51"><a href="#cb49-51" aria-hidden="true" tabindex="-1"></a>state_predicted.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="35">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">state</th>
<th data-quarto-table-cell-role="th">base_expected</th>
<th data-quarto-table-cell-role="th">base_lb</th>
<th data-quarto-table-cell-role="th">base_ub</th>
<th data-quarto-table-cell-role="th">mrp_adjusted</th>
<th data-quarto-table-cell-role="th">mrp_ub</th>
<th data-quarto-table-cell-role="th">mrp_lb</th>
<th data-quarto-table-cell-role="th">census_share</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">9</td>
<td>OK</td>
<td>0.287090</td>
<td>0.132526</td>
<td>0.462596</td>
<td>0.326511</td>
<td>0.416584</td>
<td>0.245737</td>
<td>0.321553</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">34</td>
<td>MS</td>
<td>0.378908</td>
<td>0.185678</td>
<td>0.581087</td>
<td>0.381865</td>
<td>0.495032</td>
<td>0.276797</td>
<td>0.374640</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>CO</td>
<td>0.359471</td>
<td>0.179086</td>
<td>0.544080</td>
<td>0.397966</td>
<td>0.482375</td>
<td>0.315880</td>
<td>0.354857</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">24</td>
<td>ME</td>
<td>0.359866</td>
<td>0.167999</td>
<td>0.567097</td>
<td>0.418089</td>
<td>0.535638</td>
<td>0.304914</td>
<td>0.403636</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25</td>
<td>MO</td>
<td>0.379362</td>
<td>0.186468</td>
<td>0.578759</td>
<td>0.421756</td>
<td>0.524727</td>
<td>0.321150</td>
<td>0.302954</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>This was the crucial step and we’ll need to unpack it a little. We have taken (state by state) each demographic strata and reweighted the expected posterior predictive value by the share that strata represents in the national census within that state. We have then aggregated this score within the state to generate a state specific value. This value can now be compared to the expected value derived from our biased data and, more interestingly, the value reported in the national census.</p>
</section>
<section id="plot-the-effect-of-adjustment" class="level3">
<h3 class="anchored" data-anchor-id="plot-the-effect-of-adjustment">Plot the Effect of Adjustment</h3>
<p>These adjusted estimates can be plotted against the shares ascribed at the state level in the census. These adjustments provide a far better reflection of the national picture than the ones derived from model fitted to the biased sample.</p>
<div id="cell-70" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">17</span>, <span class="dv">10</span>))</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>axs <span class="op">=</span> axs.flatten()</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> axs[<span class="dv">0</span>]</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> axs[<span class="dv">1</span>]</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>ax.scatter(</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>], state_predicted[<span class="st">"base_expected"</span>], color<span class="op">=</span><span class="st">"red"</span>, label<span class="op">=</span><span class="st">"Biased Sample"</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>ax.scatter(</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>],</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"mrp_adjusted"</span>],</span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"slateblue"</span>,</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"Mr P Adjusted"</span>,</span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>ax.scatter(</span>
<span id="cb50-15"><a href="#cb50-15" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>],</span>
<span id="cb50-16"><a href="#cb50-16" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"census_share"</span>],</span>
<span id="cb50-17"><a href="#cb50-17" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"darkgreen"</span>,</span>
<span id="cb50-18"><a href="#cb50-18" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"Census Aggregates"</span>,</span>
<span id="cb50-19"><a href="#cb50-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-20"><a href="#cb50-20" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb50-21"><a href="#cb50-21" aria-hidden="true" tabindex="-1"></a>ax.vlines(</span>
<span id="cb50-22"><a href="#cb50-22" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>],</span>
<span id="cb50-23"><a href="#cb50-23" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"mrp_adjusted"</span>],</span>
<span id="cb50-24"><a href="#cb50-24" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"census_share"</span>],</span>
<span id="cb50-25"><a href="#cb50-25" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"black"</span>,</span>
<span id="cb50-26"><a href="#cb50-26" aria-hidden="true" tabindex="-1"></a>    linestyles<span class="op">=</span><span class="st">"--"</span>,</span>
<span id="cb50-27"><a href="#cb50-27" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-28"><a href="#cb50-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-29"><a href="#cb50-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-30"><a href="#cb50-30" aria-hidden="true" tabindex="-1"></a>ax1.scatter(</span>
<span id="cb50-31"><a href="#cb50-31" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>], state_predicted[<span class="st">"base_expected"</span>], color<span class="op">=</span><span class="st">"red"</span>, label<span class="op">=</span><span class="st">"Biased Sample"</span></span>
<span id="cb50-32"><a href="#cb50-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-33"><a href="#cb50-33" aria-hidden="true" tabindex="-1"></a>ax1.scatter(</span>
<span id="cb50-34"><a href="#cb50-34" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>],</span>
<span id="cb50-35"><a href="#cb50-35" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"mrp_adjusted"</span>],</span>
<span id="cb50-36"><a href="#cb50-36" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"slateblue"</span>,</span>
<span id="cb50-37"><a href="#cb50-37" aria-hidden="true" tabindex="-1"></a>    label<span class="op">=</span><span class="st">"Mr P Adjusted"</span>,</span>
<span id="cb50-38"><a href="#cb50-38" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-39"><a href="#cb50-39" aria-hidden="true" tabindex="-1"></a>ax1.legend()</span>
<span id="cb50-40"><a href="#cb50-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-41"><a href="#cb50-41" aria-hidden="true" tabindex="-1"></a>ax1.vlines(</span>
<span id="cb50-42"><a href="#cb50-42" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>], state_predicted[<span class="st">"base_ub"</span>], state_predicted[<span class="st">"base_lb"</span>], color<span class="op">=</span><span class="st">"red"</span></span>
<span id="cb50-43"><a href="#cb50-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-44"><a href="#cb50-44" aria-hidden="true" tabindex="-1"></a>ax1.vlines(</span>
<span id="cb50-45"><a href="#cb50-45" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"state"</span>],</span>
<span id="cb50-46"><a href="#cb50-46" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"mrp_ub"</span>],</span>
<span id="cb50-47"><a href="#cb50-47" aria-hidden="true" tabindex="-1"></a>    state_predicted[<span class="st">"mrp_lb"</span>],</span>
<span id="cb50-48"><a href="#cb50-48" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">"slateblue"</span>,</span>
<span id="cb50-49"><a href="#cb50-49" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-50"><a href="#cb50-50" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">"State"</span>)</span>
<span id="cb50-51"><a href="#cb50-51" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">"Proportion"</span>)</span>
<span id="cb50-52"><a href="#cb50-52" aria-hidden="true" tabindex="-1"></a>ax1.set_title(</span>
<span id="cb50-53"><a href="#cb50-53" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Comparison of Uncertainty in Biased Predictions and Post-stratified Adjustment"</span>, fontsize<span class="op">=</span><span class="dv">15</span></span>
<span id="cb50-54"><a href="#cb50-54" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb50-55"><a href="#cb50-55" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">"Comparison of Post-stratified Adjustment and Census Report"</span>, fontsize<span class="op">=</span><span class="dv">15</span>)</span>
<span id="cb50-56"><a href="#cb50-56" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">"Proportion"</span>)<span class="op">;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="mister_p_files/figure-html/cell-35-output-1.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>In the top plot here we see the state specific MrP estimates for the proportion voting yes, compared to the estimate inferred from the biased sample and estimates from the national census. We can see how the MrP estimates are much closer to those drawn from the national census.</p>
<p>In the below plot we’ve shown the estimates from the MrP model and the estimates drawn from the biased sample, but here we’ve shown the uncertainty in the estimation on a state level. Clearly, the MrP adjustments also shrinks the uncertainty in our estimate of vote-share.</p>
<p>MrP is in this sense a corrective procedure for the avoidance of bias in sample data, where we have strong evidence for adjusting the weight accorded to any stratum of data in our population.</p>
</section>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>In this notebook we have seen how to use <code>bambi</code> to concisely and quickly apply the technique of multilevel regression and post-stratification. We’ve seen how this technique is a natural and compelling extension to regression modelling in general, that incorporates prior knowledge in an interesting and flexible manner.</p>
<p>The problems of representation in data are serious. Policy gets made and changed on the basis of anticipated policy effects. Without the ability to control and adjust for non-representative samples, politicians and policy makers risk prioritising initiatives for a vocal majority among the represented in the sample. The question of whether a given sample is “good” or “bad” cannot (at the time) ever be known, so some care needs to be taken when choosing to adjust your model of the data.</p>
<p>Predictions made from sample data are consequential. It’s not even an exaggeration to say that the fates of entire nations can hang on decisions made from poorly understood sampling procedures. Multilevel regression and post-stratification is an apt tool for making the adjustments required and guiding decisions makers in crucial policy choices, but it should be used carefully.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../notebooks/quantile_regression.html" class="pagination-link" aria-label="Quantile Regression">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Quantile Regression</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../notebooks/ordinal_regression.html" class="pagination-link" aria-label="Ordinal Regression">
        <span class="nav-page-text">Ordinal Regression</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>© Copyright 2024, The developers of Bambi.</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>