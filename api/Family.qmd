# Family { #bambi.Family }

```python
Family(name, likelihood, link)
```

A specification of model family

## Parameters {.doc-section .doc-section-parameters}

<code>[**name**]{.parameter-name} [:]{.parameter-annotation-sep} [[str](`str`)]{.parameter-annotation}</code>

:   The name of the family. It can be any string.

<code>[**likelihood**]{.parameter-name} [:]{.parameter-annotation-sep} [[Likelihood](`bambi.families.likelihood.Likelihood`)]{.parameter-annotation}</code>

:   A `bambi.families.Likelihood` instance specifying the model likelihood function.

<code>[**link**]{.parameter-name} [:]{.parameter-annotation-sep} [str or dict of str to (str or Link)]{.parameter-annotation}</code>

:   The link function that's used for every parameter in the likelihood function. Keys are the names of the parameters and values are the link functions. These can be a `str` with a name or a `bambi.families.Link` instance. The link function transforms the linear predictors.

## Examples {.doc-section .doc-section-examples}

```python
import bambi as bmb
```

Replicate the Gaussian built-in family.

```python
sigma_prior = bmb.Prior("HalfNormal", sigma=1)
likelihood = bmb.Likelihood("Gaussian", params=["mu", "sigma"], parent="mu")
family = bmb.Family("gaussian", likelihood, "identity")
bmb.Model("y ~ x", data, family=family, priors={"sigma": sigma_prior})
```

Replicate the Bernoulli built-in family.

```python
likelihood = bmb.Likelihood("Bernoulli", parent="p")
family = bmb.Family("bernoulli", likelihood, "logit")
bmb.Model("y ~ x", data, family=family)
```

## Attributes

| Name | Description |
| --- | --- |
| [auxiliary_parameters](#bambi.Family.auxiliary_parameters) | Get names of auxiliary parameters |

## Methods

| Name | Description |
| --- | --- |
| [log_likelihood](#bambi.Family.log_likelihood) | Evaluate the model log-likelihood |
| [posterior_predictive](#bambi.Family.posterior_predictive) | Get draws from the posterior predictive distribution |
| [set_default_priors](#bambi.Family.set_default_priors) | Set default priors for non-parent parameters |

### log_likelihood { #bambi.Family.log_likelihood }

```python
Family.log_likelihood(model, posterior, data, **kwargs)
```

Evaluate the model log-likelihood

This method uses `pm.logp()`.

#### Parameters {.doc-section .doc-section-parameters}

<code>[**model**]{.parameter-name} [:]{.parameter-annotation-sep} [[bambi](`bambi`).[Model](`bambi.Model`)]{.parameter-annotation}</code>

:   The model

<code>[**posterior**]{.parameter-name} [:]{.parameter-annotation-sep} [[xr](`xarray`).[Dataset](`xarray.Dataset`)]{.parameter-annotation}</code>

:   The xarray dataset that contains the draws for all the parameters in the posterior. It must contain the parameters that are needed in the distribution of the response, or the parameters that allow to derive them.

<code>[**data**]{.parameter-name} [:]{.parameter-annotation-sep} [[pd](`pd`).[DataFrame](`pd.DataFrame`) or None]{.parameter-annotation}</code>

:   A data frame with values for the predictors and the response on which the model's log-likelihood function is evaluated. If omitted, the original dataset is used.

<code>[**kwargs**]{.parameter-name} [:]{.parameter-annotation-sep} [[dict](`dict`)]{.parameter-annotation} [ = ]{.parameter-default-sep} [{}]{.parameter-default}</code>

:   Parameters that are used to get draws but do not appear in the posterior object or other configuration parameters. For instance, the 'n' in binomial models and multinomial models.

#### Returns {.doc-section .doc-section-returns}

<code>[]{.parameter-name} [:]{.parameter-annotation-sep} [[xr](`xarray`).[DataArray](`xarray.DataArray`)]{.parameter-annotation}</code>

:   A data array with the value of the log-likelihood for each chain, draw, and value of the response variable.

### posterior_predictive { #bambi.Family.posterior_predictive }

```python
Family.posterior_predictive(model, posterior, random_seed, **kwargs)
```

Get draws from the posterior predictive distribution

This function works for almost all the families. It grabs the draws for the parameters
needed in the response distribution, and then gets samples from the posterior predictive
distribution using `pm.draw()`. It won't work when the response distribution requires
parameters that are not available in `posterior`.

#### Parameters {.doc-section .doc-section-parameters}

<code>[**model**]{.parameter-name} [:]{.parameter-annotation-sep} [[bambi](`bambi`).[Model](`bambi.Model`)]{.parameter-annotation}</code>

:   The model

<code>[**posterior**]{.parameter-name} [:]{.parameter-annotation-sep} [[xr](`xarray`).[Dataset](`xarray.Dataset`)]{.parameter-annotation}</code>

:   The xarray dataset that contains the draws for all the parameters in the posterior. It must contain the parameters that are needed in the distribution of the response, or the parameters that allow to derive them.

<code>[**random_seed**]{.parameter-name} [:]{.parameter-annotation-sep} [([int](`int`), [RandomState](`RandomState`) or [Generator](`Generator`))]{.parameter-annotation}</code>

:   Seed for the random number generator.

<code>[**kwargs**]{.parameter-name} [:]{.parameter-annotation-sep} [[dict](`dict`)]{.parameter-annotation} [ = ]{.parameter-default-sep} [{}]{.parameter-default}</code>

:   Parameters that are used to get draws but do not appear in the posterior object or other configuration parameters. For instance, the 'n' in binomial models and multinomial models.

#### Returns {.doc-section .doc-section-returns}

<code>[]{.parameter-name} [:]{.parameter-annotation-sep} [[xr](`xarray`).[DataArray](`xarray.DataArray`)]{.parameter-annotation}</code>

:   A data array with the draws from the posterior predictive distribution.

### set_default_priors { #bambi.Family.set_default_priors }

```python
Family.set_default_priors(priors)
```

Set default priors for non-parent parameters

#### Parameters {.doc-section .doc-section-parameters}

<code>[**priors**]{.parameter-name} [:]{.parameter-annotation-sep} [[dict](`dict`)]{.parameter-annotation}</code>

:   The keys are the names of non-parent parameters and the values are their default priors.